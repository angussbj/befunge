{"version":3,"sources":["utilities/Coordinate.ts","utilities/range.ts","utilities/sorted.ts","domain/Befunge/Direction.ts","domain/Code.ts","utilities/constArray2.ts","domain/Befunge/Befunge.ts","domain/CodeEditor.ts","ui/Button.tsx","ui/Colors.ts","ui/Row.tsx","components/Grid/Square.tsx","components/Grid/Grid.tsx","utilities/modulo.ts","components/Stack.tsx","components/InputOutput/Input.tsx","components/InputOutput/InputOutput.tsx","ui/MiniButton.tsx","components/CodingSpace/ControlPanel/AsciiCalculator.tsx","components/CodingSpace/ControlPanel/ControlPanel.tsx","components/CodingSpace/CodingSpace.tsx","components/useBefunge.ts","components/SidebarContent/SquareBackground.tsx","components/SidebarContent/befungeCommands.tsx","components/SidebarContent/CommandRow.tsx","components/SidebarContent/SidebarContent.tsx","App.tsx","index.tsx"],"names":["Coordinate","x","y","this","other","range","start","count","step","Array","fill","map","sorted","arr","copy","sort","a","b","Direction","Code","width","height","code","resetPointWithEdits","resetPointWithoutEdits","value","constArray2","clone","setToCopy","cloneDeep","val","isResetable","withEdits","resetPoint","undefined","isEqual","DIRECTION_VECTOR","Left","Right","Up","Down","Befunge","render","cursor","direction","stack","output","stringMode","halted","limits","walkingDelay","walking","running","requestingInput","history","future","autoBind","push","createHistoryPoint","point","pop","revertToPoint","add","modulo","s","length","parseInt","charCodeAt","run","walk","makeResetable","recur","slowStep","setTimeout","renderPeriodically","i","quickStep","reset","execute","getCursorCharacter","moveCursor","get","command","isValidCommand","throwUnrecognisedCommand","toString","halt","Math","floor","Number","random","coord","equals","executionPut","String","fromCharCode","CodeEditor","executor","selection","selectionDelta","deleteMode","setHistoryPoint","undo","redo","event","shiftKey","set","buttons","document","activeElement","body","ctrlKey","metaKey","handleKeyboardShortcuts","key","match","handleDeletion","handleSelectionMovement","handleEnteredCharacter","onCopy","clearSelection","textToCopy","selectionForEach","cellAction","rowEndAction","clipboardData","setData","preventDefault","text","getData","pasteCoords","split","forEach","char","userPut","setX","fillSelection","stepSelection","movementDirection","slice","negative","directionVector","x0","x1","y0","y1","iterationCoord","Button","label","onClick","rest","variant","size","disableElevation","Colors","DARKER","Color","DARK","LIGHT","GREY","WRITING_CURSOR","EXECUTING_CURSOR","ACCENT_BLUE","ACCENT_ORANGE","Row","styled","div","BOTH_CURSORS","Square","selected","cursored","onMouseDown","onMouseOver","color","Background","Grid","e","editor","isSelectedX","useCallback","getSelectionCheckFunction","isSelectedY","style","overflow","marginRight","marginBottom","coordinate","delta","limit","sum","modSum","Stack","flex","backgroundColor","padding","scrollbarWidth","reverse","index","Input","submitInput","useState","input","setInput","TextField","onChange","target","marginLeft","InputOutput","OutputContainer","OutputInnerScrollingContainer","InputContainer","fontWeight","fade","MiniButton","disabled","finalColor","minWidth","maxWidth","minHeight","maxHeight","borderColor","AsciiCalculator","setChar","num","setNum","darkTheme","createTheme","palette","type","ThemeProvider","theme","justifyContent","charAt","marginTop","UnselectableText","n","replace","ControlPanel","befunge","Container","Column","pause","Text","DIRECTION_SYMBOL","getSelectedCharacter","increaseWalkingDelay","display","flexDirection","log2","decreaseWalkingDelay","CodingSpace","setRenderHelper","useRef","current","useEffect","addEventListener","onKeyDown","onCut","onPaste","removeEventListener","useBefunge","Label","flexGrow","acceptInput","SquareBackground","M","B","befungeCommands","alignItems","description","customCommandStyle","blacken","saturate","CommandRow","commandComponent","SidebarContent","onClose","IconButton","aria-label","position","top","right","fontSize","Title","className","href","App","sidebarOpen","setSidebarOpen","sidebar","open","onSetOpen","styles","background","content","overlay","bottom","pullRight","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fc467b00.chunk.js","sourcesContent":["export class Coordinate {\n  constructor(public x: number, public y: number) {}\n\n  set(x: number, y: number): Coordinate {\n    this.x = x;\n    this.y = y;\n    return this;\n  }\n\n  setToCopy(other: Coordinate): Coordinate {\n    this.x = other.x;\n    this.y = other.y;\n    return this;\n  }\n\n  setX(x: number): Coordinate {\n    this.x = x;\n    return this;\n  }\n\n  setY(y: number): Coordinate {\n    this.y = y;\n    return this;\n  }\n\n  add(other: Coordinate): Coordinate {\n    this.x += other.x;\n    this.y += other.y;\n    return this;\n  }\n\n  negative(): Coordinate {\n    this.x = -this.x;\n    this.y = -this.y;\n    return this;\n  }\n\n  modulo(other: Coordinate): Coordinate {\n    this.x = ((this.x % other.x) + other.x) % other.x;\n    this.y = ((this.y % other.y) + other.y) % other.y;\n    return this;\n  }\n\n  equals(other: Coordinate): boolean {\n    return this.x === other.x && this.y === other.y;\n  }\n\n  clone(): Coordinate {\n    return new Coordinate(this.x, this.y);\n  }\n\n  toString(): string {\n    return `(${this.x}, ${this.y})`;\n  }\n}\n","export function range(start: number, count: number, step = 1): number[] {\n  return count > 0\n    ? Array(count)\n        .fill(start)\n        .map((x, y) => x + step * y)\n    : [];\n}\n","export function sorted(arr: number[]): number[] {\n  const copy = [...arr];\n  copy.sort((a, b) => a - b);\n  return copy;\n}\n","import { Coordinate } from \"../../utilities\";\n\nexport enum Direction {\n  Left,\n  Right,\n  Up,\n  Down,\n}\n\nexport const DIRECTION_VECTOR = {\n  [Direction.Left]: new Coordinate(-1, 0),\n  [Direction.Right]: new Coordinate(1, 0),\n  [Direction.Up]: new Coordinate(0, -1),\n  [Direction.Down]: new Coordinate(0, 1),\n};\n\nexport type DirectionName = keyof typeof Direction;\n","import { cloneDeep, isEqual } from \"lodash\";\nimport { constArray2 } from \"../utilities\";\n\nexport class Code {\n  public code: string[][];\n  protected resetPointWithEdits?: string[][];\n  protected resetPointWithoutEdits?: string[][];\n\n  constructor(private width: number, private height: number) {\n    this.code = constArray2(width, height, \" \");\n  }\n\n  public clone(): Code {\n    const clone = new Code(this.width, this.height);\n    clone.setToCopy(this);\n    return clone;\n  }\n\n  public setToCopy(other: Code): void {\n    this.code = cloneDeep(other.code);\n    this.resetPointWithEdits = cloneDeep(other.resetPointWithEdits);\n    this.resetPointWithoutEdits = cloneDeep(other.resetPointWithoutEdits);\n  }\n\n  public get(x: number, y: number): string {\n    return this.code[x][y];\n  }\n\n  public userPut(x: number, y: number, val: string): void {\n    this.code[x][y] = val;\n    if (this.resetPointWithEdits) this.resetPointWithEdits[x][y] = val;\n  }\n\n  public executionPut(x: number, y: number, val: string): void {\n    this.code[x][y] = val;\n  }\n\n  public makeResetable(): void {\n    if (!this.isResetable()) {\n      this.resetPointWithEdits = cloneDeep(this.code);\n      this.resetPointWithoutEdits = cloneDeep(this.code);\n    }\n  }\n\n  public reset(withEdits: boolean): void {\n    const resetPoint = withEdits\n      ? this.resetPointWithEdits\n      : this.resetPointWithoutEdits;\n    if (resetPoint) this.code = resetPoint;\n    this.resetPointWithEdits = undefined;\n    this.resetPointWithoutEdits = undefined;\n  }\n\n  public resetRequiresClarification(): boolean {\n    return !isEqual(this.resetPointWithEdits, this.resetPointWithoutEdits);\n  }\n\n  private isResetable(): boolean {\n    return !!this.resetPointWithEdits;\n  }\n}\n","export function constArray2<T>(width: number, height: number, value: T): T[][] {\n  return Array(width)\n    .fill(false)\n    .map(() => Array(height).fill(value));\n}\n","import autoBind from \"auto-bind\";\nimport { Coordinate } from \"../../utilities\";\nimport { CommandChar } from \"./CommandChar\";\nimport { Code } from \"../Code\";\nimport { cloneDeep } from \"lodash\";\nimport { Direction, DIRECTION_VECTOR } from \"./Direction\";\n\ninterface BefungeHistoryPoint {\n  cursor: Coordinate;\n  direction: Direction;\n  stack: number[];\n  output: string;\n  stringMode: boolean;\n  halted: boolean;\n  code: Code;\n  walking: boolean;\n  running: boolean;\n}\n\nexport type InputRequestStatus = false | \"character\" | \"number\" | \"divideBy0\";\n\nexport class Befunge {\n  public cursor = new Coordinate(0, 0);\n  public direction = Direction.Right;\n  public stack: number[] = [];\n  public output = \"\";\n  public stringMode = false;\n  public halted = false;\n  public limits: Coordinate;\n  public code: Code;\n  public walkingDelay = 32;\n  public walking = false;\n  public running = false;\n  public requestingInput: InputRequestStatus = false;\n  private history: BefungeHistoryPoint[] = [];\n  private future: BefungeHistoryPoint[] = [];\n\n  constructor(width: number, height: number, private render: () => void) {\n    this.limits = new Coordinate(width, height);\n    this.code = new Code(width, height);\n    autoBind(this);\n  }\n\n  public setHistoryPoint(): void {\n    this.history.push(this.createHistoryPoint());\n    this.future = [];\n  }\n\n  public undo(): void {\n    this.future.push(this.createHistoryPoint());\n    const point = this.history.pop();\n    this.revertToPoint(point);\n  }\n\n  public redo(): void {\n    this.history.push(this.createHistoryPoint());\n    const point = this.future.pop();\n    this.revertToPoint(point);\n  }\n\n  private createHistoryPoint(): BefungeHistoryPoint {\n    return {\n      cursor: this.cursor.clone(),\n      direction: this.direction,\n      stack: cloneDeep(this.stack),\n      output: this.output,\n      stringMode: this.stringMode,\n      halted: this.halted,\n      code: this.code.clone(),\n      walking: this.walking,\n      running: this.running,\n    };\n  }\n\n  private revertToPoint(point?: BefungeHistoryPoint): void {\n    if (!point) return;\n    this.cursor.setToCopy(point.cursor);\n    this.direction = point.direction;\n    this.stack = cloneDeep(point.stack);\n    this.output = point.output;\n    this.stringMode = point.stringMode;\n    this.halted = point.halted;\n    this.code.setToCopy(point.code);\n    this.walking = point.walking;\n    this.running = point.running;\n  }\n\n  public moveCursor(): void {\n    this.cursor.add(DIRECTION_VECTOR[this.direction]);\n    this.cursor.modulo(this.limits);\n  }\n\n  public acceptInput(s: string): void {\n    if (s.length === 0) return;\n    if (\n      this.requestingInput === \"number\" ||\n      this.requestingInput === \"divideBy0\"\n    ) {\n      this.stack.push(parseInt(s, 10));\n    } else if (this.requestingInput === \"character\") {\n      this.stack.push(s.charCodeAt(0));\n    }\n    this.requestingInput = false;\n    this.render();\n    if (this.running) this.run();\n    if (this.walking) this.walk();\n  }\n\n  public walk(): void {\n    function recur(b: Befunge): () => void {\n      return (): void => {\n        if (b.walking && !b.requestingInput) {\n          b.slowStep();\n          setTimeout(recur(b), b.walkingDelay);\n        }\n      };\n    }\n\n    this.code.makeResetable();\n    this.walking = true;\n    this.running = false;\n    recur(this)();\n  }\n\n  public run(): void {\n    function recur(b: Befunge): () => void {\n      return (): void => {\n        for (let i = 0; i < 1000; i++) {\n          if (b.running && !b.requestingInput) b.quickStep();\n        }\n        if (b.running && !b.requestingInput) setTimeout(recur(b), 1);\n        else b.render();\n      };\n    }\n\n    function renderPeriodically(b: Befunge): () => void {\n      return (): void => {\n        b.render();\n        if (b.running && !b.requestingInput)\n          setTimeout(renderPeriodically(b), 1000);\n      };\n    }\n\n    this.code.makeResetable();\n    this.walking = false;\n    this.running = true;\n    renderPeriodically(this)();\n    recur(this)();\n  }\n\n  public pause(): void {\n    this.walking = false;\n    this.running = false;\n    this.render();\n  }\n\n  public reset(): void {\n    this.cursor = new Coordinate(0, 0);\n    this.direction = Direction.Right;\n    this.stack = [];\n    this.output = \"\";\n    this.halted = false;\n    this.stringMode = false;\n    this.walking = false;\n    this.running = false;\n    this.requestingInput = false;\n    this.code.reset(true);\n    this.render();\n  }\n\n  public step(): void {\n    if (this.halted || this.requestingInput) return;\n    this.code.makeResetable();\n    this.slowStep();\n  }\n\n  private quickStep(): void {\n    this.execute(this.getCursorCharacter());\n    this.moveCursor();\n  }\n\n  private slowStep(): void {\n    this.execute(this.getCursorCharacter());\n    this.moveCursor();\n    this.render();\n  }\n\n  public getCursorCharacter(): string {\n    return this.code.get(this.cursor.x, this.cursor.y);\n  }\n\n  public execute(command: string): void {\n    if (this.stringMode && command !== '\"')\n      this.stack.push(command.charCodeAt(0));\n    else if (this.isValidCommand(command)) this[command]();\n    else this.throwUnrecognisedCommand(command, this.cursor);\n  }\n\n  public isValidCommand(command: string): command is CommandChar {\n    return command in this;\n  }\n\n  private throwUnrecognisedCommand(command: string, cursor: Coordinate): void {\n    this.output += `\\nError: Unrecognised command \"${command}\" at ${cursor.toString()}`;\n    this.halt();\n  }\n\n  private halt(): void {\n    this.halted = true;\n    this.walking = false;\n    this.running = false;\n  }\n\n  // Instructions\n  private [\"0\"](): void {\n    this.stack.push(0);\n  }\n  private [\"1\"](): void {\n    this.stack.push(1);\n  }\n  private [\"2\"](): void {\n    this.stack.push(2);\n  }\n  private [\"3\"](): void {\n    this.stack.push(3);\n  }\n  private [\"4\"](): void {\n    this.stack.push(4);\n  }\n  private [\"5\"](): void {\n    this.stack.push(5);\n  }\n  private [\"6\"](): void {\n    this.stack.push(6);\n  }\n  private [\"7\"](): void {\n    this.stack.push(7);\n  }\n  private [\"8\"](): void {\n    this.stack.push(8);\n  }\n  private [\"9\"](): void {\n    this.stack.push(9);\n  }\n  private [\"+\"](): void {\n    this.stack.push((this.stack.pop() ?? 0) + (this.stack.pop() ?? 0));\n  }\n  private [\"-\"](): void {\n    this.stack.push(-(this.stack.pop() ?? 0) + (this.stack.pop() ?? 0));\n  }\n  private [\"/\"](): void {\n    const a = this.stack.pop() ?? 0;\n    const b = this.stack.pop() ?? 1;\n    if (a === 0) this.requestingInput = \"divideBy0\";\n    else this.stack.push(Math.floor(b / a));\n  }\n  private [\"*\"](): void {\n    this.stack.push((this.stack.pop() ?? 1) * (this.stack.pop() ?? 1));\n  }\n  private [\"%\"](): void {\n    const a = this.stack.pop() ?? 1;\n    const b = this.stack.pop() ?? 1;\n    this.stack.push(b % a);\n  }\n  private [\"!\"](): void {\n    this.stack.push(Number(!this.stack.pop()));\n  }\n  private [\"`\"](): void {\n    const a = this.stack.pop() ?? 0;\n    const b = this.stack.pop() ?? 0;\n    this.stack.push(Number(a < b));\n  }\n  private [\">\"](): void {\n    this.direction = Direction.Right;\n  }\n  private [\"<\"](): void {\n    this.direction = Direction.Left;\n  }\n  private [\"^\"](): void {\n    this.direction = Direction.Up;\n  }\n  private [\"v\"](): void {\n    this.direction = Direction.Down;\n  }\n  private [\"?\"](): void {\n    this.direction = Math.floor(Math.random() * 4);\n  }\n  private [\"_\"](): void {\n    this.direction = this.stack.pop() ? Direction.Left : Direction.Right;\n  }\n  private [\"|\"](): void {\n    this.direction = this.stack.pop() ? Direction.Up : Direction.Down;\n  }\n  private ['\"'](): void {\n    this.stringMode = !this.stringMode;\n  }\n  private [\":\"](): void {\n    this.stack.push(this.stack[this.stack.length - 1]);\n  }\n  private [\"\\\\\"](): void {\n    const a = this.stack.pop();\n    const b = this.stack.pop();\n    if (a !== undefined) this.stack.push(a);\n    if (b !== undefined) this.stack.push(b);\n  }\n  private [\"$\"](): void {\n    this.stack.pop();\n  }\n  private [\"#\"](): void {\n    this.moveCursor();\n  }\n  private [\"g\"](): void {\n    const y = this.stack.pop() ?? 0;\n    const x = this.stack.pop() ?? 0;\n    const coord = new Coordinate(x, y);\n    if (coord.clone().modulo(this.limits).equals(coord))\n      this.stack.push(this.code.get(x, y).charCodeAt(0));\n    else this.stack.push(0);\n  }\n  private [\"p\"](): void {\n    const y = this.stack.pop() ?? 0;\n    const x = this.stack.pop() ?? 0;\n    this.code.executionPut(x, y, String.fromCharCode(this.stack.pop() ?? 32)); // 32 is [space]\n  }\n  private [\".\"](): void {\n    this.output += (this.stack.pop() ?? 0).toString(10);\n  }\n  private [\",\"](): void {\n    const a = this.stack.pop();\n    if (a !== undefined) this.output += String.fromCharCode(a);\n  }\n  private [\"&\"](): void {\n    this.requestingInput = \"number\";\n  }\n  private [\"~\"](): void {\n    this.requestingInput = \"character\";\n  }\n  private [\"@\"](): void {\n    this.halt();\n  }\n  private [\" \"](): void {} // eslint-disable-line @typescript-eslint/no-empty-function\n\n  public increaseWalkingDelay(): void {\n    this.walkingDelay *= 2;\n    this.render();\n  }\n\n  public decreaseWalkingDelay(): void {\n    this.walkingDelay /= 2;\n    this.render();\n  }\n}\n","import { MouseEvent } from \"react\";\nimport { Coordinate, sorted } from \"../utilities\";\nimport autoBind from \"auto-bind\";\nimport { Code } from \"./Code\";\nimport { Befunge, Direction, DIRECTION_VECTOR, DirectionName } from \"./Befunge\";\n\ntype DeleteMode = \"delete\" | \"backspace\";\n\ninterface CodeEditorHistoryPoint {\n  selection: Coordinate;\n  selectionDelta: Coordinate;\n  direction: Direction;\n  deleteMode: DeleteMode;\n}\n\nexport class CodeEditor {\n  public selection = new Coordinate(0, 0);\n  public selectionDelta = new Coordinate(0, 0);\n  public direction = Direction.Right;\n  private deleteMode: DeleteMode = \"delete\";\n  private history: CodeEditorHistoryPoint[] = [];\n  private future: CodeEditorHistoryPoint[] = [];\n  public code: Code;\n  public limits: Coordinate;\n\n  constructor(private executor: Befunge, private render: () => void) {\n    this.code = executor.code;\n    this.limits = executor.limits;\n    autoBind(this);\n  }\n\n  public getSelectedCharacter(): string {\n    return this.code.get(this.selection.x, this.selection.y);\n  }\n\n  public setHistoryPoint(): void {\n    this.history.push(this.createHistoryPoint());\n    this.future = [];\n    this.executor.setHistoryPoint();\n  }\n\n  public undo(): void {\n    this.future.push(this.createHistoryPoint());\n    this.revertToPoint(this.history.pop());\n    this.executor.undo();\n    this.render();\n  }\n\n  public redo(): void {\n    this.history.push(this.createHistoryPoint());\n    this.revertToPoint(this.future.pop());\n    this.executor.redo();\n    this.render();\n  }\n\n  private createHistoryPoint(): CodeEditorHistoryPoint {\n    return {\n      selection: this.selection.clone(),\n      selectionDelta: this.selectionDelta.clone(),\n      direction: this.direction,\n      deleteMode: this.deleteMode,\n    };\n  }\n\n  private revertToPoint(point?: CodeEditorHistoryPoint): void {\n    if (!point) return;\n    this.selection = point.selection;\n    this.selectionDelta = point.selectionDelta;\n    this.direction = point.direction;\n    this.deleteMode = point.deleteMode;\n  }\n\n  public onMouseDown(x: number, y: number): (event: MouseEvent) => void {\n    return (event: MouseEvent): void => {\n      if (event.shiftKey) {\n        this.selectionDelta.set(x - this.selection.x, y - this.selection.y);\n      } else {\n        this.selection.set(x, y);\n        this.selectionDelta.set(0, 0);\n        this.deleteMode = \"delete\";\n        this.direction = Direction.Right;\n      }\n      this.render();\n    };\n  }\n\n  public onMouseOver(x: number, y: number): (event: MouseEvent) => void {\n    return (event: MouseEvent): void => {\n      if (event.buttons % 2 === 1) {\n        this.selectionDelta.set(x - this.selection.x, y - this.selection.y);\n        this.render();\n      }\n    };\n  }\n\n  public onKeyDown(event: KeyboardEvent): void {\n    if (document.activeElement !== document.body) return;\n    if (event.ctrlKey || event.metaKey) {\n      this.handleKeyboardShortcuts(event);\n    } else if (event.key.length === 1 && !event.ctrlKey && !event.metaKey) {\n      this.handleEnteredCharacter(event);\n    } else if (event.key.match(/^Arrow/) && !event.ctrlKey && !event.metaKey) {\n      this.handleSelectionMovement(event);\n    } else if (event.key === \"Backspace\") {\n      this.handleDeletion();\n    }\n    this.render();\n  }\n\n  public onCut(event: ClipboardEvent): void {\n    if (document.activeElement !== document.body) return;\n    this.setHistoryPoint();\n    this.onCopy(event);\n    this.clearSelection();\n    this.render();\n  }\n\n  public onCopy(event: ClipboardEvent): void {\n    if (document.activeElement !== document.body) return;\n    this.setHistoryPoint();\n    let textToCopy = \"\";\n    this.selectionForEach({\n      cellAction: (x: number, y: number): void => {\n        textToCopy += this.code.get(x, y);\n      },\n      rowEndAction: (): void => {\n        textToCopy += \"\\n\";\n      },\n    });\n    event.clipboardData?.setData(\"text/plain\", textToCopy);\n    event.preventDefault();\n  }\n\n  public onPaste(event: ClipboardEvent): void {\n    if (document.activeElement !== document.body) return;\n    this.setHistoryPoint();\n    const text = event.clipboardData?.getData(\"Text\");\n    const pasteCoords = new Coordinate(this.selection.x, this.selection.y);\n    text?.split(\"\").forEach((char: string) => {\n      if (char === \"\\n\") {\n        pasteCoords\n          .set(this.selection.x, pasteCoords.y + 1)\n          .modulo(this.limits);\n      } else {\n        this.code.userPut(pasteCoords.x, pasteCoords.y, char);\n        pasteCoords.setX(pasteCoords.x + 1).modulo(this.limits);\n      }\n    });\n    this.render();\n  }\n\n  private handleKeyboardShortcuts(event: KeyboardEvent): void {\n    if (event.key === \"a\") {\n      this.selection.set(0, 0);\n      this.selectionDelta.setToCopy(this.limits).add(new Coordinate(-1, -1));\n    } else if (event.key === \"z\" && !event.shiftKey) {\n      this.undo();\n    } else if ((event.key === \"z\" && event.shiftKey) || event.key === \"y\") {\n      this.redo();\n    } else {\n      return;\n    }\n    event.preventDefault();\n  }\n\n  private handleEnteredCharacter(event: KeyboardEvent): void {\n    this.setHistoryPoint();\n    this.fillSelection(event.key);\n    this.stepSelection(DIRECTION_VECTOR[this.direction]);\n    this.deleteMode = \"backspace\";\n    event.preventDefault();\n  }\n\n  private handleSelectionMovement(event: KeyboardEvent): void {\n    const movementDirection = Direction[event.key.slice(5) as DirectionName];\n    if (event.shiftKey) {\n      this.selectionDelta.add(DIRECTION_VECTOR[movementDirection]);\n    } else {\n      this.direction = movementDirection;\n      this.stepSelection(DIRECTION_VECTOR[this.direction]);\n      this.selectionDelta.set(0, 0);\n      event.preventDefault();\n    }\n    this.deleteMode = \"delete\";\n  }\n\n  private handleDeletion(): void {\n    this.setHistoryPoint();\n    if (this.deleteMode === \"backspace\") {\n      this.stepSelection(DIRECTION_VECTOR[this.direction].clone().negative());\n      this.clearSelection();\n    } else if (this.deleteMode === \"delete\") {\n      this.clearSelection();\n    }\n  }\n\n  private stepSelection(directionVector: Coordinate): void {\n    this.selection.add(directionVector).modulo(this.limits);\n  }\n\n  private clearSelection(): void {\n    this.fillSelection(\" \");\n  }\n\n  private fillSelection(char: string): void {\n    this.selectionForEach({\n      cellAction: (x: number, y: number): void => {\n        this.code.userPut(x, y, char);\n      },\n    });\n  }\n\n  private selectionForEach({\n    cellAction,\n    rowEndAction,\n  }: {\n    cellAction: (x: number, y: number) => void;\n    rowEndAction?: () => void;\n  }): void {\n    const [x0, x1] = sorted([\n      this.selection.x,\n      this.selection.x + this.selectionDelta.x,\n    ]);\n    const [y0, y1] = sorted([\n      this.selection.y,\n      this.selection.y + this.selectionDelta.y,\n    ]);\n    const iterationCoord = new Coordinate(0, 0);\n    for (let y = y0; y <= y1; y++) {\n      for (let x = x0; x <= x1; x++) {\n        iterationCoord.set(x, y).modulo(this.limits);\n        cellAction(iterationCoord.x, iterationCoord.y);\n      }\n      rowEndAction?.();\n    }\n  }\n}\n","import React from \"react\";\nimport MaterialButton from \"@material-ui/core/Button\";\n\ninterface Props {\n  label: React.ReactNode;\n  onClick: () => void;\n  disabled?: boolean;\n  style?: React.CSSProperties;\n  color?: \"primary\" | \"secondary\";\n  variant?: \"text\" | \"outlined\";\n  disableElevation?: boolean;\n}\n\nexport function Button({ label, onClick, ...rest }: Props): React.ReactElement {\n  return (\n    <MaterialButton\n      variant=\"contained\"\n      size=\"small\"\n      disableElevation\n      onClick={onClick}\n      {...rest}\n    >\n      {label}\n    </MaterialButton>\n  );\n}\n","import Color from \"color\";\n\nexport const Colors = {\n  DARKER: Color(\"#1d2426\"),\n  DARK: Color(\"#283134\"),\n  LIGHT: Color(\"#f7f9f9\"),\n  GREY: Color(\"#CCCCCC\"),\n  WRITING_CURSOR: Color(\"#CCEAFF\"),\n  EXECUTING_CURSOR: Color(\"#FFE0CC\"),\n  ACCENT_BLUE: Color(\"#5ed6ff\"),\n  ACCENT_ORANGE: Color(\"#FF875E\"),\n};\n","import styled from \"styled-components\";\n\nexport const Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`;\n","import React, { MouseEvent } from \"react\";\nimport styled from \"styled-components\";\nimport { Colors } from \"../../ui/Colors\";\n\nconst LIGHT = Colors.LIGHT.toString();\nconst BOTH_CURSORS = Colors.GREY.toString();\nconst WRITING_CURSOR = Colors.WRITING_CURSOR.toString();\nconst EXECUTING_CURSOR = Colors.EXECUTING_CURSOR.toString();\n\nexport function Square({\n  val,\n  selected,\n  cursored,\n  onMouseDown,\n  onMouseOver,\n}: {\n  val: string;\n  selected?: boolean;\n  cursored?: boolean;\n  onMouseDown?: (e: MouseEvent) => void;\n  onMouseOver?: (e: MouseEvent) => void;\n}): React.ReactElement {\n  const color = !(selected || cursored)\n    ? LIGHT\n    : selected && cursored\n    ? BOTH_CURSORS\n    : selected\n    ? WRITING_CURSOR\n    : EXECUTING_CURSOR;\n\n  return (\n    <Background\n      color={color}\n      onMouseDown={onMouseDown}\n      onMouseOver={onMouseOver}\n    >\n      {val}\n    </Background>\n  );\n}\n\nconst Background = styled.div<{ color: string }>`\n  width: 14px;\n  height: 14px;\n  font-size: 12px;\n  font-family: monospace;\n  background-color: ${({ color }): string => color};\n  border-right: 1px solid #bbbbbb;\n  border-bottom: 1px solid #bbbbbb;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n`;\n","import React, { useCallback } from \"react\";\nimport { Row } from \"../../ui\";\nimport { Square } from \"./Square\";\nimport { Coordinate, modulo, range } from \"../../utilities\";\nimport { CodeEditor } from \"../../domain/CodeEditor\";\n\nexport function Grid({\n  code,\n  cursor,\n  editor: e,\n}: {\n  code: string[][];\n  cursor: Coordinate;\n  editor: CodeEditor;\n}): React.ReactElement {\n  const isSelectedX = useCallback(\n    getSelectionCheckFunction(e.selection.x, e.selectionDelta.x, e.limits.x),\n    [e.selection.x, e.selectionDelta.x, e.limits.x]\n  );\n\n  const isSelectedY = useCallback(\n    getSelectionCheckFunction(e.selection.y, e.selectionDelta.y, e.limits.y),\n    [e.selection.y, e.selectionDelta.y, e.limits.y]\n  );\n\n  return (\n    <div style={{ overflow: \"hidden\" }}>\n      <div style={{ marginRight: -1, marginBottom: -1 }}>\n        {range(0, e.limits.y).map((y) => (\n          <Row key={y}>\n            {range(0, e.limits.x).map((x) => (\n              <Square\n                val={code[x][y]}\n                selected={isSelectedX(x) && isSelectedY(y)}\n                cursored={x === cursor.x && y === cursor.y}\n                onMouseDown={e.onMouseDown(x, y)}\n                onMouseOver={e.onMouseOver(x, y)}\n                key={`${x},${y}`}\n              />\n            ))}\n          </Row>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction getSelectionCheckFunction(\n  coordinate: number,\n  delta: number,\n  limit: number\n): (a: number) => boolean {\n  if (delta === 0) return (a: number): boolean => a === coordinate;\n  const sum = coordinate + delta;\n  const modSum = modulo(coordinate + delta, limit);\n  if (delta < 0) {\n    if (modSum === sum)\n      return (a: number): boolean => coordinate + delta <= a && a <= coordinate;\n    else return (a: number): boolean => a <= coordinate || a >= modSum;\n  } else {\n    if (modSum === sum)\n      return (a: number): boolean => coordinate <= a && a <= coordinate + delta;\n    else return (a: number): boolean => a <= modSum || a >= coordinate;\n  }\n}\n","export function modulo(a: number, b: number): number {\n  return ((a % b) + b) % b;\n}\n","import React from \"react\";\nimport { Colors } from \"../ui/Colors\";\n\ninterface Props {\n  stack: number[];\n  style?: React.CSSProperties;\n}\n\nexport function Stack({ stack, style }: Props): React.ReactElement {\n  return (\n    <div\n      style={{\n        width: 120,\n        flex: 1,\n        backgroundColor: Colors.LIGHT.toString(),\n        padding: 8,\n        overflow: \"scroll\",\n        scrollbarWidth: \"none\",\n        ...style,\n      }}\n    >\n      {stack\n        .slice()\n        .reverse()\n        .map((value, index) => (\n          <div key={index}>{value}</div>\n        ))}\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Button } from \"../../ui\";\nimport { TextField } from \"@material-ui/core\";\n\ninterface Props {\n  submitInput: (input: string) => void;\n}\n\nexport function Input({ submitInput }: Props): React.ReactElement {\n  const [input, setInput] = useState(\"\");\n\n  return (\n    <>\n      <TextField\n        value={input}\n        onChange={(e): void => {\n          setInput(e.target.value);\n        }}\n        style={{ marginLeft: 8, width: 80, height: 12 }}\n        size=\"small\"\n      />\n      <Button\n        label={\"Submit\"}\n        onClick={(): void => {\n          submitInput(input);\n          setInput(\"\");\n        }}\n        style={{ marginLeft: 8 }}\n        color=\"secondary\"\n        disableElevation={false}\n      />\n    </>\n  );\n}\n","import React from \"react\";\nimport { Colors } from \"../../ui\";\nimport { InputRequestStatus } from \"../../domain/index\";\nimport styled from \"styled-components\";\nimport { Input } from \"./Input\";\n\ninterface Props {\n  output: string;\n  requestingInput: InputRequestStatus;\n  submitInput: (input: string) => void;\n  style?: React.CSSProperties;\n}\n\nexport function InputOutput({\n  output,\n  requestingInput,\n  submitInput,\n}: Props): React.ReactElement {\n  return (\n    <>\n      <OutputContainer>\n        <OutputInnerScrollingContainer>\n          {output.split(\"\\n\").map((x, index) => (\n            <div key={index}>{x}</div>\n          ))}\n        </OutputInnerScrollingContainer>\n      </OutputContainer>\n      <InputContainer>\n        <div>\n          {requestingInput === \"character\" ? (\n            <div style={{ color: \"#000033\", fontWeight: 600 }}>\n              Please enter a character: <Input submitInput={submitInput} />\n            </div>\n          ) : requestingInput === \"number\" ? (\n            <div style={{ color: \"#000033\", fontWeight: 600 }}>\n              Please enter a number: <Input submitInput={submitInput} />\n            </div>\n          ) : requestingInput === \"divideBy0\" ? (\n            <div style={{ color: \"#000033\", fontWeight: 600 }}>\n              Division by 0. Please enter the result:{\" \"}\n              <Input submitInput={submitInput} />\n            </div>\n          ) : (\n            <div style={{ color: Colors.DARK.fade(0.3).toString() }}>\n              No input needed\n            </div>\n          )}\n        </div>\n      </InputContainer>\n    </>\n  );\n}\n\nconst OutputContainer = styled.div`\n  flex: 1;\n  height: 0px;\n  display: flex;\n`;\n\nconst OutputInnerScrollingContainer = styled.div`\n  flex: 1;\n  width: 0px;\n  background-color: ${Colors.LIGHT.toString()};\n  overflow: scroll;\n  scrollbar-width: thin;\n  flex-direction: column;\n  padding: 8px;\n`;\n\nconst InputContainer = styled.div`\n  background-color: ${Colors.LIGHT.toString()};\n  border-top: 1px solid ${Colors.GREY.toString()};\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  height: 48px;\n`;\n","import React from \"react\";\nimport { Colors } from \"./Colors\";\nimport { Button } from \"./Button\";\nimport Color from \"color\";\n\ninterface Props {\n  label: React.ReactNode;\n  onClick: () => void;\n  disabled?: boolean;\n  style?: React.CSSProperties;\n  color?: string;\n  disableElevation?: boolean;\n}\n\nexport function MiniButton({\n  label,\n  color,\n  disabled,\n  style,\n  ...rest\n}: Props): React.ReactElement {\n  const finalColor = (color ? Color(color) : Colors.LIGHT.fade(0.2))\n    .fade(disabled === true ? 0.6 : 0)\n    .toString();\n\n  return (\n    <Button\n      label={<div style={{ marginBottom: 2.4 }}>{label}</div>}\n      variant=\"outlined\"\n      style={{\n        minWidth: 16,\n        maxWidth: 16,\n        minHeight: 16,\n        maxHeight: 16,\n        color: finalColor,\n        borderColor: finalColor,\n        ...style,\n      }}\n      disabled={disabled}\n      {...rest}\n    />\n  );\n}\n","import { Colors, Row } from \"../../../ui\";\nimport React, { useState } from \"react\";\nimport { createTheme, TextField, ThemeProvider } from \"@material-ui/core\";\nimport styled from \"styled-components\";\n\nexport function AsciiCalculator(): React.ReactElement {\n  const [char, setChar] = useState(\"A\");\n  const [num, setNum] = useState(\"A\".charCodeAt(0).toString());\n\n  const darkTheme = createTheme({\n    palette: {\n      type: \"dark\",\n    },\n  });\n\n  return (\n    <ThemeProvider theme={darkTheme}>\n      <Row style={{ flex: 1, justifyContent: \"center\", marginBottom: 6 }}>\n        <TextField\n          value={char}\n          onChange={(e): void => {\n            const a = e.target.value.toString().charAt(0);\n            setChar(a);\n            setNum(a ? a.charCodeAt(0).toString() : \"\");\n          }}\n          style={{ width: 16, height: 10, marginTop: -16 }}\n          size=\"small\"\n        />\n        <UnselectableText style={{ marginLeft: 16 }}>α↔n</UnselectableText>\n        <TextField\n          value={num}\n          onChange={(e): void => {\n            const n = e.target.value.toString().replace(/[^0-9]/, \"\");\n            setNum(n);\n            setChar(String.fromCharCode(parseInt(n)));\n          }}\n          style={{\n            marginLeft: 16,\n            width: 52,\n            height: 12,\n            marginTop: -16,\n          }}\n          size=\"small\"\n        />\n      </Row>\n    </ThemeProvider>\n  );\n}\n\nconst UnselectableText = styled.div`\n  margin-bottom: 6px;\n  font-size: 11px;\n  color: ${Colors.LIGHT.fade(0.2).toString()};\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n`;\n","import { Button, Colors } from \"../../../ui\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { Befunge, Direction } from \"../../../domain/Befunge\";\nimport { CodeEditor } from \"../../../domain/CodeEditor\";\nimport { MiniButton } from \"../../../ui/MiniButton\";\nimport { AsciiCalculator } from \"./AsciiCalculator\";\n\nexport function ControlPanel({\n  befunge: b,\n  editor: e,\n}: {\n  befunge: Befunge;\n  editor: CodeEditor;\n}): React.ReactElement {\n  return (\n    <Container style={{ flex: 1 }}>\n      <Column>\n        <Button label={\"Step\"} onClick={b.step} />\n        <Button\n          label={b.walking ? \"Pause\" : \"Walk\"}\n          onClick={b.walking ? b.pause : b.walk}\n          style={{ marginTop: 8 }}\n        />\n        <Button\n          label={b.running ? \"Pause\" : \"Run\"}\n          onClick={b.running ? b.pause : b.run}\n          style={{ marginTop: 8 }}\n        />\n        <Button label={\"Reset\"} onClick={b.reset} style={{ marginTop: 8 }} />\n      </Column>\n      <Column style={{ marginLeft: 16 }}>\n        <Row>\n          <Text>Code input direction:</Text>\n          <Text style={{ marginLeft: 4, color: Colors.ACCENT_BLUE.toString() }}>\n            {DIRECTION_SYMBOL[e.direction]}\n          </Text>\n        </Row>\n        <Row>\n          <Text>Input cursor ascii:</Text>\n          <Text style={{ marginLeft: 4, color: Colors.ACCENT_BLUE.toString() }}>\n            {e.getSelectedCharacter().charCodeAt(0)}\n          </Text>\n        </Row>\n        <Row>\n          <Text>Execution direction:</Text>\n          <Text\n            style={{ marginLeft: 4, color: Colors.ACCENT_ORANGE.toString() }}\n          >\n            {DIRECTION_SYMBOL[b.direction]}\n          </Text>\n        </Row>\n        <Row>\n          <Text>Execution cursor ascii:</Text>\n          <Text\n            style={{ marginLeft: 4, color: Colors.ACCENT_ORANGE.toString() }}\n          >\n            {b.getCursorCharacter().charCodeAt(0)}\n          </Text>\n        </Row>\n        <Row>\n          <Text>String mode enabled:</Text>\n          <Text style={{ marginLeft: 4 }}>{b.stringMode ? \"Yes\" : \"No\"}</Text>\n        </Row>\n        <Row style={{ marginTop: 2, marginBottom: 2 }}>\n          <Text>Walking speed:</Text>\n          <Row style={{ marginLeft: 8 }}>\n            <MiniButton\n              label={\"-\"}\n              onClick={b.increaseWalkingDelay}\n              disabled={b.walkingDelay >= 4096}\n            />\n            <UnselectableText\n              style={{\n                width: 20,\n                display: \"flex\",\n                flexDirection: \"row\",\n                justifyContent: \"center\",\n              }}\n            >\n              {10 - Math.log2(b.walkingDelay)}\n            </UnselectableText>\n            <MiniButton\n              label={\"+\"}\n              onClick={b.decreaseWalkingDelay}\n              disabled={b.walkingDelay <= 1}\n            />\n          </Row>\n        </Row>\n        <Text>ASCII value calculator:</Text>\n        <Row>\n          <AsciiCalculator />\n        </Row>\n      </Column>\n    </Container>\n  );\n}\n\nconst DIRECTION_SYMBOL = {\n  [Direction.Left]: \"←\",\n  [Direction.Right]: \"→\",\n  [Direction.Up]: \"↑\",\n  [Direction.Down]: \"↓\",\n};\n\nconst Text = styled.div`\n  margin-bottom: 6px;\n  font-size: 11px;\n  color: ${Colors.LIGHT.fade(0.2).toString()};\n`;\n\nconst UnselectableText = styled.div`\n  margin-bottom: 6px;\n  font-size: 11px;\n  color: ${Colors.LIGHT.fade(0.2).toString()};\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n`;\n\nconst Column = styled.div`\n  align-self: stretch;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nconst Row = styled.div`\n  align-self: stretch;\n  justify-content: space-between;\n  display: flex;\n  flex-direction: row;\n`;\n\nconst Container = styled.div`\n  align-self: stretch;\n  display: flex;\n  flex-direction: row;\n  padding: 12px;\n  background-color: ${Colors.DARKER.toString()};\n  shadow: -2px 2px 4px rgba(0, 0, 0, 0.3);\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useBefunge } from \"../useBefunge\";\nimport { Grid } from \"../Grid\";\nimport { Stack } from \"../Stack\";\nimport { InputOutput } from \"../InputOutput\";\nimport { Row, Colors } from \"../../ui\";\nimport { ControlPanel } from \"./ControlPanel\";\n\nexport function CodingSpace(): React.ReactElement {\n  const width = 80;\n  const height = 25;\n  const { editor: e, befunge: b } = useBefunge(width, height);\n\n  return (\n    <Container>\n      <div>\n        <Label>Code editor</Label>\n        <Grid code={b.code.code} cursor={b.cursor} editor={e} />\n      </div>\n      <Row style={{ marginTop: 16, width: 15 * width, height: 220 }}>\n        <Column>\n          <Label>Stack</Label>\n          <Stack stack={b.stack} />\n        </Column>\n        <Column style={{ marginLeft: 16 }}>\n          <Label>Control panel</Label>\n          <ControlPanel befunge={b} editor={e} />\n        </Column>\n        <Column style={{ marginLeft: 16, flexGrow: 1 }}>\n          <Label>Input + output</Label>\n          <InputOutput\n            output={b.output}\n            requestingInput={b.requestingInput}\n            submitInput={b.acceptInput}\n          />\n        </Column>\n      </Row>\n    </Container>\n  );\n}\n\nconst Container = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Column = styled.div`\n  align-self: stretch;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Label = styled.div`\n  margin-bottom: 6px;\n  font-size: 11px;\n  color: ${Colors.LIGHT.fade(0.2).toString()};\n`;\n","import { useCallback, useRef, useState, useEffect } from \"react\";\nimport { Befunge, CodeEditor } from \"../domain\";\n\nexport function useBefunge(\n  width: number,\n  height: number\n): {\n  editor: CodeEditor;\n  befunge: Befunge;\n} {\n  const setRenderHelper = useState(0)[1];\n  const render = useCallback(() => {\n    setRenderHelper(Math.random());\n  }, []);\n\n  const b = useRef(new Befunge(width, height, render)).current;\n  const e = useRef(new CodeEditor(b, render)).current;\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", e.onKeyDown);\n    document.addEventListener(\"cut\", e.onCut);\n    document.addEventListener(\"copy\", e.onCopy);\n    document.addEventListener(\"paste\", e.onPaste);\n\n    // Default \"Hello, world!\" program\n    e.onPaste({clipboardData: {getData: (): string => \"v>v>v>v>v>v>v               \\n5 5 5 4 5 5 9               \\n6 7-7-2 7 7+8               \\n+ +7+22 + +1*               \\n3*9*9*2*9*9*>,,,,,,,,,,,,,,@\\n*:*:*:*4*9*:                \\n * +3+*+3+ *                \\n 5 6+6*6+7 5                \\n 2 5 5 5 5 2                \\n>^>^>^>^>^>^                \\n                            \\n                            \\n                            \\n!dlrow ,olleH               \\n\"}} as unknown as ClipboardEvent); // prettier-ignore\n\n    return (): void => {\n      document.removeEventListener(\"keydown\", e.onKeyDown);\n      document.removeEventListener(\"cut\", e.onCut);\n      document.removeEventListener(\"copy\", e.onCopy);\n      document.removeEventListener(\"paste\", e.onPaste);\n    };\n  }, []);\n\n  return {\n    editor: e,\n    befunge: b,\n  };\n}\n","import styled from \"styled-components\";\nimport { Colors } from \"../../ui\";\n\nexport const SquareBackground = styled.div`\n  width: 14px;\n  height: 14px;\n  font-size: 12px;\n  font-family: monospace;\n  background-color: ${Colors.LIGHT.toString()};\n  color: #000000;\n  border: 1px solid #bbbbbb;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n","import React from \"react\";\nimport { SquareBackground } from \"./SquareBackground\";\nimport styled from \"styled-components\";\nimport { Colors } from \"../../ui\";\n\nconst M = styled.text`\n  font-family: monospace;\n`;\n\nconst B = styled.text``;\n\nexport const befungeCommands = [\n  {\n    key: \"0\",\n\n    command: (\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          marginBottom: 8,\n        }}\n      >\n        <SquareBackground>0</SquareBackground>⋮\n        <SquareBackground>9</SquareBackground>\n      </div>\n    ),\n    description: (\n      <div style={{ marginTop: 8 }}>\n        Push the corresponding number onto the stack\n      </div>\n    ),\n    customCommandStyle: true,\n  },\n  {\n    key: \"+\",\n    command: \"+\",\n    description: (\n      <div>\n        <B>Addition:</B> pop two values <M>a</M> then <M>b</M>, then push the\n        result of <M>a + b</M>\n      </div>\n    ),\n  },\n  {\n    key: \"-\",\n    command: \"-\",\n    description: (\n      <div>\n        <B>Subtraction:</B> pop two values <M>a</M> then <M>b</M>, then push the\n        result of <M>b - a</M>\n      </div>\n    ),\n  },\n  {\n    key: \"*\",\n    command: \"*\",\n    description: (\n      <div>\n        <B>Multiplication:</B> pop two values <M>a</M> then <M>b</M>, then push\n        the result of <M>a * b</M>\n      </div>\n    ),\n  },\n  {\n    key: \"/\",\n    command: \"/\",\n    description: (\n      <div>\n        <B>Integer division:</B> pop two values <M>a</M> then <M>b</M>, then\n        push the result of <M>b / a</M>, rounded down. If a is zero, ask the\n        user what result they want.\n      </div>\n    ),\n  },\n  {\n    key: \"%\",\n    command: \"%\",\n    description: (\n      <div>\n        <B>Modulo:</B> pop two values <M>a</M> then <M>b</M>, then push the\n        remainder of the integer division of <M>b / a</M>.\n      </div>\n    ),\n  },\n  {\n    key: \"!\",\n    command: \"!\",\n    description: (\n      <div>\n        <B>Not:</B> pop a value. If the value is <M>0</M>, push <M>1</M>;\n        otherwise, push <M>0</M>.\n      </div>\n    ),\n  },\n  {\n    key: \"`\",\n    command: \"`\",\n    description: (\n      <div>\n        <B>Comparison:</B> pop two values <M>a</M> then <M>b</M>, then push{\" \"}\n        <M>1</M> if <M>b {\">\"} a</M>, otherwise <M>0</M>.\n      </div>\n    ),\n  },\n  { key: \">\", command: \">\", description: <div>Start moving right</div> },\n  { key: \"<\", command: \"<\", description: <div>Start moving left</div> },\n  { key: \"^\", command: \"^\", description: <div>Start moving up</div> },\n  { key: \"v\", command: \"v\", description: <div>Start moving down</div> },\n  {\n    key: \"?\",\n    command: \"?\",\n    description: <div>Start moving in a random cardinal direction</div>,\n  },\n  {\n    key: \"_\",\n    command: \"_\",\n    description: (\n      <div>\n        <B>Horizontal if:</B> pop a value; set direction to right if value is{\" \"}\n        <M>0</M>, set to left otherwise\n      </div>\n    ),\n  },\n  {\n    key: \"|\",\n    command: \"|\",\n    description: (\n      <div>\n        <B>Vertical if:</B> pop a value; set direction to down if value is{\" \"}\n        <M>0</M>, set to up otherwise\n      </div>\n    ),\n  },\n  {\n    key: '\"',\n    command: '\"',\n    description: (\n      <div>\n        <B>Toggle string-mode:</B> push each character&apos;s ASCII value all\n        the way up to the next <M>{'\"'}</M>\n      </div>\n    ),\n  },\n  { key: \":\", command: \":\", description: <div>Duplicate top stack value</div> },\n  { key: \"\\\\\", command: \"\\\\\", description: <div>Swap top stack values</div> },\n  {\n    key: \"$\",\n    command: \"$\",\n    description: <div>Pop (remove) top stack value and discard</div>,\n  },\n  {\n    key: \".\",\n    command: \".\",\n    description: (\n      <div>\n        <B>Integer output:</B> pop top of stack and output it as an integer\n      </div>\n    ),\n  },\n  {\n    key: \",\",\n    command: \",\",\n    description: (\n      <div>\n        <B>Character output:</B> pop top of stack and output its ASCII character\n      </div>\n    ),\n  },\n  {\n    key: \"&\",\n    command: \"&\",\n    description: (\n      <div>\n        <B>Integer input:</B> request an integer from the user and push it to\n        the stack\n      </div>\n    ),\n  },\n  {\n    key: \"~\",\n    command: \"~\",\n    description: (\n      <div>\n        <B>Character input:</B> request a character from the user and push it to\n        the stack\n      </div>\n    ),\n  },\n  {\n    key: \"#\",\n    command: \"#\",\n    description: (\n      <div>\n        <B>Bridge:</B> jump over next command in the current direction of\n        movement\n      </div>\n    ),\n  },\n  {\n    key: \"g\",\n    command: \"g\",\n    description: (\n      <div>\n        <B>Get:</B> a way to retrieve data in storage. Pop two values <M>y</M>{\" \"}\n        then <M>x</M>, then push the ASCII value of the character at that\n        position in the program. If <M>(x, y)</M> is out of bounds, push{\" \"}\n        <M>0</M>\n      </div>\n    ),\n  },\n  {\n    key: \"p\",\n    command: \"p\",\n    description: (\n      <div>\n        <B>Put:</B> a way to store a value for later use. Pop three values{\" \"}\n        <M>y</M>, then <M>x</M>, then <M>v</M>, then change the character at the\n        position <M>(x, y)</M> in the program to the character with ASCII value{\" \"}\n        <M>v</M>\n      </div>\n    ),\n  },\n  { key: \"@\", command: \"@\", description: <div>End program</div> },\n  {\n    key: \" \",\n    command: \" \",\n    description: (\n      <div>\n        <B>No-op:</B> does nothing. There is a space character in this location,\n        which has ASCII value 32\n      </div>\n    ),\n  },\n  {\n    key: \"blank 1\",\n    command: <div style={{ height: 12 }} />,\n    customCommandStyle: true,\n  },\n  {\n    key: \"execution cursor\",\n    command: (\n      <SquareBackground\n        style={{\n          backgroundColor: Colors.EXECUTING_CURSOR.blacken(1)\n            .saturate(1)\n            .toString(),\n        }}\n      />\n    ),\n    description: (\n      <div>\n        <B>Execution cursor:</B> the orange highlight marks the next command to\n        be executed\n      </div>\n    ),\n    customCommandStyle: true,\n  },\n  {\n    key: \"typing cursor\",\n    command: (\n      <SquareBackground\n        style={{\n          backgroundColor: Colors.WRITING_CURSOR.blacken(1)\n            .saturate(1)\n            .toString(),\n        }}\n      />\n    ),\n    description: (\n      <div>\n        <B>Code input cursor:</B> the blue highlight marks the square(s) you\n        edit when you type\n      </div>\n    ),\n    customCommandStyle: true,\n  },\n  {\n    key: \"both cursors\",\n    command: (\n      <SquareBackground\n        style={{\n          backgroundColor: Colors.GREY.blacken(1).saturate(1).toString(),\n        }}\n      />\n    ),\n    description: (\n      <div>\n        <B>Both cursors:</B> the execution and code input cursors are on top of\n        each other\n      </div>\n    ),\n    customCommandStyle: true,\n  },\n];\n","import { Row } from \"../../ui\";\nimport React from \"react\";\nimport { SquareBackground } from \"./SquareBackground\";\nimport \"./SidebarContent.css\";\n\ninterface Props {\n  command: React.ReactNode;\n  description?: React.ReactElement;\n  customCommandStyle?: boolean;\n  style: React.CSSProperties;\n}\n\nexport function CommandRow({\n  command,\n  description,\n  customCommandStyle,\n  style,\n}: Props): React.ReactElement {\n  const commandComponent = customCommandStyle ? (\n    command\n  ) : (\n    <SquareBackground style={{ marginTop: 0 }}>{command}</SquareBackground>\n  );\n\n  return (\n    <Row style={{ alignItems: \"flex-start\", ...style }}>\n      {commandComponent}\n      <div style={{ marginLeft: 12, flex: 1 }}>{description}</div>\n    </Row>\n  );\n}\n","import { Colors } from \"../../ui\";\nimport React from \"react\";\nimport { befungeCommands } from \"./befungeCommands\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { IconButton } from \"@material-ui/core\";\nimport \"./SidebarContent.css\";\nimport styled from \"styled-components\";\nimport { CommandRow } from \"./CommandRow\";\n\nexport function SidebarContent({\n  onClose,\n}: {\n  onClose: () => void;\n}): React.ReactElement {\n  return (\n    <Container>\n      <IconButton\n        aria-label=\"delete\"\n        style={{\n          position: \"absolute\",\n          top: 8,\n          right: 8,\n          color: Colors.ACCENT_BLUE.toString(),\n        }}\n        onClick={onClose}\n      >\n        <CloseIcon fontSize=\"small\" />\n      </IconButton>\n      <Title style={{ marginTop: 0 }}>Instructions</Title>\n      <p>\n        Try typing some commands into the text editor, then press step, walk, or\n        run to execute them.\n      </p>\n      <p>Pressing arrow keys changes the direction for typing.</p>\n      <Title>Befunge commands</Title>\n      {befungeCommands.map(\n        ({ command, description, customCommandStyle, key }) => (\n          <CommandRow\n            key={key}\n            style={{ marginTop: 6 }}\n            command={command}\n            description={description}\n            customCommandStyle={customCommandStyle}\n          />\n        )\n      )}\n      <Title>About Befunge</Title>\n      Befunge is a programming language invented in 1993 by Chris Pressey. For\n      more information see the Befunge pages on{\" \"}\n      <a className=\"link\" href={\"https://en.wikipedia.org/wiki/Befunge\"}>\n        Wikipedia\n      </a>{\" \"}\n      or{\" \"}\n      <a className=\"link\" href={\"https://esolangs.org/wiki/Befunge\"}>\n        Esolangs\n      </a>\n      .<Title>About this editor</Title>\n      This befunge interpreter was written by Angus Johnson. Please let me know\n      on{\" \"}\n      <a className=\"link\" href={\"https://github.com/angussbj/befunge/issues\"}>\n        Github\n      </a>{\" \"}\n      if you find are any issues.\n      <div style={{ fontSize: 10, marginTop: 8 }}>© Angus Johnson 2021</div>\n    </Container>\n  );\n}\n\nconst Title = styled.div`\n  margin-top: 24px;\n  margin-bottom: 12px;\n  color: ${Colors.LIGHT.toString()};\n  font-size: 18px;\n`;\n\nconst Container = styled.div`\n  padding: 24px;\n  width: 240px;\n  font-size: 12px;\n  color: ${Colors.LIGHT.fade(0.2).toString()};\n`;\n","import React, { useState } from \"react\";\nimport { CodingSpace } from \"./components/CodingSpace\";\nimport { Colors } from \"./ui\";\nimport Sidebar from \"react-sidebar\";\nimport { SidebarContent } from \"./components/SidebarContent\";\nimport { IconButton } from \"@material-ui/core\";\nimport InfoOutlinedIcon from \"@material-ui/icons/InfoOutlined\";\n\nfunction App(): React.ReactElement {\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n\n  return (\n    <div\n      style={{\n        backgroundColor: Colors.DARK.toString(),\n        minHeight: \"100vh\",\n      }}\n    >\n      <Sidebar\n        sidebar={<SidebarContent onClose={(): void => setSidebarOpen(false)} />}\n        open={sidebarOpen}\n        onSetOpen={setSidebarOpen}\n        styles={{\n          sidebar: { background: Colors.DARKER.toString() },\n          content: {\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n          },\n          overlay: {\n            bottom: undefined,\n            top: undefined,\n          },\n        }}\n        pullRight={true}\n      >\n        <IconButton\n          style={{\n            position: \"absolute\",\n            top: 8,\n            right: 8,\n            color: Colors.ACCENT_BLUE.toString(),\n          }}\n          onClick={(): void => setSidebarOpen(true)}\n        >\n          <InfoOutlinedIcon />\n        </IconButton>\n\n        <CodingSpace />\n      </Sidebar>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}