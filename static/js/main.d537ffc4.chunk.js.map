{"version":3,"sources":["utilities/Coordinate.ts","utilities/constArray2.ts","utilities/range.ts","domain/Code.ts","domain/Befunge/Befunge.ts","domain/CodeEditor.ts","ui/Button.tsx","ui/Colors.ts","ui/Row.tsx","ui/T.tsx","components/CodingSpace/Grid/Square.tsx","components/CodingSpace/Grid/Grid.tsx","components/CodingSpace/Grid/useBlink.ts","utilities/modulo.ts","components/Stack.tsx","components/InputOutput/Input.tsx","components/InputOutput/InputOutput.tsx","components/CodingSpace/ControlPanel/AsciiCalculator.tsx","ui/MiniButton.tsx","components/CodingSpace/ControlPanel/WalkingSpeedControl.tsx","ui/Checkbox.tsx","components/CodingSpace/ControlPanel/ExpandCollapseArrows.tsx","components/CodingSpace/ControlPanel/ControlPanel.tsx","components/CodingSpace/CodingSpace.tsx","components/useBefunge.ts","components/SidebarContent/SquareBackground.tsx","components/SidebarContent/befungeCommands.tsx","components/SidebarContent/CommandRow.tsx","components/SidebarContent/SidebarContent.tsx","App.tsx","index.tsx"],"names":["Direction","Coordinate","x","y","this","other","k","horizontalDirection","DIRECTION_VECTOR","Right","Left","verticalDirection","Down","Up","Math","abs","majorVector","majorMax","minorVector","minorMax","constArray2","width","height","value","Array","fill","map","range","start","count","step","Code","code","resetPointWithEdits","resetPointWithoutEdits","breakpoints","clone","setToCopy","cloneDeep","val","isResetable","withEdits","resetPoint","undefined","isEqual","Befunge","render","cursor","direction","stack","output","stringMode","halted","limits","walkingDelayIndex","walkingDelay","walking","running","requestingInput","history","future","autoBind","push","createHistoryPoint","point","pop","revertToPoint","add","modulo","s","length","parseInt","charCodeAt","run","walk","makeResetable","stepOver","recur","b","slowStep","setTimeout","renderPeriodically","i","quickStep","reset","cursorAtBreakpoint","pause","execute","getCursorCharacter","moveCursor","get","command","isValidCommand","throwUnrecognisedCommand","toString","halt","a","floor","Number","random","coord","equals","executionPut","String","fromCharCode","walkingDelays","CodeEditor","executor","selection","selectionDelta","deleteMode","hasFocus","useSelectionDirectionForCutCopyPaste","changeDirectionOnDirectionCharacters","setHistoryPoint","undo","redo","event","buttons","shiftKey","set","ctrlKey","metaKey","handleKeyboardShortcuts","key","handleEnteredCharacter","match","handleSelectionMovement","handleDeletion","onCopy","clearSelection","textToCopy","selectionForEach","cellAction","rowEndAction","directions","getMajorAndMinorDirections","clipboardData","setData","preventDefault","text","getData","pasteCoords","newLineCoord","getDefaultIterationDirections","split","forEach","char","userPut","slice","fillSelection","changeTypingDirectionIfNeeded","stepSelection","movementDirection","negative","directionVector","iterationCoord","minor","times","major","x0","min","y0","character","Button","label","onClick","rest","variant","size","disableElevation","Colors","DARKEST","Color","DARKER","DARK","LIGHT","GREY","ACCENT_BLUE","ACCENT_ORANGE","RED","Row","styled","div","T","color","unselectable","monospace","children","style","finalStyle","fade","fontSize","fontFamily","UnselectableText","Square","selected","selectionOpacity","cursored","isBreakpoint","onMouseDown","onMouseOver","onDoubleClick","mix","Background","Grid","e","editor","containerRef","useRef","useState","focused","setFocused","useEffect","current","focus","isSelectedX","useCallback","getSelectionCheckFunction","isSelectedY","enabled","blink","setBlink","interval","setInterval","clearInterval","useBlink","Container","ref","onFocus","onBlur","console","log","tabIndex","justifyContent","YNumberBox","XNumberBox","coordinate","delta","limit","sum","modSum","Stack","flex","backgroundColor","padding","overflow","scrollbarWidth","reverse","index","Input","submitInput","input","setInput","TextField","onChange","target","marginLeft","InputOutput","OutputContainer","OutputInnerScrollingContainer","InputContainer","fontWeight","AsciiCalculator","setChar","num","setNum","darkTheme","createTheme","palette","type","ThemeProvider","theme","marginBottom","charAt","marginTop","n","replace","MiniButton","disabled","finalColor","minWidth","maxWidth","minHeight","maxHeight","borderColor","WalkingSpeedControl","befunge","increaseWalkingDelay","display","flexDirection","decreaseWalkingDelay","Checkbox","object","renderHelper","setRenderHelper","margin","checked","icon","checkedIcon","ExpandCollapseArrows","columns","setColumns","showLeft","showRight","alignSelf","marginRight","paddingLeft","paddingRight","borderRadius","IconButton","aria-label","ControlPanel","Column","DIRECTION_SYMBOL","getSelectedCharacter","CodingSpace","document","addEventListener","onKeyDown","onCut","onPaste","removeEventListener","useBefunge","Label","flexGrow","acceptInput","SquareBackground","M","B","befungeCommands","alignItems","description","customCommandStyle","saturate","CommandRow","commandComponent","SidebarContent","onClose","position","top","right","Title","className","href","App","sidebarOpen","setSidebarOpen","sidebar","open","onSetOpen","styles","background","content","overlay","bottom","pullRight","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d537ffc4.chunk.js","sourcesContent":["export class Coordinate {\n  constructor(public x: number, public y: number) {}\n\n  set(x: number, y: number): Coordinate {\n    this.x = x;\n    this.y = y;\n    return this;\n  }\n\n  setToCopy(other: Coordinate): Coordinate {\n    this.x = other.x;\n    this.y = other.y;\n    return this;\n  }\n\n  setX(x: number): Coordinate {\n    this.x = x;\n    return this;\n  }\n\n  setY(y: number): Coordinate {\n    this.y = y;\n    return this;\n  }\n\n  add(other: Coordinate): Coordinate {\n    this.x += other.x;\n    this.y += other.y;\n    return this;\n  }\n\n  times(k: number): Coordinate {\n    this.x *= k;\n    this.y *= k;\n    return this;\n  }\n\n  negative(): Coordinate {\n    this.x = -this.x;\n    this.y = -this.y;\n    return this;\n  }\n\n  modulo(other: Coordinate): Coordinate {\n    this.x = ((this.x % other.x) + other.x) % other.x;\n    this.y = ((this.y % other.y) + other.y) % other.y;\n    return this;\n  }\n\n  equals(other: Coordinate): boolean {\n    return this.x === other.x && this.y === other.y;\n  }\n\n  clone(): Coordinate {\n    return new Coordinate(this.x, this.y);\n  }\n\n  toString(): string {\n    return `(${this.x}, ${this.y})`;\n  }\n\n  getMajorAndMinorDirections(): MajorMinorDirections {\n    const horizontalDirection =\n      this.x >= 0\n        ? DIRECTION_VECTOR[Direction.Right]\n        : DIRECTION_VECTOR[Direction.Left];\n    const verticalDirection =\n      this.y >= 0\n        ? DIRECTION_VECTOR[Direction.Down]\n        : DIRECTION_VECTOR[Direction.Up];\n    return Math.abs(this.x) >= Math.abs(this.y)\n      ? {\n          majorVector: horizontalDirection,\n          majorMax: Math.abs(this.x),\n          minorVector: verticalDirection,\n          minorMax: Math.abs(this.y),\n        }\n      : {\n          majorVector: verticalDirection,\n          majorMax: Math.abs(this.y),\n          minorVector: horizontalDirection,\n          minorMax: Math.abs(this.x),\n        };\n  }\n}\n\nexport interface MajorMinorDirections {\n  majorVector: Coordinate;\n  majorMax: number;\n  minorVector: Coordinate;\n  minorMax: number;\n}\n\nexport enum Direction {\n  Left,\n  Right,\n  Up,\n  Down,\n}\n\nexport const DIRECTION_VECTOR = {\n  [Direction.Left]: new Coordinate(-1, 0),\n  [Direction.Right]: new Coordinate(1, 0),\n  [Direction.Up]: new Coordinate(0, -1),\n  [Direction.Down]: new Coordinate(0, 1),\n};\n\nexport type DirectionName = keyof typeof Direction;\n","export function constArray2<T>(width: number, height: number, value: T): T[][] {\n  return Array(width)\n    .fill(false)\n    .map(() => Array(height).fill(value));\n}\n","export function range(start: number, count: number, step = 1): number[] {\n  return count > 0\n    ? Array(count)\n        .fill(start)\n        .map((x, y) => x + step * y)\n    : [];\n}\n","import { cloneDeep, isEqual } from \"lodash\";\nimport { constArray2 } from \"../utilities\";\n\nexport class Code {\n  public code: string[][];\n  protected resetPointWithEdits?: string[][];\n  protected resetPointWithoutEdits?: string[][];\n  public breakpoints: boolean[][];\n\n  constructor(private width: number, private height: number) {\n    this.code = constArray2(width, height, \" \");\n    this.breakpoints = constArray2(width, height, false);\n  }\n\n  public clone(): Code {\n    const clone = new Code(this.width, this.height);\n    clone.setToCopy(this);\n    return clone;\n  }\n\n  public setToCopy(other: Code): void {\n    this.code = cloneDeep(other.code);\n    this.resetPointWithEdits = cloneDeep(other.resetPointWithEdits);\n    this.resetPointWithoutEdits = cloneDeep(other.resetPointWithoutEdits);\n  }\n\n  public get(x: number, y: number): string {\n    return this.code[x][y];\n  }\n\n  public userPut(x: number, y: number, val: string): void {\n    this.code[x][y] = val;\n    if (this.resetPointWithEdits) this.resetPointWithEdits[x][y] = val;\n  }\n\n  public executionPut(x: number, y: number, val: string): void {\n    this.code[x][y] = val;\n  }\n\n  public makeResetable(): void {\n    if (!this.isResetable()) {\n      this.resetPointWithEdits = cloneDeep(this.code);\n      this.resetPointWithoutEdits = cloneDeep(this.code);\n    }\n  }\n\n  public reset(withEdits: boolean): void {\n    const resetPoint = withEdits\n      ? this.resetPointWithEdits\n      : this.resetPointWithoutEdits;\n    if (resetPoint) this.code = resetPoint;\n    this.resetPointWithEdits = undefined;\n    this.resetPointWithoutEdits = undefined;\n  }\n\n  public resetRequiresClarification(): boolean {\n    return !isEqual(this.resetPointWithEdits, this.resetPointWithoutEdits);\n  }\n\n  private isResetable(): boolean {\n    return !!this.resetPointWithEdits;\n  }\n}\n","import autoBind from \"auto-bind\";\nimport { CommandChar } from \"./CommandChar\";\nimport { Code } from \"../Code\";\nimport { cloneDeep } from \"lodash\";\nimport { Coordinate, Direction, DIRECTION_VECTOR } from \"../../utilities\";\n\ninterface BefungeHistoryPoint {\n  cursor: Coordinate;\n  direction: Direction;\n  stack: number[];\n  output: string;\n  stringMode: boolean;\n  halted: boolean;\n  code: Code;\n  walking: boolean;\n  running: boolean;\n}\n\nexport type InputRequestStatus = false | \"character\" | \"number\" | \"divideBy0\";\n\nexport class Befunge {\n  public cursor = new Coordinate(0, 0);\n  public direction = Direction.Right;\n  public stack: number[] = [];\n  public output = \"\";\n  public stringMode = false;\n  public halted = false;\n  public limits: Coordinate;\n  public code: Code;\n  public walkingDelayIndex = 2;\n  private walkingDelay = 32;\n  private static walkingDelays = [1, 64, 256, 1024, 2048];\n  public walking = false;\n  public running = false;\n  public requestingInput: InputRequestStatus = false;\n  private history: BefungeHistoryPoint[] = [];\n  private future: BefungeHistoryPoint[] = [];\n\n  constructor(width: number, height: number, private render: () => void) {\n    this.limits = new Coordinate(width, height);\n    this.code = new Code(width, height);\n    autoBind(this);\n  }\n\n  public setHistoryPoint(): void {\n    this.history.push(this.createHistoryPoint());\n    this.future = [];\n  }\n\n  public undo(): void {\n    this.future.push(this.createHistoryPoint());\n    const point = this.history.pop();\n    this.revertToPoint(point);\n  }\n\n  public redo(): void {\n    this.history.push(this.createHistoryPoint());\n    const point = this.future.pop();\n    this.revertToPoint(point);\n  }\n\n  private createHistoryPoint(): BefungeHistoryPoint {\n    return {\n      cursor: this.cursor.clone(),\n      direction: this.direction,\n      stack: cloneDeep(this.stack),\n      output: this.output,\n      stringMode: this.stringMode,\n      halted: this.halted,\n      code: this.code.clone(),\n      walking: this.walking,\n      running: this.running,\n    };\n  }\n\n  private revertToPoint(point?: BefungeHistoryPoint): void {\n    if (!point) return;\n    this.cursor.setToCopy(point.cursor);\n    this.direction = point.direction;\n    this.stack = cloneDeep(point.stack);\n    this.output = point.output;\n    this.stringMode = point.stringMode;\n    this.halted = point.halted;\n    this.code.setToCopy(point.code);\n    this.walking = point.walking;\n    this.running = point.running;\n  }\n\n  public moveCursor(): void {\n    this.cursor.add(DIRECTION_VECTOR[this.direction]);\n    this.cursor.modulo(this.limits);\n  }\n\n  public acceptInput(s: string): void {\n    if (s.length === 0) return;\n    if (\n      this.requestingInput === \"number\" ||\n      this.requestingInput === \"divideBy0\"\n    ) {\n      this.stack.push(parseInt(s, 10));\n    } else if (this.requestingInput === \"character\") {\n      this.stack.push(s.charCodeAt(0));\n    }\n    this.requestingInput = false;\n    this.render();\n    if (this.running) this.run();\n    if (this.walking) this.walk();\n  }\n\n  public walk(): void {\n    function recur(b: Befunge): () => void {\n      return (): void => {\n        if (b.walking && !b.requestingInput) {\n          b.slowStep();\n          setTimeout(recur(b), b.walkingDelay);\n        }\n      };\n    }\n\n    this.code.makeResetable();\n    this.walking = true;\n    this.running = false;\n    this.stepOver();\n    recur(this)();\n  }\n\n  public run(): void {\n    function recur(b: Befunge): () => void {\n      return (): void => {\n        for (let i = 0; i < 1000; i++) {\n          if (b.running && !b.requestingInput) b.quickStep();\n        }\n        if (b.running && !b.requestingInput) setTimeout(recur(b), 1);\n        else b.render();\n      };\n    }\n\n    function renderPeriodically(b: Befunge): () => void {\n      return (): void => {\n        b.render();\n        if (b.running && !b.requestingInput)\n          setTimeout(renderPeriodically(b), 1000);\n      };\n    }\n\n    this.code.makeResetable();\n    this.walking = false;\n    this.running = true;\n    this.stepOver();\n    renderPeriodically(this)();\n    recur(this)();\n  }\n\n  public pause(): void {\n    this.walking = false;\n    this.running = false;\n    this.render();\n  }\n\n  public reset(): void {\n    this.cursor = new Coordinate(0, 0);\n    this.direction = Direction.Right;\n    this.stack = [];\n    this.output = \"\";\n    this.halted = false;\n    this.stringMode = false;\n    this.walking = false;\n    this.running = false;\n    this.requestingInput = false;\n    this.code.reset(true);\n    this.render();\n  }\n\n  public step(): void {\n    if (this.halted || this.requestingInput) return;\n    this.code.makeResetable();\n    this.stepOver();\n  }\n\n  private quickStep(): void {\n    if (this.cursorAtBreakpoint()) this.pause();\n    else {\n      this.execute(this.getCursorCharacter());\n      this.moveCursor();\n    }\n  }\n\n  private slowStep(): void {\n    if (this.cursorAtBreakpoint()) this.pause();\n    else {\n      this.execute(this.getCursorCharacter());\n      this.moveCursor();\n      this.render();\n    }\n  }\n\n  private stepOver(): void {\n    this.execute(this.getCursorCharacter());\n    this.moveCursor();\n    this.render();\n  }\n\n  private cursorAtBreakpoint(): boolean {\n    return this.code.breakpoints[this.cursor.x][this.cursor.y];\n  }\n\n  public getCursorCharacter(): string {\n    return this.code.get(this.cursor.x, this.cursor.y);\n  }\n\n  public execute(command: string): void {\n    if (this.stringMode && command !== '\"')\n      this.stack.push(command.charCodeAt(0));\n    else if (this.isValidCommand(command)) this[command]();\n    else this.throwUnrecognisedCommand(command, this.cursor);\n  }\n\n  public isValidCommand(command: string): command is CommandChar {\n    return command in this;\n  }\n\n  private throwUnrecognisedCommand(command: string, cursor: Coordinate): void {\n    this.output += `\\nError: Unrecognised command \"${command}\" at ${cursor.toString()}`;\n    this.halt();\n  }\n\n  private halt(): void {\n    this.halted = true;\n    this.walking = false;\n    this.running = false;\n  }\n\n  // Instructions\n  private [\"0\"](): void {\n    this.stack.push(0);\n  }\n  private [\"1\"](): void {\n    this.stack.push(1);\n  }\n  private [\"2\"](): void {\n    this.stack.push(2);\n  }\n  private [\"3\"](): void {\n    this.stack.push(3);\n  }\n  private [\"4\"](): void {\n    this.stack.push(4);\n  }\n  private [\"5\"](): void {\n    this.stack.push(5);\n  }\n  private [\"6\"](): void {\n    this.stack.push(6);\n  }\n  private [\"7\"](): void {\n    this.stack.push(7);\n  }\n  private [\"8\"](): void {\n    this.stack.push(8);\n  }\n  private [\"9\"](): void {\n    this.stack.push(9);\n  }\n  private [\"+\"](): void {\n    this.stack.push((this.stack.pop() ?? 0) + (this.stack.pop() ?? 0));\n  }\n  private [\"-\"](): void {\n    this.stack.push(-(this.stack.pop() ?? 0) + (this.stack.pop() ?? 0));\n  }\n  private [\"/\"](): void {\n    const a = this.stack.pop() ?? 0;\n    const b = this.stack.pop() ?? 1;\n    if (a === 0) this.requestingInput = \"divideBy0\";\n    else this.stack.push(Math.floor(b / a));\n  }\n  private [\"*\"](): void {\n    this.stack.push((this.stack.pop() ?? 1) * (this.stack.pop() ?? 1));\n  }\n  private [\"%\"](): void {\n    const a = this.stack.pop() ?? 1;\n    const b = this.stack.pop() ?? 1;\n    this.stack.push(b % a);\n  }\n  private [\"!\"](): void {\n    this.stack.push(Number(!this.stack.pop()));\n  }\n  private [\"`\"](): void {\n    const a = this.stack.pop() ?? 0;\n    const b = this.stack.pop() ?? 0;\n    this.stack.push(Number(a < b));\n  }\n  private [\">\"](): void {\n    this.direction = Direction.Right;\n  }\n  private [\"<\"](): void {\n    this.direction = Direction.Left;\n  }\n  private [\"^\"](): void {\n    this.direction = Direction.Up;\n  }\n  private [\"v\"](): void {\n    this.direction = Direction.Down;\n  }\n  private [\"?\"](): void {\n    this.direction = Math.floor(Math.random() * 4);\n  }\n  private [\"_\"](): void {\n    this.direction = this.stack.pop() ? Direction.Left : Direction.Right;\n  }\n  private [\"|\"](): void {\n    this.direction = this.stack.pop() ? Direction.Up : Direction.Down;\n  }\n  private ['\"'](): void {\n    this.stringMode = !this.stringMode;\n  }\n  private [\":\"](): void {\n    this.stack.push(this.stack[this.stack.length - 1]);\n  }\n  private [\"\\\\\"](): void {\n    const a = this.stack.pop();\n    const b = this.stack.pop();\n    if (a !== undefined) this.stack.push(a);\n    if (b !== undefined) this.stack.push(b);\n  }\n  private [\"$\"](): void {\n    this.stack.pop();\n  }\n  private [\"#\"](): void {\n    this.moveCursor();\n  }\n  private [\"g\"](): void {\n    const y = this.stack.pop() ?? 0;\n    const x = this.stack.pop() ?? 0;\n    const coord = new Coordinate(x, y);\n    if (coord.clone().modulo(this.limits).equals(coord))\n      this.stack.push(this.code.get(x, y).charCodeAt(0));\n    else this.stack.push(0);\n  }\n  private [\"p\"](): void {\n    const y = this.stack.pop() ?? 0;\n    const x = this.stack.pop() ?? 0;\n    this.code.executionPut(x, y, String.fromCharCode(this.stack.pop() ?? 32)); // 32 is [space]\n  }\n  private [\".\"](): void {\n    this.output += (this.stack.pop() ?? 0).toString(10);\n  }\n  private [\",\"](): void {\n    const a = this.stack.pop();\n    if (a !== undefined) this.output += String.fromCharCode(a);\n  }\n  private [\"&\"](): void {\n    this.requestingInput = \"number\";\n  }\n  private [\"~\"](): void {\n    this.requestingInput = \"character\";\n  }\n  private [\"@\"](): void {\n    this.halt();\n  }\n  private [\" \"](): void {} // eslint-disable-line @typescript-eslint/no-empty-function\n\n  public increaseWalkingDelay(): void {\n    if (this.walkingDelayIndex < 4) {\n      this.walkingDelayIndex += 1;\n      this.walkingDelay = Befunge.walkingDelays[this.walkingDelayIndex];\n      this.render();\n    }\n  }\n\n  public decreaseWalkingDelay(): void {\n    if (this.walkingDelayIndex > 0) {\n      this.walkingDelayIndex -= 1;\n      this.walkingDelay = Befunge.walkingDelays[this.walkingDelayIndex];\n      this.render();\n    }\n  }\n}\n","import { MouseEvent } from \"react\";\nimport {\n  Coordinate,\n  Direction,\n  DIRECTION_VECTOR,\n  DirectionName,\n  MajorMinorDirections,\n} from \"../utilities\";\nimport autoBind from \"auto-bind\";\nimport { Code } from \"./Code\";\nimport { Befunge } from \"./Befunge\";\n\ntype DeleteMode = \"delete\" | \"backspace\";\n\ninterface CodeEditorHistoryPoint {\n  selection: Coordinate;\n  selectionDelta: Coordinate;\n  direction: Direction;\n  deleteMode: DeleteMode;\n}\n\nexport class CodeEditor {\n  public selection = new Coordinate(0, 0);\n  public selectionDelta = new Coordinate(0, 0);\n  public direction = Direction.Right;\n  private deleteMode: DeleteMode = \"delete\";\n  private history: CodeEditorHistoryPoint[] = [];\n  private future: CodeEditorHistoryPoint[] = [];\n  public code: Code;\n  public limits: Coordinate;\n\n  public hasFocus = false;\n  public useSelectionDirectionForCutCopyPaste = false;\n  public changeDirectionOnDirectionCharacters = false;\n\n  constructor(private executor: Befunge, private render: () => void) {\n    this.code = executor.code;\n    this.limits = executor.limits;\n    autoBind(this);\n  }\n\n  public getSelectedCharacter(): string {\n    return this.code.get(this.selection.x, this.selection.y);\n  }\n\n  public setHistoryPoint(): void {\n    this.history.push(this.createHistoryPoint());\n    this.future = [];\n    this.executor.setHistoryPoint();\n  }\n\n  public undo(): void {\n    this.future.push(this.createHistoryPoint());\n    this.revertToPoint(this.history.pop());\n    this.executor.undo();\n    this.render();\n  }\n\n  public redo(): void {\n    this.history.push(this.createHistoryPoint());\n    this.revertToPoint(this.future.pop());\n    this.executor.redo();\n    this.render();\n  }\n\n  private createHistoryPoint(): CodeEditorHistoryPoint {\n    return {\n      selection: this.selection.clone(),\n      selectionDelta: this.selectionDelta.clone(),\n      direction: this.direction,\n      deleteMode: this.deleteMode,\n    };\n  }\n\n  private revertToPoint(point?: CodeEditorHistoryPoint): void {\n    if (!point) return;\n    this.selection = point.selection;\n    this.selectionDelta = point.selectionDelta;\n    this.direction = point.direction;\n    this.deleteMode = point.deleteMode;\n  }\n\n  public onMouseDown(x: number, y: number): (event: MouseEvent) => void {\n    return (event: MouseEvent): void => {\n      if (event.buttons % 2 === 1) {\n        if (event.shiftKey) {\n          this.selectionDelta.set(x - this.selection.x, y - this.selection.y);\n        } else {\n          this.selection.set(x, y);\n          this.selectionDelta.set(0, 0);\n          this.deleteMode = \"delete\";\n          this.direction = Direction.Right;\n        }\n        this.render();\n      }\n    };\n  }\n\n  public onDoubleClick(x: number, y: number): () => void {\n    return (): void => {\n      this.code.breakpoints[x][y] = !this.code.breakpoints[x][y];\n      this.render();\n    };\n  }\n\n  public onMouseOver(x: number, y: number): (event: MouseEvent) => void {\n    return (event: MouseEvent): void => {\n      if (event.buttons % 2 === 1) {\n        this.selectionDelta.set(x - this.selection.x, y - this.selection.y);\n        this.render();\n      }\n    };\n  }\n\n  public onKeyDown(event: KeyboardEvent): void {\n    if (!this.hasFocus) return;\n    if (event.ctrlKey || event.metaKey) {\n      this.handleKeyboardShortcuts(event);\n    } else if (event.key.length === 1) {\n      this.handleEnteredCharacter(event);\n    } else if (event.key.match(/^Arrow/)) {\n      this.handleSelectionMovement(event);\n    } else if (event.key === \"Backspace\") {\n      this.handleDeletion();\n    }\n    this.render();\n  }\n\n  public onCut(event: ClipboardEvent): void {\n    if (!this.hasFocus) return;\n    this.setHistoryPoint();\n    this.onCopy(event);\n    this.clearSelection();\n    this.render();\n  }\n\n  public onCopy(event: ClipboardEvent): void {\n    if (!this.hasFocus) return;\n    this.setHistoryPoint();\n    let textToCopy = \"\";\n    this.selectionForEach({\n      cellAction: (x: number, y: number): void => {\n        textToCopy += this.code.get(x, y);\n      },\n      rowEndAction: (): void => {\n        textToCopy += \"\\n\";\n      },\n      directions: this.useSelectionDirectionForCutCopyPaste\n        ? this.selectionDelta.getMajorAndMinorDirections()\n        : undefined,\n    });\n    event.clipboardData?.setData(\"text/plain\", textToCopy);\n    event.preventDefault();\n  }\n\n  public onPaste(event: ClipboardEvent): void {\n    if (!this.hasFocus) return;\n    this.setHistoryPoint();\n    const text = event.clipboardData?.getData(\"Text\");\n    const pasteCoords = this.selection.clone();\n    const newLineCoord = this.selection.clone();\n    const { majorVector, minorVector } = this\n      .useSelectionDirectionForCutCopyPaste\n      ? this.selectionDelta.getMajorAndMinorDirections()\n      : this.getDefaultIterationDirections();\n    text?.split(\"\").forEach((char: string) => {\n      if (char === \"\\n\") {\n        newLineCoord.add(minorVector).modulo(this.limits);\n        pasteCoords.setToCopy(newLineCoord);\n      } else {\n        this.code.userPut(pasteCoords.x, pasteCoords.y, char);\n        pasteCoords.add(majorVector).modulo(this.limits);\n      }\n    });\n    this.render();\n  }\n\n  private handleKeyboardShortcuts(event: KeyboardEvent): void {\n    if (event.key === \"a\") {\n      this.selection.set(0, 0);\n      this.selectionDelta.setToCopy(this.limits).add(new Coordinate(-1, -1));\n    } else if (event.key === \"z\" && !event.shiftKey) {\n      this.undo();\n    } else if ((event.key === \"z\" && event.shiftKey) || event.key === \"y\") {\n      this.redo();\n    } else if (event.key.match(/^Arrow/)) {\n      this.direction = Direction[event.key.slice(5) as DirectionName];\n    } else {\n      return;\n    }\n    event.preventDefault();\n  }\n\n  private handleEnteredCharacter(event: KeyboardEvent): void {\n    this.setHistoryPoint();\n    this.fillSelection(event.key);\n    this.changeTypingDirectionIfNeeded(event.key);\n    this.stepSelection(DIRECTION_VECTOR[this.direction]);\n    this.deleteMode = \"backspace\";\n    event.preventDefault();\n  }\n\n  private handleSelectionMovement(event: KeyboardEvent): void {\n    const movementDirection = Direction[event.key.slice(5) as DirectionName];\n    if (event.shiftKey) {\n      this.selectionDelta.add(DIRECTION_VECTOR[movementDirection]);\n    } else {\n      this.stepSelection(DIRECTION_VECTOR[movementDirection]);\n      this.selectionDelta.set(0, 0);\n      event.preventDefault();\n    }\n    this.deleteMode = \"delete\";\n  }\n\n  private handleDeletion(): void {\n    this.setHistoryPoint();\n    if (this.deleteMode === \"backspace\") {\n      this.stepSelection(DIRECTION_VECTOR[this.direction].clone().negative());\n      this.clearSelection();\n    } else if (this.deleteMode === \"delete\") {\n      this.clearSelection();\n    }\n  }\n\n  private stepSelection(directionVector: Coordinate): void {\n    this.selection.add(directionVector).modulo(this.limits);\n  }\n\n  private clearSelection(): void {\n    this.fillSelection(\" \");\n  }\n\n  private fillSelection(char: string): void {\n    this.selectionForEach({\n      cellAction: (x: number, y: number): void => {\n        this.code.userPut(x, y, char);\n      },\n    });\n  }\n\n  private selectionForEach({\n    cellAction,\n    rowEndAction,\n    directions,\n  }: {\n    cellAction: (x: number, y: number) => void;\n    rowEndAction?: () => void;\n    directions?: MajorMinorDirections;\n  }): void {\n    const { start, majorVector, majorMax, minorVector, minorMax } = directions\n      ? { start: this.selection, ...directions }\n      : this.getDefaultIterationDirections();\n    const iterationCoord = start.clone();\n    for (let minor = 0; minor <= minorMax; minor++) {\n      iterationCoord.setToCopy(start);\n      iterationCoord.add(minorVector.clone().times(minor)).modulo(this.limits);\n      for (let major = 0; major <= majorMax; major++) {\n        cellAction(iterationCoord.x, iterationCoord.y);\n        iterationCoord.add(majorVector).modulo(this.limits);\n      }\n      rowEndAction?.();\n    }\n  }\n\n  private getDefaultIterationDirections(): {\n    start: Coordinate;\n  } & MajorMinorDirections {\n    const x0 = Math.min(\n      this.selection.x,\n      this.selection.x + this.selectionDelta.x\n    );\n    const y0 = Math.min(\n      this.selection.y,\n      this.selection.y + this.selectionDelta.y\n    );\n    return {\n      start: new Coordinate(x0, y0),\n      majorVector: DIRECTION_VECTOR[Direction.Right],\n      majorMax: Math.abs(this.selectionDelta.x),\n      minorVector: DIRECTION_VECTOR[Direction.Down],\n      minorMax: Math.abs(this.selectionDelta.y),\n    };\n  }\n\n  private changeTypingDirectionIfNeeded(character: string): void {\n    if (this.changeDirectionOnDirectionCharacters) {\n      if (character === \"<\") this.direction = Direction.Left;\n      if (character === \">\") this.direction = Direction.Right;\n      if (character === \"^\") this.direction = Direction.Up;\n      if (character === \"v\") this.direction = Direction.Down;\n    }\n  }\n}\n","import React from \"react\";\nimport MaterialButton from \"@material-ui/core/Button\";\n\ninterface Props {\n  label: React.ReactNode;\n  onClick: () => void;\n  disabled?: boolean;\n  style?: React.CSSProperties;\n  color?: \"primary\" | \"secondary\";\n  variant?: \"text\" | \"outlined\";\n  disableElevation?: boolean;\n}\n\nexport function Button({ label, onClick, ...rest }: Props): React.ReactElement {\n  return (\n    <MaterialButton\n      variant=\"contained\"\n      size=\"small\"\n      disableElevation\n      onClick={onClick}\n      {...rest}\n    >\n      {label}\n    </MaterialButton>\n  );\n}\n","import Color from \"color\";\n\nexport const Colors = {\n  DARKEST: Color(\"#0d1416\"),\n  DARKER: Color(\"#1d2426\"),\n  DARK: Color(\"#283134\"),\n  LIGHT: Color(\"#f7f9f9\"),\n  GREY: Color(\"#CCCCCC\"),\n  ACCENT_BLUE: Color(\"#5ed6ff\"),\n  ACCENT_ORANGE: Color(\"#FF875E\"),\n  RED: Color(\"#FF0000\"),\n};\n","import styled from \"styled-components\";\n\nexport const Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Colors } from \"./Colors\";\nimport Color from \"color\";\n\ninterface Props {\n  size?: \"small\" | \"tiny\";\n  color?: Color;\n  children: React.ReactNode;\n  unselectable?: boolean;\n  monospace?: boolean;\n  style?: React.CSSProperties;\n}\n\nexport function T({\n  size,\n  color,\n  unselectable,\n  monospace,\n  children,\n  style,\n}: Props): React.ReactElement {\n  const finalStyle = {\n    color: (color || Colors.LIGHT.fade(0.2)).toString(),\n    fontSize:\n      size === \"tiny\" ? 8 : size === \"small\" ? 11 : size === \"big\" ? 16 : 12,\n    fontFamily: monospace ? \"monospace\" : undefined,\n    ...style,\n  };\n\n  return unselectable ? (\n    <UnselectableText style={finalStyle}>{children}</UnselectableText>\n  ) : (\n    <div style={finalStyle}>{children}</div>\n  );\n}\n\nconst UnselectableText = styled.div`\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n`;\n","import React, { MouseEvent } from \"react\";\nimport styled from \"styled-components\";\nimport { Colors } from \"../../../ui/Colors\";\n\nexport function Square({\n  val,\n  selected,\n  selectionOpacity = 0.3,\n  cursored,\n  isBreakpoint,\n  onMouseDown,\n  onMouseOver,\n  onDoubleClick,\n}: {\n  val: string;\n  selected?: boolean;\n  selectionOpacity?: number;\n  cursored?: boolean;\n  isBreakpoint?: boolean;\n  onMouseDown?: (e: MouseEvent) => void;\n  onMouseOver?: (e: MouseEvent) => void;\n  onDoubleClick?: () => void;\n}): React.ReactElement {\n  let color = Colors.LIGHT;\n  if (selected) color = color.mix(Colors.ACCENT_BLUE, selectionOpacity);\n  if (cursored) color = color.mix(Colors.ACCENT_ORANGE, 0.3);\n  if (isBreakpoint) color = color.mix(Colors.RED, 0.5);\n\n  return (\n    <Background\n      color={color.toString()}\n      onMouseDown={onMouseDown}\n      onMouseOver={onMouseOver}\n      onDoubleClick={onDoubleClick}\n    >\n      {val}\n    </Background>\n  );\n}\n\nconst Background = styled.div<{ color: string }>`\n  width: 14px;\n  height: 14px;\n  font-size: 12px;\n  font-family: monospace;\n  background-color: ${({ color }): string => color};\n  border-right: 1px solid #dddddd;\n  border-bottom: 1px solid #dddddd;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n`;\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { Colors, Row, T } from \"../../../ui\";\nimport { Square } from \"./Square\";\nimport { Coordinate, modulo, range } from \"../../../utilities\";\nimport { CodeEditor } from \"../../../domain/CodeEditor\";\nimport { Code } from \"../../../domain/Code\";\nimport styled from \"styled-components\";\nimport { useBlink } from \"./useBlink\";\n\nexport function Grid({\n  code,\n  cursor,\n  editor: e,\n}: {\n  code: Code;\n  cursor: Coordinate;\n  editor: CodeEditor;\n}): React.ReactElement {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [focused, setFocused] = useState(false);\n  useEffect(() => {\n    containerRef.current?.focus();\n  }, []);\n\n  const isSelectedX = useCallback(\n    getSelectionCheckFunction(\n      e.selection.x,\n      e.selectionDelta.x,\n      e.limits.x,\n      focused\n    ),\n    [e.selection.x, e.selectionDelta.x, e.limits.x, focused]\n  );\n\n  const isSelectedY = useCallback(\n    getSelectionCheckFunction(\n      e.selection.y,\n      e.selectionDelta.y,\n      e.limits.y,\n      focused\n    ),\n    [e.selection.y, e.selectionDelta.y, e.limits.y, focused]\n  );\n\n  const { blink } = useBlink(focused);\n  const selectionOpacity = blink ? 0.35 : 0.2;\n\n  return (\n    <Container\n      focused={focused}\n      ref={containerRef}\n      onFocus={(): void => {\n        e.hasFocus = true;\n        setFocused(true);\n      }}\n      onBlur={(): void => {\n        console.log(\"onBlur\");\n        e.hasFocus = false;\n        setFocused(false);\n      }}\n      tabIndex={0}\n    >\n      {range(-1, e.limits.y + 1).map((y) => (\n        <Row key={y} style={{ justifyContent: \"flex-end\" }}>\n          {range(-1, e.limits.x + 1).map((x) =>\n            x === -1 && y === -1 ? null : x === -1 ? (\n              <YNumberBox>\n                <T size=\"tiny\" color={Colors.DARK.fade(0.4)}>\n                  {y}\n                </T>\n              </YNumberBox>\n            ) : y === -1 ? (\n              <XNumberBox>\n                <T size=\"tiny\" color={Colors.DARK.fade(0.4)}>\n                  {x}\n                </T>\n              </XNumberBox>\n            ) : (\n              <Square\n                val={code.code[x][y]}\n                selected={isSelectedX(x) && isSelectedY(y)}\n                selectionOpacity={selectionOpacity}\n                cursored={x === cursor.x && y === cursor.y}\n                isBreakpoint={code.breakpoints[x][y]}\n                onMouseDown={e.onMouseDown(x, y)}\n                onMouseOver={e.onMouseOver(x, y)}\n                onDoubleClick={e.onDoubleClick(x, y)}\n                key={`${x},${y}`}\n              />\n            )\n          )}\n        </Row>\n      ))}\n    </Container>\n  );\n}\n\nfunction getSelectionCheckFunction(\n  coordinate: number,\n  delta: number,\n  limit: number,\n  focused: boolean\n): (a: number) => boolean {\n  if (!focused) return (): boolean => false;\n  if (delta === 0) return (a: number): boolean => a === coordinate;\n  const sum = coordinate + delta;\n  const modSum = modulo(coordinate + delta, limit);\n  if (delta < 0) {\n    if (modSum === sum)\n      return (a: number): boolean => coordinate + delta <= a && a <= coordinate;\n    else return (a: number): boolean => a <= coordinate || a >= modSum;\n  } else {\n    if (modSum === sum)\n      return (a: number): boolean => coordinate <= a && a <= coordinate + delta;\n    else return (a: number): boolean => a <= modSum || a >= coordinate;\n  }\n}\n\nconst Container = styled.div<{ focused: boolean }>`\n  padding-right: 8px;\n  padding-bottom: 8px;\n  padding-left: 4px;\n  padding-top: 4px;\n  background-color: ${Colors.LIGHT.toString()};\n  border-radius: 4px;\n  outline: 0 none !important;\n  ${({ focused }): string => {\n    return focused ? `box-shadow: 0px 0px 5px 2px #5577FF` : \"\";\n  }};\n`;\n\nconst XNumberBox = styled.div`\n  width: 15px;\n  padding-bottom: 4px;\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n  border-bottom: 1px solid #dddddd;\n`;\n\nconst YNumberBox = styled.div`\n  height: 15px;\n  padding-right: 4px;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  border-right: 1px solid #dddddd;\n`;\n","import { useEffect, useState } from \"react\";\n\nexport function useBlink(enabled?: boolean): { blink: boolean } {\n  const [blink, setBlink] = useState(false);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (enabled) setBlink((blink) => !blink);\n    }, 600);\n    return (): void => clearInterval(interval);\n  }, [enabled]);\n\n  return { blink };\n}\n","export function modulo(a: number, b: number): number {\n  return ((a % b) + b) % b;\n}\n","import React from \"react\";\nimport { Colors } from \"../ui/Colors\";\n\ninterface Props {\n  stack: number[];\n  style?: React.CSSProperties;\n}\n\nexport function Stack({ stack, style }: Props): React.ReactElement {\n  return (\n    <div\n      style={{\n        width: 120,\n        flex: 1,\n        backgroundColor: Colors.LIGHT.toString(),\n        padding: 8,\n        overflow: \"scroll\",\n        scrollbarWidth: \"none\",\n        ...style,\n      }}\n    >\n      {stack\n        .slice()\n        .reverse()\n        .map((value, index) => (\n          <div key={index}>{value}</div>\n        ))}\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Button } from \"../../ui\";\nimport { TextField } from \"@material-ui/core\";\n\ninterface Props {\n  submitInput: (input: string) => void;\n}\n\nexport function Input({ submitInput }: Props): React.ReactElement {\n  const [input, setInput] = useState(\"\");\n\n  return (\n    <>\n      <TextField\n        value={input}\n        onChange={(e): void => {\n          setInput(e.target.value);\n        }}\n        style={{ marginLeft: 8, width: 80, height: 12 }}\n        size=\"small\"\n      />\n      <Button\n        label={\"Submit\"}\n        onClick={(): void => {\n          submitInput(input);\n          setInput(\"\");\n        }}\n        style={{ marginLeft: 8 }}\n        color=\"secondary\"\n        disableElevation={false}\n      />\n    </>\n  );\n}\n","import React from \"react\";\nimport { Colors } from \"../../ui\";\nimport { InputRequestStatus } from \"../../domain/index\";\nimport styled from \"styled-components\";\nimport { Input } from \"./Input\";\n\ninterface Props {\n  output: string;\n  requestingInput: InputRequestStatus;\n  submitInput: (input: string) => void;\n  style?: React.CSSProperties;\n}\n\nexport function InputOutput({\n  output,\n  requestingInput,\n  submitInput,\n}: Props): React.ReactElement {\n  return (\n    <>\n      <OutputContainer>\n        <OutputInnerScrollingContainer>\n          {output.split(\"\\n\").map((x, index) => (\n            <div key={index}>{x}</div>\n          ))}\n        </OutputInnerScrollingContainer>\n      </OutputContainer>\n      <InputContainer>\n        <div>\n          {requestingInput === \"character\" ? (\n            <div style={{ color: \"#000033\", fontWeight: 600 }}>\n              Please enter a character: <Input submitInput={submitInput} />\n            </div>\n          ) : requestingInput === \"number\" ? (\n            <div style={{ color: \"#000033\", fontWeight: 600 }}>\n              Please enter a number: <Input submitInput={submitInput} />\n            </div>\n          ) : requestingInput === \"divideBy0\" ? (\n            <div style={{ color: \"#000033\", fontWeight: 600 }}>\n              Division by 0. Please enter the result:{\" \"}\n              <Input submitInput={submitInput} />\n            </div>\n          ) : (\n            <div style={{ color: Colors.DARK.fade(0.3).toString() }}>\n              No input needed\n            </div>\n          )}\n        </div>\n      </InputContainer>\n    </>\n  );\n}\n\nconst OutputContainer = styled.div`\n  flex: 1;\n  height: 0px;\n  display: flex;\n`;\n\nconst OutputInnerScrollingContainer = styled.div`\n  flex: 1;\n  width: 0px;\n  background-color: ${Colors.LIGHT.toString()};\n  overflow: scroll;\n  scrollbar-width: thin;\n  flex-direction: column;\n  padding: 8px;\n`;\n\nconst InputContainer = styled.div`\n  background-color: ${Colors.LIGHT.toString()};\n  border-top: 1px solid ${Colors.GREY.toString()};\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  height: 48px;\n`;\n","import { Row, T } from \"../../../ui\";\nimport React, { useState } from \"react\";\nimport { createTheme, TextField, ThemeProvider } from \"@material-ui/core\";\n\nexport function AsciiCalculator(): React.ReactElement {\n  const [char, setChar] = useState(\"A\");\n  const [num, setNum] = useState(\"A\".charCodeAt(0).toString());\n\n  const darkTheme = createTheme({\n    palette: {\n      type: \"dark\",\n    },\n  });\n\n  return (\n    <ThemeProvider theme={darkTheme}>\n      <Row style={{ flex: 1, justifyContent: \"center\", marginBottom: 6 }}>\n        <TextField\n          value={char}\n          onChange={(e): void => {\n            const input = e.target.value.toString();\n            const value = input.charAt(input.length - 1);\n            setChar(value);\n            setNum(value ? value.charCodeAt(0).toString() : \"\");\n          }}\n          style={{ width: 16, height: 10, marginTop: -16 }}\n          size=\"small\"\n        />\n        <T size=\"small\" unselectable style={{ marginLeft: 16 }}>\n          n\n        </T>\n        <TextField\n          value={num}\n          onChange={(e): void => {\n            const n = e.target.value.toString().replace(/[^0-9]/, \"\");\n            setNum(n);\n            setChar(String.fromCharCode(parseInt(n)));\n          }}\n          style={{\n            marginLeft: 16,\n            width: 52,\n            height: 12,\n            marginTop: -16,\n          }}\n          size=\"small\"\n        />\n      </Row>\n    </ThemeProvider>\n  );\n}\n","import React from \"react\";\nimport { Colors } from \"./Colors\";\nimport { Button } from \"./Button\";\nimport Color from \"color\";\n\ninterface Props {\n  label: React.ReactNode;\n  onClick: () => void;\n  disabled?: boolean;\n  style?: React.CSSProperties;\n  color?: string;\n  disableElevation?: boolean;\n}\n\nexport function MiniButton({\n  label,\n  color,\n  disabled,\n  style,\n  ...rest\n}: Props): React.ReactElement {\n  const finalColor = (color ? Color(color) : Colors.LIGHT.fade(0.2))\n    .fade(disabled === true ? 0.6 : 0)\n    .toString();\n\n  return (\n    <Button\n      label={<div style={{ marginBottom: 2.4 }}>{label}</div>}\n      variant=\"outlined\"\n      style={{\n        minWidth: 16,\n        maxWidth: 16,\n        minHeight: 16,\n        maxHeight: 16,\n        color: finalColor,\n        borderColor: finalColor,\n        ...style,\n      }}\n      disabled={disabled}\n      {...rest}\n    />\n  );\n}\n","import { Row, T } from \"../../../ui\";\nimport React from \"react\";\nimport { Befunge } from \"../../../domain/Befunge\";\nimport { MiniButton } from \"../../../ui/MiniButton\";\n\nexport function WalkingSpeedControl({\n  befunge: b,\n}: {\n  befunge: Befunge;\n}): React.ReactElement {\n  return (\n    <>\n      <T>Walking speed:</T>\n      <Row style={{ marginLeft: 8, justifyContent: \"space-between\" }}>\n        <MiniButton\n          label={\"-\"}\n          onClick={b.increaseWalkingDelay}\n          disabled={b.walkingDelayIndex >= 4}\n        />\n        <T\n          size=\"small\"\n          unselectable\n          style={{\n            width: 20,\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"center\",\n          }}\n        >\n          {5 - b.walkingDelayIndex}\n        </T>\n        <MiniButton\n          label={\"+\"}\n          onClick={b.decreaseWalkingDelay}\n          disabled={b.walkingDelayIndex <= 0}\n        />\n      </Row>\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport { ImCheckboxChecked, ImCheckboxUnchecked } from \"react-icons/im\";\nimport MaterialUICheckbox from \"@material-ui/core/Checkbox\";\nimport { Colors } from \"./Colors\";\n\ninterface Props<T extends string> {\n  object: { [key in T]: boolean };\n  k: T;\n  style?: React.CSSProperties;\n}\n\nexport function Checkbox<T extends string>({\n  object,\n  k,\n  style,\n}: Props<T>): React.ReactElement {\n  const [renderHelper, setRenderHelper] = useState(false);\n\n  return (\n    <div style={style}>\n      <div style={{ margin: -4 }}>\n        <MaterialUICheckbox\n          checked={object[k]}\n          onChange={(event): void => {\n            object[k] = event.target.checked;\n            setRenderHelper(!renderHelper);\n          }}\n          icon={\n            <ImCheckboxUnchecked\n              size={11}\n              color={Colors.ACCENT_BLUE.toString()}\n            />\n          }\n          checkedIcon={\n            <ImCheckboxChecked\n              size={11}\n              color={Colors.ACCENT_BLUE.toString()}\n            />\n          }\n        />\n      </div>\n    </div>\n  );\n}\n","import { Colors } from \"../../../ui\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { BsChevronCompactLeft, BsChevronCompactRight } from \"react-icons/bs\";\nimport { IconButton } from \"@material-ui/core\";\n\nexport function ExpandCollapseArrows({\n  columns,\n  setColumns,\n}: {\n  columns: number;\n  setColumns: (newVal: number) => void;\n}): React.ReactElement {\n  const showLeft = columns > 1;\n  const showRight = columns < 3;\n\n  return (\n    <div\n      style={{\n        alignSelf: \"center\",\n        marginRight: -20,\n        display: \"flex\",\n        marginLeft: columns >= 2 ? 12 : 4,\n        backgroundColor: Colors.DARKEST.toString(),\n        paddingLeft: 2,\n        paddingRight: 2,\n        borderRadius: 4,\n      }}\n    >\n      <div\n        style={{\n          width: 8,\n          overflow: \"hidden\",\n        }}\n      >\n        {showLeft && (\n          <IconButton\n            aria-label=\"collapse-options\"\n            style={{\n              color: Colors.ACCENT_BLUE.toString(),\n              marginLeft: -20,\n              marginTop: -8,\n              marginBottom: -8,\n              backgroundColor: \"transparent\",\n            }}\n            onClick={(): void => setColumns(columns - 1)}\n          >\n            <BsChevronCompactLeft />\n          </IconButton>\n        )}\n      </div>\n\n      <div\n        style={{\n          width: 8,\n          overflow: \"hidden\",\n        }}\n      >\n        {showRight && (\n          <IconButton\n            aria-label=\"expand-options\"\n            style={{\n              color: Colors.ACCENT_BLUE.toString(),\n              marginLeft: -20,\n              marginTop: -8,\n              marginBottom: -8,\n              backgroundColor: \"transparent\",\n            }}\n            onClick={(): void => setColumns(columns + 1)}\n          >\n            <BsChevronCompactRight />\n          </IconButton>\n        )}\n      </div>\n    </div>\n  );\n}\n\nconst Container = styled.div``;\n","import { Button, Colors, T } from \"../../../ui\";\nimport React, { useState } from \"react\";\nimport styled from \"styled-components\";\nimport { Befunge } from \"../../../domain/Befunge\";\nimport { CodeEditor } from \"../../../domain/CodeEditor\";\nimport { AsciiCalculator } from \"./AsciiCalculator\";\nimport { WalkingSpeedControl } from \"./WalkingSpeedControl\";\nimport { Checkbox } from \"../../../ui/Checkbox\";\nimport { Direction } from \"../../../utilities\";\nimport { BsChevronCompactLeft, BsChevronCompactRight } from \"react-icons/bs\";\nimport { IconButton } from \"@material-ui/core\";\nimport { ExpandCollapseArrows } from \"./ExpandCollapseArrows\";\n\nexport function ControlPanel({\n  befunge: b,\n  editor: e,\n}: {\n  befunge: Befunge;\n  editor: CodeEditor;\n}): React.ReactElement {\n  const [columns, setColumns] = useState(2);\n  return (\n    <Container style={{ flex: 1 }}>\n      <Column>\n        <Button label={\"Step\"} onClick={b.step} />\n        <Button\n          label={b.walking ? \"Pause\" : \"Walk\"}\n          onClick={b.walking ? b.pause : b.walk}\n          style={{ marginTop: 8 }}\n        />\n        <Button\n          label={b.running ? \"Pause\" : \"Run\"}\n          onClick={b.running ? b.pause : b.run}\n          style={{ marginTop: 8 }}\n        />\n        <Button label={\"Reset\"} onClick={b.reset} style={{ marginTop: 8 }} />\n      </Column>\n      {columns >= 2 && (\n        <Column style={{ marginLeft: 16 }}>\n          <Row>\n            <T size=\"small\">Code input direction:</T>\n            <T\n              size=\"small\"\n              style={{ marginLeft: 4, color: Colors.ACCENT_BLUE.toString() }}\n            >\n              {DIRECTION_SYMBOL[e.direction]}\n            </T>\n          </Row>\n          <Row>\n            <T size=\"small\">Input cursor ascii:</T>\n            <T\n              size=\"small\"\n              style={{ marginLeft: 4, color: Colors.ACCENT_BLUE.toString() }}\n            >\n              {e.getSelectedCharacter().charCodeAt(0)}\n            </T>\n          </Row>\n          <Row>\n            <T size=\"small\">Execution direction:</T>\n            <T\n              size=\"small\"\n              style={{ marginLeft: 4, color: Colors.ACCENT_ORANGE.toString() }}\n            >\n              {DIRECTION_SYMBOL[b.direction]}\n            </T>\n          </Row>\n          <Row>\n            <T size=\"small\">Execution cursor ascii:</T>\n            <T\n              size=\"small\"\n              style={{ marginLeft: 4, color: Colors.ACCENT_ORANGE.toString() }}\n            >\n              {b.getCursorCharacter().charCodeAt(0)}\n            </T>\n          </Row>\n          <Row>\n            <T size=\"small\">String mode enabled:</T>\n            <T size=\"small\" style={{ marginLeft: 4 }}>\n              {b.stringMode ? \"Yes\" : \"No\"}\n            </T>\n          </Row>\n          <Row style={{ marginTop: 2, marginBottom: 2 }}>\n            <WalkingSpeedControl befunge={b} />\n          </Row>\n          <T size=\"small\">ASCII value calculator:</T>\n          <Row>\n            <AsciiCalculator />\n          </Row>\n        </Column>\n      )}\n      {columns >= 3 && (\n        <Column style={{ marginLeft: 16, justifyContent: \"flex-start\" }}>\n          <Row>\n            <T size=\"small\" style={{ width: 120 }}>\n              Change input direction on{\" \"}\n              <text style={{ fontFamily: \"monospace\" }}>{\"<>^v\"}</text>:\n            </T>\n            <Checkbox\n              object={e}\n              k={\"changeDirectionOnDirectionCharacters\"}\n              style={{ marginLeft: 4 }}\n            />\n          </Row>\n          <Row style={{ marginTop: 4 }}>\n            <T size=\"small\" style={{ width: 120 }}>\n              Cut/copy/paste in selection direction:\n            </T>\n            <Checkbox\n              object={e}\n              k={\"useSelectionDirectionForCutCopyPaste\"}\n              style={{ marginLeft: 4 }}\n            />\n          </Row>\n        </Column>\n      )}\n\n      <ExpandCollapseArrows columns={columns} setColumns={setColumns} />\n    </Container>\n  );\n}\n\nconst DIRECTION_SYMBOL = {\n  [Direction.Left]: \"\",\n  [Direction.Right]: \"\",\n  [Direction.Up]: \"\",\n  [Direction.Down]: \"\",\n};\n\nconst Column = styled.div`\n  align-self: stretch;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nconst Row = styled.div`\n  align-self: stretch;\n  justify-content: space-between;\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n`;\n\nconst Container = styled.div`\n  align-self: stretch;\n  display: flex;\n  flex-direction: row;\n  padding: 12px;\n  background-color: ${Colors.DARKER.toString()};\n  shadow: -2px 2px 4px rgba(0, 0, 0, 0.3);\n`;\n","import React, { useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { useBefunge } from \"../useBefunge\";\nimport { Grid } from \"./Grid\";\nimport { Stack } from \"../Stack\";\nimport { InputOutput } from \"../InputOutput\";\nimport { Row, Colors } from \"../../ui\";\nimport { ControlPanel } from \"./ControlPanel\";\n\nexport function CodingSpace(): React.ReactElement {\n  const width = 80;\n  const height = 25;\n  const { editor: e, befunge: b } = useBefunge(width, height);\n\n  return (\n    <Container>\n      <div>\n        <Label>Code editor</Label>\n        <Grid code={b.code} cursor={b.cursor} editor={e} />\n      </div>\n      <Row style={{ marginTop: 16, width: 15 * width, height: 220 }}>\n        <Column>\n          <Label>Stack</Label>\n          <Stack stack={b.stack} />\n        </Column>\n        <Column style={{ marginLeft: 16 }}>\n          <Label>Control panel</Label>\n          <ControlPanel befunge={b} editor={e} />\n        </Column>\n        <Column style={{ marginLeft: 16, flexGrow: 1 }}>\n          <Label>Input + output</Label>\n          <InputOutput\n            output={b.output}\n            requestingInput={b.requestingInput}\n            submitInput={b.acceptInput}\n          />\n        </Column>\n      </Row>\n    </Container>\n  );\n}\n\nconst Container = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Column = styled.div`\n  align-self: stretch;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Label = styled.div`\n  margin-bottom: 6px;\n  font-size: 11px;\n  color: ${Colors.LIGHT.fade(0.2).toString()};\n`;\n","import { useCallback, useRef, useState, useEffect } from \"react\";\nimport { Befunge, CodeEditor } from \"../domain\";\n\nexport function useBefunge(\n  width: number,\n  height: number\n): {\n  editor: CodeEditor;\n  befunge: Befunge;\n} {\n  const setRenderHelper = useState(0)[1];\n  const render = useCallback(() => {\n    setRenderHelper(Math.random());\n  }, []);\n\n  const b = useRef(new Befunge(width, height, render)).current;\n  const e = useRef(new CodeEditor(b, render)).current;\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", e.onKeyDown);\n    document.addEventListener(\"cut\", e.onCut);\n    document.addEventListener(\"copy\", e.onCopy);\n    document.addEventListener(\"paste\", e.onPaste);\n\n    // Default \"Hello, world!\" program\n    e.onPaste({clipboardData: {getData: (): string => \"v>v>v>v>v>v>v               \\n5 5 5 4 5 5 9               \\n6 7-7-2 7 7+8               \\n+ +7+22 + +1*               \\n3*9*9*2*9*9*>,,,,,,,,,,,,,,@\\n*:*:*:*4*9*:                \\n * +3+*+3+ *                \\n 5 6+6*6+7 5                \\n 2 5 5 5 5 2                \\n>^>^>^>^>^>^                \\n                            \\n                            \\n                            \\n!dlrow ,olleH               \\n\"}} as unknown as ClipboardEvent); // prettier-ignore\n\n    return (): void => {\n      document.removeEventListener(\"keydown\", e.onKeyDown);\n      document.removeEventListener(\"cut\", e.onCut);\n      document.removeEventListener(\"copy\", e.onCopy);\n      document.removeEventListener(\"paste\", e.onPaste);\n    };\n  }, []);\n\n  return {\n    editor: e,\n    befunge: b,\n  };\n}\n","import styled from \"styled-components\";\nimport { Colors } from \"../../ui\";\n\nexport const SquareBackground = styled.div`\n  width: 14px;\n  height: 14px;\n  font-size: 12px;\n  font-family: monospace;\n  background-color: ${Colors.LIGHT.toString()};\n  color: #000000;\n  border: 1px solid #bbbbbb;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n","import React from \"react\";\nimport { SquareBackground } from \"./SquareBackground\";\nimport styled from \"styled-components\";\nimport { Colors } from \"../../ui\";\n\nconst M = styled.text`\n  font-family: monospace;\n`;\n\nconst B = styled.text``;\n\nexport const befungeCommands = [\n  {\n    key: \"0\",\n\n    command: (\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          marginBottom: 8,\n        }}\n      >\n        <SquareBackground>0</SquareBackground>\n        <SquareBackground>9</SquareBackground>\n      </div>\n    ),\n    description: (\n      <div style={{ marginTop: 8 }}>\n        Push the corresponding number onto the stack\n      </div>\n    ),\n    customCommandStyle: true,\n  },\n  {\n    key: \"+\",\n    command: \"+\",\n    description: (\n      <div>\n        <B>Addition:</B> pop two values <M>a</M> then <M>b</M>, then push the\n        result of <M>a + b</M>\n      </div>\n    ),\n  },\n  {\n    key: \"-\",\n    command: \"-\",\n    description: (\n      <div>\n        <B>Subtraction:</B> pop two values <M>a</M> then <M>b</M>, then push the\n        result of <M>b - a</M>\n      </div>\n    ),\n  },\n  {\n    key: \"*\",\n    command: \"*\",\n    description: (\n      <div>\n        <B>Multiplication:</B> pop two values <M>a</M> then <M>b</M>, then push\n        the result of <M>a * b</M>\n      </div>\n    ),\n  },\n  {\n    key: \"/\",\n    command: \"/\",\n    description: (\n      <div>\n        <B>Integer division:</B> pop two values <M>a</M> then <M>b</M>, then\n        push the result of <M>b / a</M>, rounded down. If a is zero, ask the\n        user what result they want.\n      </div>\n    ),\n  },\n  {\n    key: \"%\",\n    command: \"%\",\n    description: (\n      <div>\n        <B>Modulo:</B> pop two values <M>a</M> then <M>b</M>, then push the\n        remainder of the integer division of <M>b / a</M>.\n      </div>\n    ),\n  },\n  {\n    key: \"!\",\n    command: \"!\",\n    description: (\n      <div>\n        <B>Not:</B> pop a value. If the value is <M>0</M>, push <M>1</M>;\n        otherwise, push <M>0</M>.\n      </div>\n    ),\n  },\n  {\n    key: \"`\",\n    command: \"`\",\n    description: (\n      <div>\n        <B>Comparison:</B> pop two values <M>a</M> then <M>b</M>, then push{\" \"}\n        <M>1</M> if <M>b {\">\"} a</M>, otherwise <M>0</M>.\n      </div>\n    ),\n  },\n  { key: \">\", command: \">\", description: <div>Start moving right</div> },\n  { key: \"<\", command: \"<\", description: <div>Start moving left</div> },\n  { key: \"^\", command: \"^\", description: <div>Start moving up</div> },\n  { key: \"v\", command: \"v\", description: <div>Start moving down</div> },\n  {\n    key: \"?\",\n    command: \"?\",\n    description: <div>Start moving in a random cardinal direction</div>,\n  },\n  {\n    key: \"_\",\n    command: \"_\",\n    description: (\n      <div>\n        <B>Horizontal if:</B> pop a value; set direction to right if value is{\" \"}\n        <M>0</M>, set to left otherwise\n      </div>\n    ),\n  },\n  {\n    key: \"|\",\n    command: \"|\",\n    description: (\n      <div>\n        <B>Vertical if:</B> pop a value; set direction to down if value is{\" \"}\n        <M>0</M>, set to up otherwise\n      </div>\n    ),\n  },\n  {\n    key: '\"',\n    command: '\"',\n    description: (\n      <div>\n        <B>Toggle string-mode:</B> push each character&apos;s ASCII value all\n        the way up to the next <M>{'\"'}</M>\n      </div>\n    ),\n  },\n  { key: \":\", command: \":\", description: <div>Duplicate top stack value</div> },\n  { key: \"\\\\\", command: \"\\\\\", description: <div>Swap top stack values</div> },\n  {\n    key: \"$\",\n    command: \"$\",\n    description: <div>Pop (remove) top stack value and discard</div>,\n  },\n  {\n    key: \".\",\n    command: \".\",\n    description: (\n      <div>\n        <B>Integer output:</B> pop top of stack and output it as an integer\n      </div>\n    ),\n  },\n  {\n    key: \",\",\n    command: \",\",\n    description: (\n      <div>\n        <B>Character output:</B> pop top of stack and output its ASCII character\n      </div>\n    ),\n  },\n  {\n    key: \"&\",\n    command: \"&\",\n    description: (\n      <div>\n        <B>Integer input:</B> request an integer from the user and push it to\n        the stack\n      </div>\n    ),\n  },\n  {\n    key: \"~\",\n    command: \"~\",\n    description: (\n      <div>\n        <B>Character input:</B> request a character from the user and push it to\n        the stack\n      </div>\n    ),\n  },\n  {\n    key: \"#\",\n    command: \"#\",\n    description: (\n      <div>\n        <B>Bridge:</B> jump over next command in the current direction of\n        movement\n      </div>\n    ),\n  },\n  {\n    key: \"g\",\n    command: \"g\",\n    description: (\n      <div>\n        <B>Get:</B> a way to retrieve data in storage. Pop two values <M>y</M>{\" \"}\n        then <M>x</M>, then push the ASCII value of the character at that\n        position in the program. If <M>(x, y)</M> is out of bounds, push{\" \"}\n        <M>0</M>\n      </div>\n    ),\n  },\n  {\n    key: \"p\",\n    command: \"p\",\n    description: (\n      <div>\n        <B>Put:</B> a way to store a value for later use. Pop three values{\" \"}\n        <M>y</M>, then <M>x</M>, then <M>v</M>, then change the character at the\n        position <M>(x, y)</M> in the program to the character with ASCII value{\" \"}\n        <M>v</M>\n      </div>\n    ),\n  },\n  { key: \"@\", command: \"@\", description: <div>End program</div> },\n  {\n    key: \" \",\n    command: \" \",\n    description: (\n      <div>\n        <B>No-op:</B> does nothing. There is a space character in this location,\n        which has ASCII value 32\n      </div>\n    ),\n  },\n  {\n    key: \"blank 1\",\n    command: <div style={{ height: 12 }} />,\n    customCommandStyle: true,\n  },\n  {\n    key: \"execution cursor\",\n    command: (\n      <SquareBackground\n        style={{\n          backgroundColor: Colors.LIGHT.mix(Colors.ACCENT_ORANGE, 0.4)\n            .saturate(1)\n            .toString(),\n        }}\n      />\n    ),\n    description: (\n      <div>\n        <B>Execution cursor:</B> the orange highlight marks the next command to\n        be executed\n      </div>\n    ),\n    customCommandStyle: true,\n  },\n  {\n    key: \"typing cursor\",\n    command: (\n      <SquareBackground\n        style={{\n          backgroundColor: Colors.LIGHT.mix(Colors.ACCENT_BLUE, 0.4)\n            .saturate(1)\n            .toString(),\n        }}\n      />\n    ),\n    description: (\n      <div>\n        <B>Code input cursor:</B> the blue highlight marks the square(s) you\n        edit when you type\n      </div>\n    ),\n    customCommandStyle: true,\n  },\n  {\n    key: \"both cursors\",\n    command: (\n      <SquareBackground\n        style={{\n          backgroundColor: Colors.LIGHT.mix(Colors.ACCENT_BLUE, 0.4)\n            .mix(Colors.ACCENT_ORANGE, 0.4)\n            .toString(),\n        }}\n      />\n    ),\n    description: (\n      <div>\n        <B>Both cursors:</B> the execution and code input cursors are on top of\n        each other\n      </div>\n    ),\n    customCommandStyle: true,\n  },\n];\n","import { Row } from \"../../ui\";\nimport React from \"react\";\nimport { SquareBackground } from \"./SquareBackground\";\nimport \"./SidebarContent.css\";\n\ninterface Props {\n  command: React.ReactNode;\n  description?: React.ReactElement;\n  customCommandStyle?: boolean;\n  style: React.CSSProperties;\n}\n\nexport function CommandRow({\n  command,\n  description,\n  customCommandStyle,\n  style,\n}: Props): React.ReactElement {\n  const commandComponent = customCommandStyle ? (\n    command\n  ) : (\n    <SquareBackground style={{ marginTop: 0 }}>{command}</SquareBackground>\n  );\n\n  return (\n    <Row style={{ alignItems: \"flex-start\", ...style }}>\n      {commandComponent}\n      <div style={{ marginLeft: 12, flex: 1 }}>{description}</div>\n    </Row>\n  );\n}\n","import { Colors } from \"../../ui\";\nimport React from \"react\";\nimport { befungeCommands } from \"./befungeCommands\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { IconButton } from \"@material-ui/core\";\nimport \"./SidebarContent.css\";\nimport styled from \"styled-components\";\nimport { CommandRow } from \"./CommandRow\";\n\nexport function SidebarContent({\n  onClose,\n}: {\n  onClose: () => void;\n}): React.ReactElement {\n  return (\n    <Container>\n      <IconButton\n        aria-label=\"close-side-bar\"\n        style={{\n          position: \"absolute\",\n          top: 8,\n          right: 8,\n          color: Colors.ACCENT_BLUE.toString(),\n        }}\n        onClick={onClose}\n      >\n        <CloseIcon fontSize=\"small\" />\n      </IconButton>\n      <Title style={{ marginTop: 0 }}>Instructions</Title>\n      <p>\n        Try typing some commands into the text editor, then press step, walk, or\n        run to execute them.\n      </p>\n      <p>Pressing arrow keys changes the direction for typing.</p>\n      <Title>Befunge commands</Title>\n      {befungeCommands.map(\n        ({ command, description, customCommandStyle, key }) => (\n          <CommandRow\n            key={key}\n            style={{ marginTop: 6 }}\n            command={command}\n            description={description}\n            customCommandStyle={customCommandStyle}\n          />\n        )\n      )}\n      <Title>About Befunge</Title>\n      Befunge is a programming language invented in 1993 by Chris Pressey. For\n      more information see the Befunge pages on{\" \"}\n      <a className=\"link\" href={\"https://en.wikipedia.org/wiki/Befunge\"}>\n        Wikipedia\n      </a>{\" \"}\n      or{\" \"}\n      <a className=\"link\" href={\"https://esolangs.org/wiki/Befunge\"}>\n        Esolangs\n      </a>\n      .<Title>About this editor</Title>\n      This befunge interpreter was written by Angus Johnson. Please let me know\n      on{\" \"}\n      <a className=\"link\" href={\"https://github.com/angussbj/befunge/issues\"}>\n        Github\n      </a>{\" \"}\n      if you find are any issues.\n      <div style={{ fontSize: 10, marginTop: 8 }}> Angus Johnson 2021</div>\n    </Container>\n  );\n}\n\nconst Title = styled.div`\n  margin-top: 24px;\n  margin-bottom: 12px;\n  color: ${Colors.LIGHT.toString()};\n  font-size: 18px;\n`;\n\nconst Container = styled.div`\n  padding: 24px;\n  width: 240px;\n  font-size: 12px;\n  color: ${Colors.LIGHT.fade(0.2).toString()};\n`;\n","import React, { useState } from \"react\";\nimport { CodingSpace } from \"./components/CodingSpace\";\nimport { Colors } from \"./ui\";\nimport Sidebar from \"react-sidebar\";\nimport { SidebarContent } from \"./components/SidebarContent\";\nimport { IconButton } from \"@material-ui/core\";\nimport InfoOutlinedIcon from \"@material-ui/icons/InfoOutlined\";\n\nfunction App(): React.ReactElement {\n  const [sidebarOpen, setSidebarOpen] = useState(true);\n\n  return (\n    <div\n      style={{\n        backgroundColor: Colors.DARK.toString(),\n        minHeight: \"100vh\",\n      }}\n    >\n      <Sidebar\n        sidebar={<SidebarContent onClose={(): void => setSidebarOpen(false)} />}\n        open={sidebarOpen}\n        onSetOpen={setSidebarOpen}\n        styles={{\n          sidebar: { background: Colors.DARKER.toString() },\n          content: { display: \"flex\" },\n          overlay: { bottom: undefined, top: undefined },\n        }}\n        pullRight\n      >\n        <IconButton\n          style={{\n            position: \"absolute\",\n            top: 8,\n            right: 8,\n            color: Colors.ACCENT_BLUE.toString(),\n          }}\n          onClick={(): void => setSidebarOpen(true)}\n        >\n          <InfoOutlinedIcon />\n        </IconButton>\n        <div\n          style={{\n            flexGrow: 1,\n            padding: 32,\n            display: \"flex\",\n            justifyContent: \"center\",\n          }}\n        >\n          <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n            <div style={{ flexGrow: 1 }} />\n            <CodingSpace />\n            <div style={{ flexGrow: 1, minHeight: 40 }} />\n          </div>\n        </div>\n      </Sidebar>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}