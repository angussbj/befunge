{"version":3,"sources":["ui/Button.tsx","ui/Colors.ts","ui/Checkbox.tsx","ui/Row.tsx","ui/SidebarTitle.tsx","ui/SidebarSection.tsx","ui/MiniButton.tsx","ui/TextField.tsx","ui/Sidebar.tsx","ui/T.tsx","components/CodingSpace/Grid/Square.tsx","utilities/Coordinate.ts","utilities/constArray2.ts","utilities/range.ts","components/CodingSpace/Grid/Grid.tsx","components/CodingSpace/Grid/useBlink.ts","utilities/modulo.ts","components/CodingSpace/Stack.tsx","components/CodingSpace/InputOutput/Input.tsx","components/CodingSpace/InputOutput/InputOutput.tsx","components/CodingSpace/ControlPanel/AsciiCalculator.tsx","components/CodingSpace/ControlPanel/WalkingSpeedControl.tsx","components/CodingSpace/ControlPanel/ExpandCollapseArrows.tsx","utilities/useLocalStorageAsState.ts","components/CodingSpace/ControlPanel/ControlPanel.tsx","components/CodingSpace/CodingSpace.tsx","components/InfoSidebarContent/SquareBackground.tsx","components/InfoSidebarContent/befungeCommands.tsx","components/InfoSidebarContent/editorCommands.tsx","components/InfoSidebarContent/BefungeCommandRow.tsx","components/InfoSidebarContent/EditorCommandRow.tsx","components/InfoSidebarContent/InfoSidebarContent.tsx","components/ExampleSidebarContent/examples.tsx","components/ExampleSidebarContent/Example.tsx","components/ExampleSidebarContent/ExampleSidebarContent.tsx","logic/Code.ts","logic/Befunge/Befunge.ts","logic/CodeEditor/CodeEditorOptions.ts","logic/CodeEditor/CodeEditor.ts","App.tsx","components/useBefunge.ts","index.tsx"],"names":["Button","label","onClick","size","rest","variant","disableElevation","Colors","DARKEST","Color","DARKER","DARK","LIGHT","GREY","FOCUS","ACCENT_BLUE","ACCENT_ORANGE","RED","BLUE","TRANSPARENT","alpha","Checkbox","object","k","onChange","style","useState","renderHelper","setRenderHelper","margin","checked","event","target","icon","color","toString","checkedIcon","Row","styled","div","SidebarTitle","SidebarSection","title","children","collapsible","startCollapsed","collapsed","setCollapsed","maxHeight","undefined","overflow","position","marginTop","justifyContent","alignItems","marginBottom","IconButton","marginRight","FadeOut","MiniButton","disabled","finalColor","fade","minWidth","maxWidth","minHeight","borderColor","TextField","value","focusFirstRender","onSubmit","inputRef","useRef","useEffect","current","focus","ref","className","e","onKeyDown","key","Sidebar","content","page","onSetOpen","sidebar","Container","aria-label","top","right","fontSize","styles","background","display","overlay","bottom","T","unselectable","monospace","finalStyle","fontFamily","UnselectableText","UnMemoizedSquare","val","selectionOpacity","cursored","isBreakpoint","onMouseDown","onMouseOver","onDoubleClick","mix","Background","backgroundColor","areEqual","prev","next","Direction","Square","React","memo","Coordinate","x","y","this","other","horizontalDirection","DIRECTION_VECTOR","Right","Left","verticalDirection","Down","Up","Math","abs","majorVector","majorMax","minorVector","minorMax","constArray2","width","height","Array","fill","map","range","start","count","step","Grid","code","cursor","editor","containerRef","focused","setFocused","setFocusMethod","isSelectedX","useCallback","getSelectionCheckFunction","selection","selectionDelta","limits","isSelectedY","enabled","blink","setBlink","interval","setInterval","clearInterval","useBlink","onFocus","hasFocus","onBlur","tabIndex","YNumberBox","XNumberBox","breakpoints","coordinate","delta","limit","a","b","sum","modSum","Stack","stack","flex","padding","scrollbarWidth","slice","reverse","index","Input","submitInput","inputType","input","setInput","parseInput","useMemo","charAt","length","replace","newVal","marginLeft","InputOutput","output","requestingInput","OutputContainer","OutputInnerScrollingContainer","split","InputContainer","fontWeight","AsciiCalculator","char","setChar","charCodeAt","num","setNum","n","String","fromCharCode","parseInt","WalkingSpeedControl","befunge","increaseWalkingDelay","walkingDelayIndex","flexDirection","decreaseWalkingDelay","ExpandCollapseArrows","columns","setColumns","showLeft","showRight","alignSelf","paddingLeft","paddingRight","borderRadius","useLocalStorageAsState","storageKey","initialValue","storedString","localStorage","getItem","JSON","parse","setValueState","newValue","setItem","stringify","ControlPanel","console","log","Column","walking","pause","walk","running","run","reset","DIRECTION_SYMBOL","direction","getSelectedCharacter","getCursorCharacter","stringMode","options","setChangeDirectionOnDirectionCharacters","setUseSelectionDirectionForCutCopyPaste","CodingSpace","Label","flexGrow","acceptInput","SquareBackground","M","text","B","befungeCommands","command","description","customCommandStyle","editorCommands","saturate","BefungeCommandRow","commandComponent","EditorCommandRow","InfoSidebarContent","Title","href","examples","Example","render","navigator","clipboard","writeText","setCode","ExampleSidebarContent","exampleDetails","Code","resetPointWithEdits","resetPointWithoutEdits","clone","setToCopy","forEach","col","_element","cloneDeep","isResetable","withEdits","resetPoint","isEqual","Befunge","halted","walkingDelay","history","future","autoBind","push","createHistoryPoint","point","pop","revertToPoint","add","modulo","s","makeResetable","stepOver","recur","slowStep","setTimeout","renderPeriodically","i","quickStep","cursorAtBreakpoint","execute","moveCursor","get","isValidCommand","throwUnrecognisedCommand","halt","floor","Number","random","coord","equals","executionPut","walkingDelays","CodeEditorOptions","useSelectionDirectionForCutCopyPaste","changeDirectionOnDirectionCharacters","CodeEditor","executor","externalOnChange","deleteMode","newFocusMethod","setHistoryPoint","clearAll","paste","historyPointToGoBackTo","undo","futurePointToGoBackTo","redo","buttons","shiftKey","set","ctrlKey","metaKey","handleKeyboardShortcuts","handleEnteredCharacter","match","handleSelectionMovement","handleDeletion","onCopy","clearSelection","textToCopy","selectionForEach","cellAction","rowEndAction","directions","getMajorAndMinorDirections","clipboardData","setData","preventDefault","getData","pasteCoords","newLineCoord","getDefaultIterationDirections","userPut","walkOrPause","runOrPause","fillSelection","changeTypingDirectionIfNeeded","stepSelection","movementDirection","negative","directionVector","iterationCoord","minor","times","major","x0","min","y0","character","App","infoOpen","setInfoOpen","examplesOpen","setExamplesOpen","document","addEventListener","onCut","onPaste","cookieCode","removeEventListener","useBefunge","pullRight","open","left","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.bb107846.chunk.js","sourcesContent":["import React from \"react\";\nimport MaterialButton from \"@material-ui/core/Button\";\n\ninterface Props {\n  label: React.ReactNode;\n  onClick: () => void;\n  disabled?: boolean;\n  style?: React.CSSProperties;\n  color?: \"primary\" | \"secondary\";\n  variant?: \"text\" | \"outlined\";\n  disableElevation?: boolean;\n  size?: \"large\" | \"medium\" | \"small\";\n}\n\nexport function Button({\n  label,\n  onClick,\n  size = \"small\",\n  ...rest\n}: Props): React.ReactElement {\n  return (\n    <MaterialButton\n      variant=\"contained\"\n      size={size}\n      disableElevation\n      onClick={onClick}\n      {...rest}\n    >\n      {label}\n    </MaterialButton>\n  );\n}\n","import Color from \"color\";\n\nexport const Colors = {\n  DARKEST: Color(\"#0d1416\"),\n  DARKER: Color(\"#1d2426\"),\n  DARK: Color(\"#283134\"),\n  LIGHT: Color(\"#f7f9f9\"),\n  GREY: Color(\"#CCCCCC\"),\n  FOCUS: Color(\"#5577FF\"),\n  ACCENT_BLUE: Color(\"#5ed6ff\"),\n  ACCENT_ORANGE: Color(\"#FF875E\"),\n  RED: Color(\"#FF0000\"),\n  BLUE: Color(\"#0000FF\"),\n  TRANSPARENT: Color(\"#000000\").alpha(0),\n};\n","import React, { useState } from \"react\";\nimport { ImCheckboxChecked, ImCheckboxUnchecked } from \"react-icons/im\";\nimport MaterialUICheckbox from \"@material-ui/core/Checkbox\";\nimport { Colors } from \"./Colors\";\n\ninterface Props<T extends string> {\n  object: { [key in T]: boolean };\n  k: T;\n  onChange: (newValue: boolean) => void;\n  style?: React.CSSProperties;\n}\n\nexport function Checkbox<T extends string>({\n  object,\n  k,\n  onChange,\n  style,\n}: Props<T>): React.ReactElement {\n  const [renderHelper, setRenderHelper] = useState(false);\n\n  return (\n    <div style={style}>\n      <div style={{ margin: -4 }}>\n        <MaterialUICheckbox\n          checked={object[k]}\n          onChange={(event): void => {\n            onChange(event.target.checked);\n            setRenderHelper(!renderHelper);\n          }}\n          icon={\n            <ImCheckboxUnchecked\n              size={11}\n              color={Colors.ACCENT_BLUE.toString()}\n            />\n          }\n          checkedIcon={\n            <ImCheckboxChecked\n              size={11}\n              color={Colors.ACCENT_BLUE.toString()}\n            />\n          }\n        />\n      </div>\n    </div>\n  );\n}\n","import styled from \"styled-components\";\n\nexport const Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`;\n","import styled from \"styled-components\";\nimport { Colors } from \"./Colors\";\n\nexport const SidebarTitle = styled.div`\n  color: ${Colors.LIGHT.toString()};\n  font-size: 18px;\n`;\n","import React, { useState } from \"react\";\nimport { Colors } from \"./Colors\";\nimport { Row } from \"./Row\";\nimport { SidebarTitle } from \"./SidebarTitle\";\nimport styled from \"styled-components\";\nimport { IconButton } from \"@material-ui/core\";\nimport { AiOutlinePlus, AiOutlineMinus } from \"react-icons/ai\";\n\ninterface Props {\n  title: string;\n  children: React.ReactNode;\n  collapsible?: boolean;\n  startCollapsed?: boolean;\n}\n\nexport function SidebarSection({\n  title,\n  children,\n  collapsible = false,\n  startCollapsed = collapsible,\n}: Props): React.ReactElement {\n  const [collapsed, setCollapsed] = useState(startCollapsed);\n\n  return (\n    <>\n      <div\n        style={{\n          maxHeight: collapsed ? 160 : undefined,\n          overflow: \"hidden\",\n          position: \"relative\",\n          marginTop: 24,\n        }}\n      >\n        <Row\n          style={{\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            marginBottom: 12,\n          }}\n        >\n          <SidebarTitle>{title}</SidebarTitle>\n          {collapsible && (\n            <IconButton\n              style={{ color: Colors.ACCENT_BLUE.toString(), marginRight: -4 }}\n              onClick={(): void => setCollapsed(!collapsed)}\n            >\n              {collapsed ? (\n                <AiOutlinePlus size={12} />\n              ) : (\n                <AiOutlineMinus size={12} />\n              )}\n            </IconButton>\n          )}\n        </Row>\n        {children}\n        {collapsed && <FadeOut onClick={(): void => setCollapsed(false)} />}\n      </div>\n    </>\n  );\n}\n\nconst FadeOut = styled.div`\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 160px;\n  background: linear-gradient(transparent, ${Colors.DARKER.toString()});\n`;\n","import React from \"react\";\nimport { Colors } from \"./Colors\";\nimport { Button } from \"./Button\";\nimport Color from \"color\";\n\ninterface Props {\n  label: React.ReactNode;\n  onClick: () => void;\n  disabled?: boolean;\n  style?: React.CSSProperties;\n  color?: string;\n  disableElevation?: boolean;\n}\n\nexport function MiniButton({\n  label,\n  color,\n  disabled,\n  style,\n  ...rest\n}: Props): React.ReactElement {\n  const finalColor = (color ? Color(color) : Colors.LIGHT.fade(0.2))\n    .fade(disabled === true ? 0.6 : 0)\n    .toString();\n\n  return (\n    <Button\n      label={<div style={{ marginBottom: 2.4 }}>{label}</div>}\n      variant=\"outlined\"\n      style={{\n        minWidth: 16,\n        maxWidth: 16,\n        minHeight: 16,\n        maxHeight: 16,\n        color: finalColor,\n        borderColor: finalColor,\n        ...style,\n      }}\n      disabled={disabled}\n      {...rest}\n    />\n  );\n}\n","import React, { useEffect, useRef } from \"react\";\nimport \"./TextField.css\";\n\ninterface Props {\n  value: string | number;\n  onChange: (newVal: string) => void;\n  style: React.CSSProperties;\n  focusFirstRender?: boolean;\n  onSubmit?: () => void;\n}\n\nexport function TextField({\n  value,\n  onChange,\n  style,\n  focusFirstRender,\n  onSubmit,\n}: Props): React.ReactElement {\n  const inputRef = useRef<HTMLInputElement>(null);\n  useEffect(() => {\n    if (focusFirstRender) inputRef.current?.focus();\n  }, []);\n\n  return (\n    <input\n      ref={inputRef}\n      value={value}\n      className=\"input\"\n      onChange={(e): void => {\n        onChange(e.target.value);\n      }}\n      onKeyDown={(e): void => {\n        if (e.key === \"Enter\") onSubmit?.();\n      }}\n      style={style}\n    />\n  );\n}\n","import React from \"react\";\nimport { Colors } from \"./Colors\";\nimport ReactSidebar from \"react-sidebar\";\nimport { IconButton } from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport styled from \"styled-components\";\n\ninterface Props {\n  content: React.ReactElement;\n  page: React.ReactElement;\n  open: boolean;\n  onSetOpen: (open: boolean) => void;\n  pullRight?: boolean;\n}\n\nexport function Sidebar({\n  content,\n  page,\n  onSetOpen,\n  ...rest\n}: Props): React.ReactElement {\n  return (\n    <ReactSidebar\n      sidebar={\n        <Container>\n          <IconButton\n            aria-label=\"close-side-bar\"\n            style={{\n              position: \"absolute\",\n              top: 8,\n              right: 8,\n              color: Colors.ACCENT_BLUE.toString(),\n            }}\n            onClick={(): void => onSetOpen(false)}\n          >\n            <CloseIcon fontSize=\"small\" />\n          </IconButton>\n          {content}\n        </Container>\n      }\n      styles={{\n        sidebar: { background: Colors.DARKER.toString() },\n        content: { display: \"flex\" },\n        overlay: { bottom: undefined, top: undefined },\n      }}\n      onSetOpen={onSetOpen}\n      {...rest}\n    >\n      {page}\n    </ReactSidebar>\n  );\n}\n\nconst Container = styled.div`\n  padding: 24px;\n  width: 240px;\n  font-size: 12px;\n  color: ${Colors.LIGHT.fade(0.2).toString()};\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Colors } from \"./Colors\";\nimport Color from \"color\";\n\ninterface Props {\n  size?: \"small\" | \"tiny\";\n  color?: Color;\n  children: React.ReactNode;\n  unselectable?: boolean;\n  monospace?: boolean;\n  style?: React.CSSProperties;\n}\n\nexport function T({\n  size,\n  color,\n  unselectable,\n  monospace,\n  children,\n  style,\n}: Props): React.ReactElement {\n  const finalStyle = {\n    color: (color || Colors.LIGHT.fade(0.2)).toString(),\n    fontSize:\n      size === \"tiny\" ? 8 : size === \"small\" ? 11 : size === \"big\" ? 16 : 12,\n    fontFamily: monospace ? \"monospace\" : undefined,\n    ...style,\n  };\n\n  return unselectable ? (\n    <UnselectableText style={finalStyle}>{children}</UnselectableText>\n  ) : (\n    <div style={finalStyle}>{children}</div>\n  );\n}\n\nconst UnselectableText = styled.div`\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n`;\n","import React, { MouseEvent } from \"react\";\nimport styled from \"styled-components\";\nimport { Colors } from \"ui\";\n\ninterface Props {\n  val: string;\n  selectionOpacity?: number | false;\n  cursored?: boolean;\n  isBreakpoint?: boolean;\n  onMouseDown?: (e: MouseEvent) => void;\n  onMouseOver?: (e: MouseEvent) => void;\n  onDoubleClick?: () => void;\n}\n\nfunction UnMemoizedSquare({\n  val,\n  selectionOpacity = false,\n  cursored,\n  isBreakpoint,\n  onMouseDown,\n  onMouseOver,\n  onDoubleClick,\n}: Props): React.ReactElement {\n  let color = Colors.TRANSPARENT;\n  if (selectionOpacity) color = color.mix(Colors.ACCENT_BLUE, selectionOpacity);\n  if (cursored) color = color.mix(Colors.ACCENT_ORANGE, 0.3);\n  if (isBreakpoint)\n    color = cursored ? color.mix(Colors.BLUE, 0.5) : color.mix(Colors.RED, 0.5);\n\n  return (\n    <Background\n      style={{ backgroundColor: color.toString() }}\n      onMouseDown={onMouseDown}\n      onMouseOver={onMouseOver}\n      onDoubleClick={onDoubleClick}\n    >\n      {val}\n    </Background>\n  );\n}\n\nconst Background = styled.div`\n  width: 14px;\n  height: 14px;\n  font-size: 12px;\n  font-family: monospace;\n  border-right: 1px solid #dddddd;\n  border-bottom: 1px solid #dddddd;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n`;\n\nfunction areEqual(prev: Props, next: Props): boolean {\n  return (\n    prev.val === next.val &&\n    prev.selectionOpacity === next.selectionOpacity &&\n    prev.cursored === next.cursored &&\n    prev.isBreakpoint === next.isBreakpoint\n  );\n}\nexport const Square = React.memo(UnMemoizedSquare, areEqual);\n","export class Coordinate {\n  constructor(public x: number, public y: number) {}\n\n  set(x: number, y: number): Coordinate {\n    this.x = x;\n    this.y = y;\n    return this;\n  }\n\n  setToCopy(other: Coordinate): Coordinate {\n    this.x = other.x;\n    this.y = other.y;\n    return this;\n  }\n\n  setX(x: number): Coordinate {\n    this.x = x;\n    return this;\n  }\n\n  setY(y: number): Coordinate {\n    this.y = y;\n    return this;\n  }\n\n  add(other: Coordinate): Coordinate {\n    this.x += other.x;\n    this.y += other.y;\n    return this;\n  }\n\n  times(k: number): Coordinate {\n    this.x *= k;\n    this.y *= k;\n    return this;\n  }\n\n  negative(): Coordinate {\n    this.x = -this.x;\n    this.y = -this.y;\n    return this;\n  }\n\n  modulo(other: Coordinate): Coordinate {\n    this.x = ((this.x % other.x) + other.x) % other.x;\n    this.y = ((this.y % other.y) + other.y) % other.y;\n    return this;\n  }\n\n  equals(other: Coordinate): boolean {\n    return this.x === other.x && this.y === other.y;\n  }\n\n  clone(): Coordinate {\n    return new Coordinate(this.x, this.y);\n  }\n\n  toString(): string {\n    return `(${this.x}, ${this.y})`;\n  }\n\n  getMajorAndMinorDirections(): MajorMinorDirections {\n    const horizontalDirection =\n      this.x >= 0\n        ? DIRECTION_VECTOR[Direction.Right]\n        : DIRECTION_VECTOR[Direction.Left];\n    const verticalDirection =\n      this.y >= 0\n        ? DIRECTION_VECTOR[Direction.Down]\n        : DIRECTION_VECTOR[Direction.Up];\n    return Math.abs(this.x) >= Math.abs(this.y)\n      ? {\n          majorVector: horizontalDirection,\n          majorMax: Math.abs(this.x),\n          minorVector: verticalDirection,\n          minorMax: Math.abs(this.y),\n        }\n      : {\n          majorVector: verticalDirection,\n          majorMax: Math.abs(this.y),\n          minorVector: horizontalDirection,\n          minorMax: Math.abs(this.x),\n        };\n  }\n}\n\nexport interface MajorMinorDirections {\n  majorVector: Coordinate;\n  majorMax: number;\n  minorVector: Coordinate;\n  minorMax: number;\n}\n\nexport enum Direction {\n  Left,\n  Right,\n  Up,\n  Down,\n}\n\nexport const DIRECTION_VECTOR = {\n  [Direction.Left]: new Coordinate(-1, 0),\n  [Direction.Right]: new Coordinate(1, 0),\n  [Direction.Up]: new Coordinate(0, -1),\n  [Direction.Down]: new Coordinate(0, 1),\n};\n\nexport type DirectionName = keyof typeof Direction;\n","export function constArray2<T>(width: number, height: number, value: T): T[][] {\n  return Array(width)\n    .fill(false)\n    .map(() => Array(height).fill(value));\n}\n","export function range(start: number, count: number, step = 1): number[] {\n  return count > 0\n    ? Array(count)\n        .fill(start)\n        .map((x, y) => x + step * y)\n    : [];\n}\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport { Colors, Row, T } from \"ui\";\nimport { Square } from \"./Square\";\nimport { Coordinate, modulo, range } from \"utilities\";\nimport { Code, CodeEditor } from \"logic\";\nimport styled from \"styled-components\";\nimport { useBlink } from \"./useBlink\";\n\nexport function Grid({\n  code,\n  cursor,\n  editor: e,\n}: {\n  code: Code;\n  cursor: Coordinate;\n  editor: CodeEditor;\n}): React.ReactElement {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [focused, setFocused] = useState(false);\n  useEffect(() => {\n    containerRef.current?.focus();\n    e.setFocusMethod((): void => containerRef.current?.focus());\n  }, []);\n\n  const isSelectedX = useCallback(\n    getSelectionCheckFunction(\n      e.selection.x,\n      e.selectionDelta.x,\n      e.limits.x,\n      focused\n    ),\n    [e.selection.x, e.selectionDelta.x, e.limits.x, focused]\n  );\n\n  const isSelectedY = useCallback(\n    getSelectionCheckFunction(\n      e.selection.y,\n      e.selectionDelta.y,\n      e.limits.y,\n      focused\n    ),\n    [e.selection.y, e.selectionDelta.y, e.limits.y, focused]\n  );\n\n  const { blink } = useBlink(focused);\n  const selectionOpacity = blink ? 0.35 : 0.2;\n\n  return (\n    <Container\n      focused={focused}\n      ref={containerRef}\n      onFocus={(): void => {\n        e.hasFocus = true;\n        setFocused(true);\n      }}\n      onBlur={(): void => {\n        e.hasFocus = false;\n        setFocused(false);\n      }}\n      tabIndex={0}\n    >\n      {range(-1, e.limits.y + 1).map((y) => (\n        <Row key={y} style={{ justifyContent: \"flex-end\" }}>\n          {range(-1, e.limits.x + 1).map((x) =>\n            x === -1 && y === -1 ? null : x === -1 ? (\n              <YNumberBox key={`${x},${y}`}>\n                <T size=\"tiny\" color={Colors.DARK.fade(0.4)}>\n                  {y}\n                </T>\n              </YNumberBox>\n            ) : y === -1 ? (\n              <XNumberBox key={`${x},${y}`}>\n                <T size=\"tiny\" color={Colors.DARK.fade(0.4)}>\n                  {x}\n                </T>\n              </XNumberBox>\n            ) : (\n              <Square\n                val={code.code[x][y]}\n                selectionOpacity={\n                  isSelectedX(x) && isSelectedY(y) && selectionOpacity\n                }\n                cursored={x === cursor.x && y === cursor.y}\n                isBreakpoint={code.breakpoints[x][y]}\n                onMouseDown={e.onMouseDown(x, y)}\n                onMouseOver={e.onMouseOver(x, y)}\n                onDoubleClick={e.onDoubleClick(x, y)}\n                key={`${x},${y}`}\n              />\n            )\n          )}\n        </Row>\n      ))}\n    </Container>\n  );\n}\n\nfunction getSelectionCheckFunction(\n  coordinate: number,\n  delta: number,\n  limit: number,\n  focused: boolean\n): (a: number) => boolean {\n  if (!focused) return (): boolean => false;\n  if (delta === 0) return (a: number): boolean => a === coordinate;\n  const sum = coordinate + delta;\n  const modSum = modulo(coordinate + delta, limit);\n  if (delta < 0) {\n    if (modSum === sum)\n      return (a: number): boolean => coordinate + delta <= a && a <= coordinate;\n    else return (a: number): boolean => a <= coordinate || a >= modSum;\n  } else {\n    if (modSum === sum)\n      return (a: number): boolean => coordinate <= a && a <= coordinate + delta;\n    else return (a: number): boolean => a <= modSum || a >= coordinate;\n  }\n}\n\nconst Container = styled.div<{ focused: boolean }>`\n  padding-right: 8px;\n  padding-bottom: 8px;\n  padding-left: 4px;\n  padding-top: 4px;\n  background-color: ${Colors.LIGHT.toString()};\n  border-radius: 4px;\n  outline: 0 none !important;\n  ${({ focused }): string => {\n    return focused\n      ? `box-shadow: 0px 0px 0px 2px ${Colors.FOCUS.toString()}`\n      : \"\";\n  }};\n`;\n\nconst XNumberBox = styled.div`\n  width: 15px;\n  padding-bottom: 4px;\n  display: flex;\n  align-items: flex-end;\n  justify-content: center;\n  border-bottom: 1px solid #dddddd;\n`;\n\nconst YNumberBox = styled.div`\n  height: 15px;\n  padding-right: 4px;\n  overflow: hidden;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  border-right: 1px solid #dddddd;\n`;\n","import { useEffect, useState } from \"react\";\n\nexport function useBlink(enabled?: boolean): { blink: boolean } {\n  const [blink, setBlink] = useState(false);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      if (enabled) setBlink((blink) => !blink);\n    }, 600);\n    return (): void => clearInterval(interval);\n  }, [enabled]);\n\n  return { blink };\n}\n","export function modulo(a: number, b: number): number {\n  return ((a % b) + b) % b;\n}\n","import React from \"react\";\nimport { Colors } from \"ui\";\n\ninterface Props {\n  stack: number[];\n  style?: React.CSSProperties;\n}\n\nexport function Stack({ stack, style }: Props): React.ReactElement {\n  return (\n    <div\n      style={{\n        width: 120,\n        flex: 1,\n        backgroundColor: Colors.LIGHT.toString(),\n        padding: 8,\n        overflow: \"scroll\",\n        scrollbarWidth: \"none\",\n        ...style,\n      }}\n    >\n      {stack\n        .slice()\n        .reverse()\n        .map((value, index) => (\n          <div key={index}>{value}</div>\n        ))}\n    </div>\n  );\n}\n","import React, { useCallback, useMemo, useState } from \"react\";\nimport { TextField, Button } from \"ui\";\n\ninterface Props {\n  submitInput: (input: string) => void;\n  inputType: \"number\" | \"character\";\n}\n\nexport function Input({ submitInput, inputType }: Props): React.ReactElement {\n  const [input, setInput] = useState(\"\");\n\n  const parseInput = useMemo(\n    () =>\n      inputType === \"character\"\n        ? (input: string): string => input.charAt(input.length - 1)\n        : inputType === \"number\"\n        ? (input: string): string => input.replace(/[^0-9]/, \"\")\n        : (input: string): string => input,\n    [inputType]\n  );\n\n  const onSubmit = useCallback((): void => {\n    submitInput(input);\n    setInput(\"\");\n  }, [input]);\n\n  return (\n    <>\n      <TextField\n        value={input}\n        onChange={(newVal): void => setInput(parseInput(newVal))}\n        style={{ width: 80 }}\n        focusFirstRender\n        onSubmit={onSubmit}\n      />\n      <Button\n        label={\"Submit\"}\n        onClick={onSubmit}\n        style={{ marginLeft: 8 }}\n        color=\"secondary\"\n        disableElevation={false}\n      />\n    </>\n  );\n}\n","import React from \"react\";\nimport { Colors } from \"ui\";\nimport { InputRequestStatus } from \"logic\";\nimport styled from \"styled-components\";\nimport { Input } from \"./Input\";\n\ninterface Props {\n  output: string;\n  requestingInput: InputRequestStatus;\n  submitInput: (input: string) => void;\n  style?: React.CSSProperties;\n}\n\nexport function InputOutput({\n  output,\n  requestingInput,\n  submitInput,\n}: Props): React.ReactElement {\n  return (\n    <>\n      <OutputContainer>\n        <OutputInnerScrollingContainer>\n          {output.split(\"\\n\").map((x, index) => (\n            <div key={index}>{x}</div>\n          ))}\n        </OutputInnerScrollingContainer>\n      </OutputContainer>\n      <InputContainer>\n        <div>\n          {requestingInput === \"character\" ? (\n            <div style={{ color: \"#000033\", fontWeight: 600 }}>\n              Please enter a character:{\" \"}\n              <Input submitInput={submitInput} inputType=\"character\" />\n            </div>\n          ) : requestingInput === \"number\" ? (\n            <div style={{ color: \"#000033\", fontWeight: 600 }}>\n              Please enter a number:{\" \"}\n              <Input submitInput={submitInput} inputType=\"number\" />\n            </div>\n          ) : requestingInput === \"divideBy0\" ? (\n            <div style={{ color: \"#000033\", fontWeight: 600 }}>\n              Division by 0. Please enter the result:{\" \"}\n              <Input submitInput={submitInput} inputType=\"number\" />\n            </div>\n          ) : (\n            <div style={{ color: Colors.DARK.fade(0.3).toString() }}>\n              No input needed\n            </div>\n          )}\n        </div>\n      </InputContainer>\n    </>\n  );\n}\n\nconst OutputContainer = styled.div`\n  flex: 1;\n  height: 0px;\n  display: flex;\n`;\n\nconst OutputInnerScrollingContainer = styled.div`\n  flex: 1;\n  width: 0px;\n  background-color: ${Colors.LIGHT.toString()};\n  overflow: scroll;\n  scrollbar-width: thin;\n  flex-direction: column;\n  padding: 8px;\n`;\n\nconst InputContainer = styled.div`\n  background-color: ${Colors.LIGHT.toString()};\n  border-top: 1px solid ${Colors.GREY.toString()};\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: center;\n  height: 48px;\n`;\n","import { Colors, Row, T, TextField } from \"ui\";\nimport React, { useState } from \"react\";\n\nexport function AsciiCalculator(): React.ReactElement {\n  const [char, setChar] = useState(\"A\");\n  const [num, setNum] = useState(\"A\".charCodeAt(0).toString());\n\n  return (\n    <>\n      <Row style={{ flex: 1, justifyContent: \"center\", marginBottom: 6 }}>\n        <TextField\n          value={char}\n          onChange={(newVal): void => {\n            const input = newVal;\n            const value = input.charAt(input.length - 1);\n            setChar(value);\n            setNum(value ? value.charCodeAt(0).toString() : \"\");\n          }}\n          style={{\n            backgroundColor: Colors.DARKER.toString(),\n            color: Colors.LIGHT.toString(),\n            width: 11,\n          }}\n        />\n        <T size=\"small\" unselectable style={{ marginLeft: 16 }}>\n          n\n        </T>\n        <TextField\n          value={num}\n          onChange={(newVal): void => {\n            const n = newVal.replace(/[^0-9]/, \"\");\n            setNum(n);\n            setChar(String.fromCharCode(parseInt(n)));\n          }}\n          style={{\n            backgroundColor: Colors.DARKER.toString(),\n            color: Colors.LIGHT.toString(),\n            width: 40,\n            marginLeft: 16,\n          }}\n        />\n      </Row>\n    </>\n  );\n}\n","import { Row, T, MiniButton } from \"ui\";\nimport React from \"react\";\nimport { Befunge } from \"logic\";\n\nexport function WalkingSpeedControl({\n  befunge: b,\n}: {\n  befunge: Befunge;\n}): React.ReactElement {\n  return (\n    <>\n      <T>Walking speed:</T>\n      <Row style={{ marginLeft: 8, justifyContent: \"space-between\" }}>\n        <MiniButton\n          label={\"-\"}\n          onClick={b.increaseWalkingDelay}\n          disabled={b.walkingDelayIndex >= 4}\n        />\n        <T\n          size=\"small\"\n          unselectable\n          style={{\n            width: 20,\n            display: \"flex\",\n            flexDirection: \"row\",\n            justifyContent: \"center\",\n          }}\n        >\n          {5 - b.walkingDelayIndex}\n        </T>\n        <MiniButton\n          label={\"+\"}\n          onClick={b.decreaseWalkingDelay}\n          disabled={b.walkingDelayIndex <= 0}\n        />\n      </Row>\n    </>\n  );\n}\n","import { Colors } from \"ui\";\nimport React from \"react\";\nimport { BsChevronCompactLeft, BsChevronCompactRight } from \"react-icons/bs\";\nimport { IconButton } from \"@material-ui/core\";\n\nexport function ExpandCollapseArrows({\n  columns,\n  setColumns,\n}: {\n  columns: number;\n  setColumns: (newVal: number) => void;\n}): React.ReactElement {\n  const showLeft = columns > 1;\n  const showRight = columns < 3;\n\n  return (\n    <div\n      style={{\n        alignSelf: \"center\",\n        marginRight: -20,\n        display: \"flex\",\n        marginLeft: columns >= 2 ? 12 : 4,\n        backgroundColor: Colors.DARKEST.toString(),\n        paddingLeft: 2,\n        paddingRight: 2,\n        borderRadius: 4,\n      }}\n    >\n      <div\n        style={{\n          width: 8,\n          overflow: \"hidden\",\n        }}\n      >\n        {showLeft && (\n          <IconButton\n            aria-label=\"collapse-options\"\n            style={{\n              color: Colors.ACCENT_BLUE.toString(),\n              marginLeft: -20,\n              marginTop: -8,\n              marginBottom: -8,\n              backgroundColor: \"transparent\",\n            }}\n            onClick={(): void => setColumns(columns - 1)}\n          >\n            <BsChevronCompactLeft />\n          </IconButton>\n        )}\n      </div>\n\n      <div\n        style={{\n          width: 8,\n          overflow: \"hidden\",\n        }}\n      >\n        {showRight && (\n          <IconButton\n            aria-label=\"expand-options\"\n            style={{\n              color: Colors.ACCENT_BLUE.toString(),\n              marginLeft: -20,\n              marginTop: -8,\n              marginBottom: -8,\n              backgroundColor: \"transparent\",\n            }}\n            onClick={(): void => setColumns(columns + 1)}\n          >\n            <BsChevronCompactRight />\n          </IconButton>\n        )}\n      </div>\n    </div>\n  );\n}\n","import { useCallback, useState } from \"react\";\n\nexport function useLocalStorageAsState<T>({\n  storageKey,\n  initialValue,\n}: {\n  storageKey: string;\n  initialValue: T;\n}): [T, (newValue: T) => void] {\n  const [value, setValueState] = useState<T>((): T => {\n    const storedString = localStorage.getItem(storageKey);\n    if (storedString === null) return initialValue;\n    return JSON.parse(storedString);\n  });\n\n  const setValue = useCallback((newValue: T) => {\n    setValueState(newValue);\n    localStorage.setItem(storageKey, JSON.stringify(newValue));\n  }, []);\n\n  return [value, setValue];\n}\n","import { Button, Colors, Checkbox, T } from \"ui\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { Befunge, CodeEditor } from \"logic\";\nimport { AsciiCalculator } from \"./AsciiCalculator\";\nimport { WalkingSpeedControl } from \"./WalkingSpeedControl\";\nimport { Direction } from \"utilities\";\nimport { ExpandCollapseArrows } from \"./ExpandCollapseArrows\";\nimport { useLocalStorageAsState } from \"../../../utilities/useLocalStorageAsState\";\n\nexport function ControlPanel({\n  befunge: b,\n  editor: e,\n}: {\n  befunge: Befunge;\n  editor: CodeEditor;\n}): React.ReactElement {\n  const [columns, setColumns] = useLocalStorageAsState({\n    storageKey: \"controlPanelColumns\",\n    initialValue: 2,\n  });\n\n  console.log(\"rendering\");\n  return (\n    <Container style={{ flex: 1 }}>\n      <Column>\n        <Button label={\"Step\"} onClick={b.step} />\n        <Button\n          label={b.walking ? \"Pause\" : \"Walk\"}\n          onClick={b.walking ? b.pause : b.walk}\n          style={{ marginTop: 8 }}\n        />\n        <Button\n          label={b.running ? \"Pause\" : \"Run\"}\n          onClick={b.running ? b.pause : b.run}\n          style={{ marginTop: 8 }}\n        />\n        <Button label={\"Reset\"} onClick={b.reset} style={{ marginTop: 8 }} />\n      </Column>\n      {columns >= 2 && (\n        <Column style={{ marginLeft: 16 }}>\n          <Row>\n            <T size=\"small\">Code input direction:</T>\n            <T\n              size=\"small\"\n              style={{ marginLeft: 4, color: Colors.ACCENT_BLUE.toString() }}\n            >\n              {DIRECTION_SYMBOL[e.direction]}\n            </T>\n          </Row>\n          <Row>\n            <T size=\"small\">Input cursor ascii:</T>\n            <T\n              size=\"small\"\n              style={{ marginLeft: 4, color: Colors.ACCENT_BLUE.toString() }}\n            >\n              {e.getSelectedCharacter().charCodeAt(0)}\n            </T>\n          </Row>\n          <Row>\n            <T size=\"small\">Execution direction:</T>\n            <T\n              size=\"small\"\n              style={{ marginLeft: 4, color: Colors.ACCENT_ORANGE.toString() }}\n            >\n              {DIRECTION_SYMBOL[b.direction]}\n            </T>\n          </Row>\n          <Row>\n            <T size=\"small\">Execution cursor ascii:</T>\n            <T\n              size=\"small\"\n              style={{ marginLeft: 4, color: Colors.ACCENT_ORANGE.toString() }}\n            >\n              {b.getCursorCharacter().charCodeAt(0)}\n            </T>\n          </Row>\n          <Row>\n            <T size=\"small\">String mode enabled:</T>\n            <T size=\"small\" style={{ marginLeft: 4 }}>\n              {b.stringMode ? \"Yes\" : \"No\"}\n            </T>\n          </Row>\n          <Row style={{ marginTop: 2, marginBottom: 2 }}>\n            <WalkingSpeedControl befunge={b} />\n          </Row>\n          <T size=\"small\">ASCII value calculator:</T>\n          <Row>\n            <AsciiCalculator />\n          </Row>\n        </Column>\n      )}\n      {columns >= 3 && (\n        <Column style={{ marginLeft: 16, justifyContent: \"flex-start\" }}>\n          <Row>\n            <T size=\"small\" style={{ width: 120 }}>\n              Change input direction on{\" \"}\n              <text style={{ fontFamily: \"monospace\" }}>{\"<>^v\"}</text>:\n            </T>\n            <Checkbox\n              object={e.options}\n              k={\"changeDirectionOnDirectionCharacters\"}\n              onChange={(newVal: boolean): void =>\n                e.options.setChangeDirectionOnDirectionCharacters(newVal)\n              }\n              style={{ marginLeft: 4 }}\n            />\n          </Row>\n          <Row style={{ marginTop: 4 }}>\n            <T size=\"small\" style={{ width: 120 }}>\n              Cut/copy/paste in selection direction:\n            </T>\n            <Checkbox\n              object={e.options}\n              k={\"useSelectionDirectionForCutCopyPaste\"}\n              onChange={(newVal: boolean): void =>\n                e.options.setUseSelectionDirectionForCutCopyPaste(newVal)\n              }\n              style={{ marginLeft: 4 }}\n            />\n          </Row>\n        </Column>\n      )}\n\n      <ExpandCollapseArrows columns={columns} setColumns={setColumns} />\n    </Container>\n  );\n}\n\nconst DIRECTION_SYMBOL = {\n  [Direction.Left]: \"\",\n  [Direction.Right]: \"\",\n  [Direction.Up]: \"\",\n  [Direction.Down]: \"\",\n};\n\nconst Column = styled.div`\n  align-self: stretch;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n`;\n\nconst Row = styled.div`\n  align-self: stretch;\n  justify-content: space-between;\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n`;\n\nconst Container = styled.div`\n  align-self: stretch;\n  display: flex;\n  flex-direction: row;\n  padding: 12px;\n  background-color: ${Colors.DARKER.toString()};\n  shadow: -2px 2px 4px rgba(0, 0, 0, 0.3);\n`;\n","import React, { ReactElement } from \"react\";\nimport styled from \"styled-components\";\nimport { Grid } from \"./Grid\";\nimport { Stack } from \"./Stack\";\nimport { InputOutput } from \"./InputOutput\";\nimport { Row, Colors } from \"ui\";\nimport { ControlPanel } from \"./ControlPanel\";\nimport { Befunge, CodeEditor } from \"logic\";\n\ninterface Props {\n  e: CodeEditor;\n  b: Befunge;\n}\n\nexport function CodingSpace({ e, b }: Props): ReactElement {\n  return (\n    <Container>\n      <div>\n        <Label>Code editor</Label>\n        <Grid code={b.code} cursor={b.cursor} editor={e} />\n      </div>\n      <Row style={{ marginTop: 16, width: 15 * b.width, height: 220 }}>\n        <Column>\n          <Label>Stack</Label>\n          <Stack stack={b.stack} />\n        </Column>\n        <Column style={{ marginLeft: 16 }}>\n          <Label>Control panel</Label>\n          <ControlPanel befunge={b} editor={e} />\n        </Column>\n        <Column style={{ marginLeft: 16, flexGrow: 1 }}>\n          <Label>Input + output</Label>\n          <InputOutput\n            output={b.output}\n            requestingInput={b.requestingInput}\n            submitInput={b.acceptInput}\n          />\n        </Column>\n      </Row>\n    </Container>\n  );\n}\n\nconst Container = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Column = styled.div`\n  align-self: stretch;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Label = styled.div`\n  margin-bottom: 6px;\n  font-size: 11px;\n  color: ${Colors.LIGHT.fade(0.2).toString()};\n`;\n","import styled from \"styled-components\";\nimport { Colors } from \"ui\";\n\nexport const SquareBackground = styled.div`\n  width: 14px;\n  height: 14px;\n  font-size: 12px;\n  font-family: monospace;\n  background-color: ${Colors.LIGHT.toString()};\n  color: #000000;\n  border: 1px solid #bbbbbb;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n","import React from \"react\";\nimport { SquareBackground } from \"./SquareBackground\";\nimport styled from \"styled-components\";\n\nconst M = styled.text`\n  font-family: monospace;\n`;\n\nconst B = styled.text``;\n\nexport const befungeCommands = [\n  {\n    key: \"0\",\n\n    command: (\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          marginBottom: 8,\n        }}\n      >\n        <SquareBackground>0</SquareBackground>\n        <SquareBackground>9</SquareBackground>\n      </div>\n    ),\n    description: (\n      <div style={{ marginTop: 8 }}>\n        Push the corresponding number onto the stack\n      </div>\n    ),\n    customCommandStyle: true,\n  },\n  {\n    key: \"+\",\n    command: \"+\",\n    description: (\n      <div>\n        <B>Addition:</B> pop two values <M>a</M> then <M>b</M>, then push the\n        result of <M>a + b</M>\n      </div>\n    ),\n  },\n  {\n    key: \"-\",\n    command: \"-\",\n    description: (\n      <div>\n        <B>Subtraction:</B> pop two values <M>a</M> then <M>b</M>, then push the\n        result of <M>b - a</M>\n      </div>\n    ),\n  },\n  {\n    key: \"*\",\n    command: \"*\",\n    description: (\n      <div>\n        <B>Multiplication:</B> pop two values <M>a</M> then <M>b</M>, then push\n        the result of <M>a * b</M>\n      </div>\n    ),\n  },\n  {\n    key: \"/\",\n    command: \"/\",\n    description: (\n      <div>\n        <B>Integer division:</B> pop two values <M>a</M> then <M>b</M>, then\n        push the result of <M>b / a</M>, rounded down. If a is zero, ask the\n        user what result they want.\n      </div>\n    ),\n  },\n  {\n    key: \"%\",\n    command: \"%\",\n    description: (\n      <div>\n        <B>Modulo:</B> pop two values <M>a</M> then <M>b</M>, then push the\n        remainder of the integer division of <M>b / a</M>.\n      </div>\n    ),\n  },\n  {\n    key: \"!\",\n    command: \"!\",\n    description: (\n      <div>\n        <B>Not:</B> pop a value. If the value is <M>0</M>, push <M>1</M>;\n        otherwise, push <M>0</M>.\n      </div>\n    ),\n  },\n  {\n    key: \"`\",\n    command: \"`\",\n    description: (\n      <div>\n        <B>Comparison:</B> pop two values <M>a</M> then <M>b</M>, then push{\" \"}\n        <M>1</M> if <M>b {\">\"} a</M>, otherwise <M>0</M>.\n      </div>\n    ),\n  },\n  { key: \">\", command: \">\", description: <div>Start moving right</div> },\n  { key: \"<\", command: \"<\", description: <div>Start moving left</div> },\n  { key: \"^\", command: \"^\", description: <div>Start moving up</div> },\n  { key: \"v\", command: \"v\", description: <div>Start moving down</div> },\n  {\n    key: \"?\",\n    command: \"?\",\n    description: <div>Start moving in a random cardinal direction</div>,\n  },\n  {\n    key: \"_\",\n    command: \"_\",\n    description: (\n      <div>\n        <B>Horizontal if:</B> pop a value; set direction to right if value is{\" \"}\n        <M>0</M>, set to left otherwise\n      </div>\n    ),\n  },\n  {\n    key: \"|\",\n    command: \"|\",\n    description: (\n      <div>\n        <B>Vertical if:</B> pop a value; set direction to down if value is{\" \"}\n        <M>0</M>, set to up otherwise\n      </div>\n    ),\n  },\n  {\n    key: '\"',\n    command: '\"',\n    description: (\n      <div>\n        <B>Toggle string-mode:</B> push each character&apos;s ASCII value all\n        the way up to the next <M>{'\"'}</M>\n      </div>\n    ),\n  },\n  { key: \":\", command: \":\", description: <div>Duplicate top stack value</div> },\n  { key: \"\\\\\", command: \"\\\\\", description: <div>Swap top stack values</div> },\n  {\n    key: \"$\",\n    command: \"$\",\n    description: <div>Pop (remove) top stack value and discard</div>,\n  },\n  {\n    key: \".\",\n    command: \".\",\n    description: (\n      <div>\n        <B>Integer output:</B> pop top of stack and output it as an integer\n      </div>\n    ),\n  },\n  {\n    key: \",\",\n    command: \",\",\n    description: (\n      <div>\n        <B>Character output:</B> pop top of stack and output its ASCII character\n      </div>\n    ),\n  },\n  {\n    key: \"&\",\n    command: \"&\",\n    description: (\n      <div>\n        <B>Integer input:</B> request an integer from the user and push it to\n        the stack\n      </div>\n    ),\n  },\n  {\n    key: \"~\",\n    command: \"~\",\n    description: (\n      <div>\n        <B>Character input:</B> request a character from the user and push it to\n        the stack\n      </div>\n    ),\n  },\n  {\n    key: \"#\",\n    command: \"#\",\n    description: (\n      <div>\n        <B>Bridge:</B> jump over next command in the current direction of\n        movement\n      </div>\n    ),\n  },\n  {\n    key: \"g\",\n    command: \"g\",\n    description: (\n      <div>\n        <B>Get:</B> a way to retrieve data in storage. Pop two values <M>y</M>{\" \"}\n        then <M>x</M>, then push the ASCII value of the character at that\n        position in the program. If <M>(x, y)</M> is out of bounds, push{\" \"}\n        <M>0</M>\n      </div>\n    ),\n  },\n  {\n    key: \"p\",\n    command: \"p\",\n    description: (\n      <div>\n        <B>Put:</B> a way to store a value for later use. Pop three values{\" \"}\n        <M>y</M>, then <M>x</M>, then <M>v</M>, then change the character at the\n        position <M>(x, y)</M> in the program to the character with ASCII value{\" \"}\n        <M>v</M>\n      </div>\n    ),\n  },\n  { key: \"@\", command: \"@\", description: <div>End program</div> },\n  {\n    key: \" \",\n    command: \" \",\n    description: (\n      <div>\n        <B>No-op:</B> does nothing. There is a space character in this location,\n        which has ASCII value 32\n      </div>\n    ),\n  },\n  {\n    key: \"blank 1\",\n    command: <div style={{ height: 12 }} />,\n    customCommandStyle: true,\n  },\n];\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { Colors, T } from \"ui\";\nimport { HiCursorClick } from \"react-icons/hi\";\nimport { SquareBackground } from \"./SquareBackground\";\n\nconst B = styled.text``;\n\nexport const editorCommands = [\n  {\n    key: \"A\",\n    command: \" + A\",\n    description: \"Select all\",\n  },\n  {\n    key: \"X\",\n    command: \" + X\",\n    description: \"Cut\",\n  },\n  {\n    key: \"C\",\n    command: \" + C\",\n    description: \"Copy\",\n  },\n  {\n    key: \"V\",\n    command: \" + V\",\n    description: \"Paste\",\n  },\n  {\n    key: \"Z\",\n    command: \" + Z\",\n    description: \"Undo - also reverts any execution state to this point\",\n  },\n  {\n    key: \"Z+\",\n    command: \" +  + Z\",\n    description: \"Redo - also reverts any execution state to this point\",\n  },\n  {\n    key: \"J\",\n    command: \" + J\",\n    description: \"Step\",\n  },\n  {\n    key: \"K\",\n    command: \" + K\",\n    description: \"Walk or pause\",\n  },\n  {\n    key: \"L\",\n    command: \" + L\",\n    description: \"Run or pause\",\n  },\n  {\n    key: \";\",\n    command: \" + ;\",\n    description: \"Reset\",\n  },\n  {\n    key: \"DC\",\n    command: (\n      <T monospace>\n        <HiCursorClick />\n        2\n      </T>\n    ),\n    description: \"Set or remove breakpoint\",\n  },\n  {\n    key: \"Arrows\",\n    command: \"///\",\n    description: \"Move code input cursor\",\n  },\n  {\n    key: \"Arrows+\",\n    command: (\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n        }}\n      >\n        <T monospace> +</T>\n        <T monospace>///</T>\n      </div>\n    ),\n    description: \"Extend selection\",\n  },\n  {\n    key: \"execution cursor\",\n    command: (\n      <SquareBackground\n        style={{\n          backgroundColor: Colors.LIGHT.mix(Colors.ACCENT_ORANGE, 0.4)\n            .saturate(1)\n            .toString(),\n        }}\n      />\n    ),\n    description: (\n      <div>\n        <B>Execution cursor:</B> the orange highlight marks the next command to\n        be executed\n      </div>\n    ),\n    customCommandStyle: true,\n  },\n  {\n    key: \"typing cursor\",\n    command: (\n      <SquareBackground\n        style={{\n          backgroundColor: Colors.LIGHT.mix(Colors.ACCENT_BLUE, 0.4)\n            .saturate(1)\n            .toString(),\n        }}\n      />\n    ),\n    description: (\n      <div>\n        <B>Code input cursor:</B> the blue highlight marks the square(s) you\n        edit when you type\n      </div>\n    ),\n    customCommandStyle: true,\n  },\n  {\n    key: \"both cursors\",\n    command: (\n      <SquareBackground\n        style={{\n          backgroundColor: Colors.LIGHT.mix(Colors.ACCENT_BLUE, 0.4)\n            .mix(Colors.ACCENT_ORANGE, 0.4)\n            .toString(),\n        }}\n      />\n    ),\n    description: (\n      <div>\n        <B>Both cursors:</B> the execution and code input cursors are on top of\n        each other\n      </div>\n    ),\n    customCommandStyle: true,\n  },\n  {\n    key: \"breakpoint\",\n    command: (\n      <SquareBackground\n        style={{\n          backgroundColor: Colors.LIGHT.mix(Colors.RED, 0.5)\n            .mix(Colors.ACCENT_ORANGE, 0.4)\n            .toString(),\n        }}\n      />\n    ),\n    description: (\n      <div>\n        <B>Breakpoint:</B> code execution will stop here\n      </div>\n    ),\n    customCommandStyle: true,\n  },\n  {\n    key: \"breakpoint+\",\n    command: (\n      <SquareBackground\n        style={{\n          backgroundColor: Colors.LIGHT.mix(Colors.ACCENT_ORANGE, 0.3)\n            .mix(Colors.BLUE, 0.5)\n            .toString(),\n        }}\n      />\n    ),\n    description: (\n      <div>\n        <B>Active breakpoint:</B> code execution is currently stopped here\n      </div>\n    ),\n    customCommandStyle: true,\n  },\n];\n","import { Row } from \"ui\";\nimport React from \"react\";\nimport { SquareBackground } from \"./SquareBackground\";\n\ninterface Props {\n  command: React.ReactNode;\n  description?: React.ReactElement;\n  customCommandStyle?: boolean;\n  style: React.CSSProperties;\n}\n\nexport function BefungeCommandRow({\n  command,\n  description,\n  customCommandStyle,\n  style,\n}: Props): React.ReactElement {\n  const commandComponent = customCommandStyle ? (\n    command\n  ) : (\n    <SquareBackground style={{ marginTop: 0 }}>{command}</SquareBackground>\n  );\n\n  return (\n    <Row style={{ alignItems: \"flex-start\", ...style }}>\n      {commandComponent}\n      <div style={{ marginLeft: 12, flex: 1 }}>{description}</div>\n    </Row>\n  );\n}\n","import { Row, T } from \"ui\";\nimport React from \"react\";\n\ninterface Props {\n  command: React.ReactNode;\n  description?: React.ReactNode;\n  customCommandStyle?: boolean;\n  style: React.CSSProperties;\n}\n\nexport function EditorCommandRow({\n  command,\n  description,\n  customCommandStyle,\n  style,\n}: Props): React.ReactElement {\n  const commandComponent = customCommandStyle ? (\n    command\n  ) : (\n    <T monospace>{command}</T>\n  );\n\n  return (\n    <Row style={{ ...style }}>\n      <div style={{ width: 68, justifyContent: \"center\", display: \"flex\" }}>\n        {commandComponent}\n      </div>\n      <div style={{ marginLeft: 12, flex: 1 }}>{description}</div>\n    </Row>\n  );\n}\n","import { SidebarSection, Colors } from \"ui\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { befungeCommands } from \"./befungeCommands\";\nimport { editorCommands } from \"./editorCommands\";\nimport { BefungeCommandRow } from \"./BefungeCommandRow\";\nimport { EditorCommandRow } from \"./EditorCommandRow\";\n\nexport function InfoSidebarContent(): React.ReactElement {\n  return (\n    <>\n      <Title style={{ marginTop: 0 }}>Instructions</Title>\n      <p>\n        Try typing some commands into the text editor, then press step, walk, or\n        run to execute them.\n      </p>\n      <p>\n        You can also try out some example befunge programs from the examples\n        section, or copy-paste code in from other sources.\n      </p>\n      <SidebarSection title=\"Befunge commands\" collapsible>\n        {befungeCommands.map(\n          ({ command, description, customCommandStyle, key }) => (\n            <BefungeCommandRow\n              key={key}\n              style={{ marginTop: 6 }}\n              command={command}\n              description={description}\n              customCommandStyle={customCommandStyle}\n            />\n          )\n        )}\n      </SidebarSection>\n      <SidebarSection title=\"Editor\" collapsible>\n        {editorCommands.map(\n          ({ command, description, customCommandStyle, key }) => (\n            <EditorCommandRow\n              key={key}\n              style={{ marginTop: 6 }}\n              command={command}\n              description={description}\n              customCommandStyle={customCommandStyle}\n            />\n          )\n        )}\n        <div style={{ marginTop: 12 }}>\n          The control key works in place of the command key on Windows\n          computers.\n        </div>\n      </SidebarSection>\n      <SidebarSection title=\"About Befunge\">\n        Befunge is a programming language invented in 1993 by Chris Pressey. For\n        more information see the Befunge pages on{\" \"}\n        <a className=\"link\" href={\"https://en.wikipedia.org/wiki/Befunge\"}>\n          Wikipedia\n        </a>{\" \"}\n        or{\" \"}\n        <a className=\"link\" href={\"https://esolangs.org/wiki/Befunge\"}>\n          Esolangs\n        </a>\n        .\n      </SidebarSection>\n      <SidebarSection title=\"About this editor\">\n        This befunge interpreter was written by Angus Johnson. Please let me\n        know on{\" \"}\n        <a className=\"link\" href={\"https://github.com/angussbj/befunge/issues\"}>\n          Github\n        </a>{\" \"}\n        if you find are any issues.\n      </SidebarSection>\n      <div\n        style={{\n          fontSize: 10,\n          marginTop: 16,\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          color: Colors.LIGHT.fade(0.4).toString(),\n        }}\n      >\n         Angus Johnson 2021\n      </div>\n    </>\n  );\n}\n\nconst Title = styled.div`\n  margin-top: 24px;\n  margin-bottom: 12px;\n  color: ${Colors.LIGHT.toString()};\n  font-size: 18px;\n`;\n","import React from \"react\";\nimport { T } from \"ui\";\n\nexport const examples = [\n  {\n    label: \"Minimal hello world\",\n    description:\n      \"The characters are added to the stack using string-mode, then printed in reverse order.\",\n    code: '\"!dlrow ,olleH\",,,,,,,,,,,,,@',\n  },\n  {\n    label: \"ASCII hello world\",\n    description:\n      \"The ASCII values of the characters are put on the stack by doing arithmetic with single digit numbers, then printed in reverse order.\",\n    code: \" v>v>v>v>v>v>v \\n 5 5 5 4 5 5 9 \\n 6 7-7-2 7 7+8 \\n + +7+22 + +1* \\n 3*9*9*2*9*9*  \\n *:*:*:*4*9*:  \\n  * +3+*+3+ *  \\n  5 6+6*6+7 5  \\n  2 5 5 5 5 2  \\n >^>^>^>^>^>^>v\\n@,,,,,,,,,,,,,<\\n               \\n !dlrow ,olleH \\n\", // prettier-ignore\n  },\n  {\n    label: \"FizzBuzz\",\n    description:\n      \"The program asks for a numeric input, then prints all the numbers up to that input value, replacing multiples of 3 with 'Fizz', multiples of 5 with 'Buzz', and multiples of both 3 and 5 with 'FizzBuzz'\",\n    code: ' 52*:\"?timiL\",,,,,,,,&00p   v\\nv:_v#%3: _v#%5: _v#%*53:  +1<\\n>.#\"#>   #\"#>   #\"#> v> 25*,^\\n   z ,    z ,    z , :|      \\n   z ,    z ,    z , 1>@     \\n   i ,    u ,    u , +#      \\n   F ,    B ,    B , 0!      \\n   \"      \"      z , 0`      \\n   > ^    > ^    z , g       \\n                 i , >^      \\n                 F ,         \\n                 \"           \\n                 > ^         \\n',\n  },\n  {\n    label: \"Prime generator\",\n    description: (\n      <T>\n        Generates primes by checking, for each integer, if any of the primes\n        less than its square root divide it evenly. Fills most of the code grid\n        with primes.\n      </T>\n    ),\n    code: \"v                                                                               \\n7                                                                               \\n1                                                                               \\n0                                                                               \\np                                                                               \\n0                                                                               \\n2                                                                               \\n0                                                                               \\np                                                                               \\n                                                                                \\n2                                                                               \\n7                                                                               \\n0                                                                               \\np                                                                               \\n                                                                                \\n2                                                                               \\n.                                                                               \\n5                                                                               \\n5                                                                               \\n+                                                                               \\n,                                                                               \\n               >40gg%!#v_v          ++for12or34                      @>:: .55+,v\\n3              ^g03:   #<>350p460pv              >$150g0p60g0g1+:45*`| vpg02g01<\\n>730p040p >:30g40gg:*1-`|         >50g0g1+:89*7+`|             vp0g06< >      1+\\n^         ^#         +1<> 150p260p^              >50g0p        >50g3-#^_       #\\n\",\n  },\n  {\n    label: \"Emulator\",\n    description:\n      \"An emulator of a simple machine with 16 instructions, a maximum program length of 16, and 2? registers.\",\n    code: 'v aaaaaaaaaaaaaaaa Load:                                                        \\n  ip: a ^Memory^          ^^   <    v                                         < \\n< is: a a-p=0-15   v 0              <              Print: >55+%68*+,    v     ^ \\n  ar: a            >:96+`#^_:2+ &:69v                     ^,+*86<               \\n  r0: a            ^ +1p0\\\\+\"a\"_^#!`+<                           |:/+55:<        \\n  r1: a                                                   ^    $<               \\n                   Fetch:                                                       \\n>   61g\"a\"-::2+0g62p1+88+%2+0g63p62g\"a\"-7`1++88+%\"a\"+61p62g\"a\"-         #     v \\n :!#v_1-:!#v_1-:!#v_1-:!#v_1-:!#v_1-:!#v_1-:!#v_1-:!#v_1-:!#v_1-v  Execute:   > \\n    5      $      $      $      $      $      $      $      $   >      #    v   \\n^   5 0     1      2      3      4      5      6      7     >8$63g\"a\"- ^>       \\n    +                                                >\"**GNID**\",,,,,,,,^       \\n    ,                                         >65g\"a\"-1-88++88+%\"a\"+65p ^       \\n    @                                  >64g\"a\"-1-88++88+%\"a\"+64p>       ^       \\n                                >65g\"a\"-1+88+%\"a\"+65p>          ^               \\n                         >64g\"a\"-1+88+%\"a\"+64p>      ^     p46g0+2-\"a\"g36<      \\n                  >64g65g-88++88+%\"a\"+64p>    ^      p56g0+2-\"a\"g36<            \\n           >64g\"a\"-65g\"a\"-+88+%\"a\"+64p  >^     p0+2-\"a\"g36g46<                  \\n  +---------------+   >            >    ^p0+2-\"a\"g36g56<                        \\n  | 4917 Emulator |                |-\"a\"g46<                                    \\n  |Dougall Johnson|   ^p16g36<     <                                            \\n  |  12 Feb 2010  |          |-\"a\"g46<                                          \\n  +---------------+   ^   <  <     15    14    13    12    11    10     9       \\n@,,,,,,\"ERROR\"+55          <      -1_^#:-1_^#:-1_^#:-1_^#:-1_^#:-1_^#:-1_^#:<   \\n',\n  },\n] as const;\n","import React, { ReactElement } from \"react\";\nimport { Colors, Row, T } from \"ui\";\nimport { BsBoxArrowInRight, BsFiles } from \"react-icons/bs\";\nimport { IconButton } from \"@material-ui/core\";\nimport { CodeEditor } from \"logic\";\n\ninterface Props {\n  label: string;\n  description?: string | ReactElement;\n  code: string;\n  editor: CodeEditor;\n  render: () => void;\n  style?: React.CSSProperties;\n}\n\nexport function Example({\n  label,\n  description,\n  editor,\n  code,\n  render,\n  style,\n}: Props): React.ReactElement {\n  return (\n    <div style={style}>\n      <Row style={{ justifyContent: \"space-between\" }}>\n        <T color={Colors.LIGHT}>{label}</T>\n        <Row>\n          <IconButton\n            style={{ color: Colors.ACCENT_BLUE.toString() }}\n            onClick={(): void => {\n              navigator.clipboard.writeText(code);\n            }}\n          >\n            <BsFiles size={12} />\n          </IconButton>\n          <IconButton\n            style={{ color: Colors.ACCENT_BLUE.toString(), marginLeft: -8 }}\n            onClick={(): void => {\n              editor.setCode(code);\n              render();\n            }}\n          >\n            <BsBoxArrowInRight size={14} />\n          </IconButton>\n        </Row>\n      </Row>\n      <T>{description}</T>\n    </div>\n  );\n}\n","import { SidebarTitle } from \"ui\";\nimport React from \"react\";\nimport { examples } from \"./examples\";\nimport { Example } from \"./Example\";\nimport { CodeEditor } from \"logic\";\n\nexport function ExampleSidebarContent({\n  editor,\n  render,\n}: {\n  editor: CodeEditor;\n  render: () => void;\n}): React.ReactElement {\n  return (\n    <>\n      <SidebarTitle style={{ marginTop: 0 }}>Examples</SidebarTitle>\n      {examples.map(({ ...exampleDetails }) => (\n        <Example\n          {...exampleDetails}\n          key={exampleDetails.label}\n          editor={editor}\n          render={render}\n          style={{ marginTop: 8 }}\n        />\n      ))}\n      <div style={{ marginTop: 32 }}>\n        <a className=\"link\" href=\"https://esolangs.org/wiki/Befunge#Examples\">\n          More examples\n        </a>\n      </div>\n    </>\n  );\n}\n","import { cloneDeep, isEqual } from \"lodash\";\nimport { constArray2 } from \"utilities\";\n\nexport class Code {\n  public code: string[][];\n  protected resetPointWithEdits?: string[][];\n  protected resetPointWithoutEdits?: string[][];\n  public breakpoints: boolean[][];\n\n  constructor(private width: number, private height: number) {\n    this.code = constArray2(width, height, \" \");\n    this.breakpoints = constArray2(width, height, false);\n  }\n\n  public clone(): Code {\n    const clone = new Code(this.width, this.height);\n    clone.setToCopy(this);\n    return clone;\n  }\n\n  public set(code: string[][]): void {\n    this.code.forEach((col, x) =>\n      col.forEach((_element, y) => {\n        if (code[x]?.[y]) this.code[x][y] = code[x][y];\n      })\n    );\n    this.resetPointWithEdits = undefined;\n    this.resetPointWithoutEdits = undefined;\n  }\n\n  public setToCopy(other: Code): void {\n    this.code = cloneDeep(other.code);\n    this.resetPointWithEdits = cloneDeep(other.resetPointWithEdits);\n    this.resetPointWithoutEdits = cloneDeep(other.resetPointWithoutEdits);\n  }\n\n  public get(x: number, y: number): string {\n    return this.code[x][y];\n  }\n\n  public userPut(x: number, y: number, val: string): void {\n    this.code[x][y] = val;\n    if (this.resetPointWithEdits) this.resetPointWithEdits[x][y] = val;\n  }\n\n  public executionPut(x: number, y: number, val: string): void {\n    this.code[x][y] = val;\n  }\n\n  public makeResetable(): void {\n    if (!this.isResetable()) {\n      this.resetPointWithEdits = cloneDeep(this.code);\n      this.resetPointWithoutEdits = cloneDeep(this.code);\n    }\n  }\n\n  public reset(withEdits: boolean): void {\n    const resetPoint = withEdits\n      ? this.resetPointWithEdits\n      : this.resetPointWithoutEdits;\n    if (resetPoint) this.code = resetPoint;\n    this.resetPointWithEdits = undefined;\n    this.resetPointWithoutEdits = undefined;\n  }\n\n  public resetRequiresClarification(): boolean {\n    return !isEqual(this.resetPointWithEdits, this.resetPointWithoutEdits);\n  }\n\n  private isResetable(): boolean {\n    return !!this.resetPointWithEdits;\n  }\n}\n","import autoBind from \"auto-bind\";\nimport { CommandChar } from \"./CommandChar\";\nimport { Code } from \"../Code\";\nimport { cloneDeep } from \"lodash\";\nimport { Coordinate, Direction, DIRECTION_VECTOR } from \"utilities\";\n\ninterface BefungeHistoryPoint {\n  cursor: Coordinate;\n  direction: Direction;\n  stack: number[];\n  output: string;\n  stringMode: boolean;\n  halted: boolean;\n  code: Code;\n  walking: boolean;\n  running: boolean;\n}\n\nexport type InputRequestStatus = false | \"character\" | \"number\" | \"divideBy0\";\n\nexport class Befunge {\n  public cursor = new Coordinate(0, 0);\n  public direction = Direction.Right;\n  public stack: number[] = [];\n  public output = \"\";\n  public stringMode = false;\n  public halted = false;\n  public limits: Coordinate;\n  public code: Code;\n  public walkingDelayIndex = 2;\n  private walkingDelay = 32;\n  private static walkingDelays = [1, 64, 256, 1024, 2048];\n  public walking = false;\n  public running = false;\n  public requestingInput: InputRequestStatus = false;\n  private history: BefungeHistoryPoint[] = [];\n  private future: BefungeHistoryPoint[] = [];\n\n  constructor(\n    public width: number,\n    public height: number,\n    private render?: () => void\n  ) {\n    this.limits = new Coordinate(width, height);\n    this.code = new Code(width, height);\n    autoBind(this);\n  }\n\n  public setHistoryPoint(): void {\n    this.history.push(this.createHistoryPoint());\n    this.future = [];\n  }\n\n  public undo(): void {\n    this.future.push(this.createHistoryPoint());\n    const point = this.history.pop();\n    this.revertToPoint(point);\n  }\n\n  public redo(): void {\n    this.history.push(this.createHistoryPoint());\n    const point = this.future.pop();\n    this.revertToPoint(point);\n  }\n\n  private createHistoryPoint(): BefungeHistoryPoint {\n    return {\n      cursor: this.cursor.clone(),\n      direction: this.direction,\n      stack: cloneDeep(this.stack),\n      output: this.output,\n      stringMode: this.stringMode,\n      halted: this.halted,\n      code: this.code.clone(),\n      walking: this.walking,\n      running: this.running,\n    };\n  }\n\n  private revertToPoint(point?: BefungeHistoryPoint): void {\n    if (!point) return;\n    this.cursor.setToCopy(point.cursor);\n    this.direction = point.direction;\n    this.stack = cloneDeep(point.stack);\n    this.output = point.output;\n    this.stringMode = point.stringMode;\n    this.halted = point.halted;\n    this.code.setToCopy(point.code);\n    this.walking = point.walking;\n    this.running = point.running;\n  }\n\n  public moveCursor(): void {\n    this.cursor.add(DIRECTION_VECTOR[this.direction]);\n    this.cursor.modulo(this.limits);\n  }\n\n  public acceptInput(s: string): void {\n    if (s.length === 0) return;\n    if (\n      this.requestingInput === \"number\" ||\n      this.requestingInput === \"divideBy0\"\n    ) {\n      this.stack.push(parseInt(s, 10));\n    } else if (this.requestingInput === \"character\") {\n      this.stack.push(s.charCodeAt(0));\n    }\n    this.requestingInput = false;\n    this.render?.();\n    if (this.running) this.run();\n    if (this.walking) this.walk();\n  }\n\n  public runOrPause(): void {\n    if (this.running) this.pause();\n    else this.run();\n  }\n\n  public walkOrPause(): void {\n    if (this.walking) this.pause();\n    else this.walk();\n  }\n\n  public walk(): void {\n    function recur(b: Befunge): () => void {\n      return (): void => {\n        if (b.walking && !b.requestingInput) {\n          b.slowStep();\n          setTimeout(recur(b), b.walkingDelay);\n        }\n      };\n    }\n\n    this.code.makeResetable();\n    this.walking = true;\n    this.running = false;\n    this.stepOver();\n    recur(this)();\n  }\n\n  public run(): void {\n    function recur(b: Befunge): () => void {\n      return (): void => {\n        for (let i = 0; i < 1000; i++) {\n          if (b.running && !b.requestingInput) b.quickStep();\n        }\n        if (b.running && !b.requestingInput) setTimeout(recur(b), 1);\n      };\n    }\n\n    function renderPeriodically(b: Befunge): () => void {\n      return (): void => {\n        if (b.running && !b.requestingInput) {\n          b.render?.();\n          setTimeout(renderPeriodically(b), 1000);\n        }\n      };\n    }\n\n    this.code.makeResetable();\n    this.walking = false;\n    this.running = true;\n    this.stepOver();\n    this.render?.();\n    renderPeriodically(this)();\n    recur(this)();\n  }\n\n  public pause(): void {\n    this.walking = false;\n    this.running = false;\n    this.render?.();\n  }\n\n  public reset(): void {\n    this.cursor = new Coordinate(0, 0);\n    this.direction = Direction.Right;\n    this.stack = [];\n    this.output = \"\";\n    this.halted = false;\n    this.stringMode = false;\n    this.walking = false;\n    this.running = false;\n    this.requestingInput = false;\n    this.code.reset(true);\n    this.render?.();\n  }\n\n  public step(): void {\n    if (this.halted || this.requestingInput) return;\n    this.code.makeResetable();\n    this.stepOver();\n  }\n\n  private quickStep(): void {\n    if (this.cursorAtBreakpoint()) this.pause();\n    else {\n      this.execute(this.getCursorCharacter());\n      this.moveCursor();\n    }\n  }\n\n  private slowStep(): void {\n    if (this.cursorAtBreakpoint()) this.pause();\n    else {\n      this.execute(this.getCursorCharacter());\n      this.moveCursor();\n      this.render?.();\n    }\n  }\n\n  private stepOver(): void {\n    this.execute(this.getCursorCharacter());\n    this.moveCursor();\n    this.render?.();\n  }\n\n  private cursorAtBreakpoint(): boolean {\n    return this.code.breakpoints[this.cursor.x][this.cursor.y];\n  }\n\n  public getCursorCharacter(): string {\n    return this.code.get(this.cursor.x, this.cursor.y);\n  }\n\n  public execute(command: string): void {\n    if (this.stringMode && command !== '\"')\n      this.stack.push(command.charCodeAt(0));\n    else if (this.isValidCommand(command)) this[command]();\n    else this.throwUnrecognisedCommand(command, this.cursor);\n  }\n\n  public isValidCommand(command: string): command is CommandChar {\n    return command in this;\n  }\n\n  private throwUnrecognisedCommand(command: string, cursor: Coordinate): void {\n    this.output += `\\nError: Unrecognised command \"${command}\" at ${cursor.toString()}`;\n    this.halt();\n  }\n\n  private halt(): void {\n    this.halted = true;\n    this.walking = false;\n    this.running = false;\n  }\n\n  // Instructions\n  private [\"0\"](): void {\n    this.stack.push(0);\n  }\n  private [\"1\"](): void {\n    this.stack.push(1);\n  }\n  private [\"2\"](): void {\n    this.stack.push(2);\n  }\n  private [\"3\"](): void {\n    this.stack.push(3);\n  }\n  private [\"4\"](): void {\n    this.stack.push(4);\n  }\n  private [\"5\"](): void {\n    this.stack.push(5);\n  }\n  private [\"6\"](): void {\n    this.stack.push(6);\n  }\n  private [\"7\"](): void {\n    this.stack.push(7);\n  }\n  private [\"8\"](): void {\n    this.stack.push(8);\n  }\n  private [\"9\"](): void {\n    this.stack.push(9);\n  }\n  private [\"+\"](): void {\n    this.stack.push((this.stack.pop() ?? 0) + (this.stack.pop() ?? 0));\n  }\n  private [\"-\"](): void {\n    this.stack.push(-(this.stack.pop() ?? 0) + (this.stack.pop() ?? 0));\n  }\n  private [\"/\"](): void {\n    const a = this.stack.pop() ?? 0;\n    const b = this.stack.pop() ?? 1;\n    if (a === 0) this.requestingInput = \"divideBy0\";\n    else this.stack.push(Math.floor(b / a));\n  }\n  private [\"*\"](): void {\n    this.stack.push((this.stack.pop() ?? 1) * (this.stack.pop() ?? 1));\n  }\n  private [\"%\"](): void {\n    const a = this.stack.pop() ?? 1;\n    const b = this.stack.pop() ?? 1;\n    this.stack.push(b % a);\n  }\n  private [\"!\"](): void {\n    this.stack.push(Number(!this.stack.pop()));\n  }\n  private [\"`\"](): void {\n    const a = this.stack.pop() ?? 0;\n    const b = this.stack.pop() ?? 0;\n    this.stack.push(Number(a < b));\n  }\n  private [\">\"](): void {\n    this.direction = Direction.Right;\n  }\n  private [\"<\"](): void {\n    this.direction = Direction.Left;\n  }\n  private [\"^\"](): void {\n    this.direction = Direction.Up;\n  }\n  private [\"v\"](): void {\n    this.direction = Direction.Down;\n  }\n  private [\"?\"](): void {\n    this.direction = Math.floor(Math.random() * 4);\n  }\n  private [\"_\"](): void {\n    this.direction = this.stack.pop() ? Direction.Left : Direction.Right;\n  }\n  private [\"|\"](): void {\n    this.direction = this.stack.pop() ? Direction.Up : Direction.Down;\n  }\n  private ['\"'](): void {\n    this.stringMode = !this.stringMode;\n  }\n  private [\":\"](): void {\n    this.stack.push(this.stack[this.stack.length - 1]);\n  }\n  private [\"\\\\\"](): void {\n    const a = this.stack.pop();\n    const b = this.stack.pop();\n    if (a !== undefined) this.stack.push(a);\n    if (b !== undefined) this.stack.push(b);\n  }\n  private [\"$\"](): void {\n    this.stack.pop();\n  }\n  private [\"#\"](): void {\n    this.moveCursor();\n  }\n  private [\"g\"](): void {\n    const y = this.stack.pop() ?? 0;\n    const x = this.stack.pop() ?? 0;\n    const coord = new Coordinate(x, y);\n    if (coord.clone().modulo(this.limits).equals(coord))\n      this.stack.push(this.code.get(x, y).charCodeAt(0));\n    else this.stack.push(0);\n  }\n  private [\"p\"](): void {\n    const y = this.stack.pop() ?? 0;\n    const x = this.stack.pop() ?? 0;\n    this.code.executionPut(x, y, String.fromCharCode(this.stack.pop() ?? 32)); // 32 is [space]\n  }\n  private [\".\"](): void {\n    this.output += (this.stack.pop() ?? 0).toString(10);\n  }\n  private [\",\"](): void {\n    const a = this.stack.pop();\n    if (a !== undefined) this.output += String.fromCharCode(a);\n  }\n  private [\"&\"](): void {\n    this.requestingInput = \"number\";\n  }\n  private [\"~\"](): void {\n    this.requestingInput = \"character\";\n  }\n  private [\"@\"](): void {\n    this.halt();\n  }\n  private [\" \"](): void {} // eslint-disable-line @typescript-eslint/no-empty-function\n\n  public increaseWalkingDelay(): void {\n    if (this.walkingDelayIndex < 4) {\n      this.walkingDelayIndex += 1;\n      this.walkingDelay = Befunge.walkingDelays[this.walkingDelayIndex];\n      this.render?.();\n    }\n  }\n\n  public decreaseWalkingDelay(): void {\n    if (this.walkingDelayIndex > 0) {\n      this.walkingDelayIndex -= 1;\n      this.walkingDelay = Befunge.walkingDelays[this.walkingDelayIndex];\n      this.render?.();\n    }\n  }\n}\n","export class CodeEditorOptions {\n  public useSelectionDirectionForCutCopyPaste =\n    localStorage.getItem(\"useSelectionDirectionForCutCopyPaste\") === \"true\";\n  public changeDirectionOnDirectionCharacters =\n    localStorage.getItem(\"changeDirectionOnDirectionCharacters\") === \"true\";\n\n  public setChangeDirectionOnDirectionCharacters(newValue: boolean): void {\n    this.changeDirectionOnDirectionCharacters = newValue;\n    localStorage.setItem(\n      \"changeDirectionOnDirectionCharacters\",\n      newValue ? \"true\" : \"false\"\n    );\n  }\n\n  public setUseSelectionDirectionForCutCopyPaste(newValue: boolean): void {\n    this.useSelectionDirectionForCutCopyPaste = newValue;\n    localStorage.setItem(\n      \"useSelectionDirectionForCutCopyPaste\",\n      newValue ? \"true\" : \"false\"\n    );\n  }\n}\n","import { MouseEvent } from \"react\";\nimport {\n  Coordinate,\n  Direction,\n  DIRECTION_VECTOR,\n  DirectionName,\n  MajorMinorDirections,\n} from \"utilities\";\nimport autoBind from \"auto-bind\";\nimport { Code } from \"../Code\";\nimport { Befunge } from \"../Befunge\";\nimport { CodeEditorOptions } from \"./CodeEditorOptions\";\n\ntype DeleteMode = \"delete\" | \"backspace\";\n\ninterface CodeEditorHistoryPoint {\n  selection: Coordinate;\n  selectionDelta: Coordinate;\n  direction: Direction;\n  deleteMode: DeleteMode;\n}\n\nexport class CodeEditor {\n  public selection = new Coordinate(0, 0);\n  public selectionDelta = new Coordinate(0, 0);\n  public direction = Direction.Right;\n  private deleteMode: DeleteMode = \"delete\";\n  private history: CodeEditorHistoryPoint[] = [];\n  private future: CodeEditorHistoryPoint[] = [];\n  public code: Code;\n  public limits: Coordinate;\n\n  public focus?: () => void;\n  public hasFocus = false;\n  public options = new CodeEditorOptions();\n\n  constructor(\n    private executor: Befunge,\n    private externalOnChange: (code: string) => void\n  ) {\n    this.code = executor.code;\n    this.limits = executor.limits;\n    autoBind(this);\n  }\n\n  private onChange(): void {\n    this.externalOnChange(JSON.stringify(this.code.code));\n  }\n\n  public setFocusMethod(newFocusMethod: () => void): void {\n    this.focus = newFocusMethod;\n  }\n\n  public setCode(code: string): void {\n    this.setHistoryPoint();\n    this.executor.reset();\n    this.selection = new Coordinate(0, 0);\n    this.selectionDelta = new Coordinate(0, 0);\n    this.clearAll();\n    this.paste(code);\n    setTimeout(this.onChange, 100);\n  }\n\n  public getSelectedCharacter(): string {\n    return this.code.get(this.selection.x, this.selection.y);\n  }\n\n  public setHistoryPoint(): void {\n    this.history.push(this.createHistoryPoint());\n    this.future = [];\n    this.executor.setHistoryPoint();\n  }\n\n  public undo(): void {\n    const historyPointToGoBackTo = this.history.pop();\n    if (historyPointToGoBackTo) {\n      this.future.push(this.createHistoryPoint());\n      this.revertToPoint(historyPointToGoBackTo);\n      this.executor.undo();\n      this.onChange();\n    }\n  }\n\n  public redo(): void {\n    const futurePointToGoBackTo = this.future.pop();\n    if (futurePointToGoBackTo) {\n      this.history.push(this.createHistoryPoint());\n      this.revertToPoint(futurePointToGoBackTo);\n      this.executor.redo();\n      this.onChange();\n    }\n  }\n\n  private createHistoryPoint(): CodeEditorHistoryPoint {\n    return {\n      selection: this.selection.clone(),\n      selectionDelta: this.selectionDelta.clone(),\n      direction: this.direction,\n      deleteMode: this.deleteMode,\n    };\n  }\n\n  private revertToPoint(point?: CodeEditorHistoryPoint): void {\n    if (!point) return;\n    this.selection = point.selection;\n    this.selectionDelta = point.selectionDelta;\n    this.direction = point.direction;\n    this.deleteMode = point.deleteMode;\n  }\n\n  public onMouseDown(x: number, y: number): (event: MouseEvent) => void {\n    return (event: MouseEvent): void => {\n      if (event.buttons % 2 === 1) {\n        if (event.shiftKey) {\n          this.selectionDelta.set(x - this.selection.x, y - this.selection.y);\n        } else {\n          this.selection.set(x, y);\n          this.selectionDelta.set(0, 0);\n          this.deleteMode = \"delete\";\n          this.direction = Direction.Right;\n        }\n        this.onChange();\n      }\n    };\n  }\n\n  public onDoubleClick(x: number, y: number): () => void {\n    return (): void => {\n      this.code.breakpoints[x][y] = !this.code.breakpoints[x][y];\n      this.onChange();\n    };\n  }\n\n  public onMouseOver(x: number, y: number): (event: MouseEvent) => void {\n    return (event: MouseEvent): void => {\n      if (event.buttons % 2 === 1) {\n        this.selectionDelta.set(x - this.selection.x, y - this.selection.y);\n        this.onChange();\n      }\n    };\n  }\n\n  public onKeyDown(event: KeyboardEvent): void {\n    if (event.ctrlKey || event.metaKey) {\n      this.handleKeyboardShortcuts(event);\n    } else if (!this.hasFocus) {\n      return;\n    } else if (event.key.length === 1) {\n      this.handleEnteredCharacter(event);\n    } else if (event.key.match(/^Arrow/)) {\n      this.handleSelectionMovement(event);\n    } else if (event.key === \"Backspace\") {\n      this.handleDeletion();\n    }\n    this.onChange();\n  }\n\n  public onCut(event: ClipboardEvent): void {\n    if (!this.hasFocus) return;\n    this.setHistoryPoint();\n    this.onCopy(event);\n    this.clearSelection();\n    this.onChange();\n  }\n\n  public onCopy(event: ClipboardEvent): void {\n    if (!this.hasFocus) return;\n    this.setHistoryPoint();\n    let textToCopy = \"\";\n    this.selectionForEach({\n      cellAction: (x: number, y: number): void => {\n        textToCopy += this.code.get(x, y);\n      },\n      rowEndAction: (): void => {\n        textToCopy += \"\\n\";\n      },\n      directions: this.options.useSelectionDirectionForCutCopyPaste\n        ? this.selectionDelta.getMajorAndMinorDirections()\n        : undefined,\n    });\n    event.clipboardData?.setData(\"text/plain\", textToCopy);\n    event.preventDefault();\n  }\n\n  public onPaste(event: ClipboardEvent): void {\n    if (!this.hasFocus) return;\n    this.setHistoryPoint();\n    const text = event.clipboardData?.getData(\"Text\");\n    if (text) this.paste(text);\n    this.onChange();\n  }\n\n  private paste(text: string): void {\n    const pasteCoords = this.selection.clone();\n    const newLineCoord = this.selection.clone();\n    const { majorVector, minorVector } = this.options\n      .useSelectionDirectionForCutCopyPaste\n      ? this.selectionDelta.getMajorAndMinorDirections()\n      : this.getDefaultIterationDirections();\n    text.split(\"\").forEach((char: string) => {\n      if (char === \"\\n\") {\n        newLineCoord.add(minorVector).modulo(this.limits);\n        pasteCoords.setToCopy(newLineCoord);\n      } else {\n        this.code.userPut(pasteCoords.x, pasteCoords.y, char);\n        pasteCoords.add(majorVector).modulo(this.limits);\n      }\n    });\n  }\n\n  private handleKeyboardShortcuts(event: KeyboardEvent): void {\n    if (event.key === \"a\") {\n      this.selection.set(0, 0);\n      this.selectionDelta.setToCopy(this.limits).add(new Coordinate(-1, -1));\n      this.focus?.();\n    } else if (event.key === \"z\" && !event.shiftKey) {\n      this.undo();\n      this.focus?.();\n    } else if ((event.key === \"z\" && event.shiftKey) || event.key === \"y\") {\n      this.redo();\n      this.focus?.();\n    } else if (event.key === \"j\") {\n      this.executor.step();\n    } else if (event.key === \"k\") {\n      this.executor.walkOrPause();\n    } else if (event.key === \"l\") {\n      this.executor.runOrPause();\n    } else if (event.key === \";\") {\n      this.executor.reset();\n    } else if (event.key.match(/^Arrow/)) {\n      if (this.hasFocus)\n        this.direction = Direction[event.key.slice(5) as DirectionName];\n    } else {\n      return;\n    }\n    event.preventDefault();\n  }\n\n  private handleEnteredCharacter(event: KeyboardEvent): void {\n    this.setHistoryPoint();\n    this.fillSelection(event.key);\n    this.changeTypingDirectionIfNeeded(event.key);\n    this.stepSelection(DIRECTION_VECTOR[this.direction]);\n    this.deleteMode = \"backspace\";\n    event.preventDefault();\n  }\n\n  private handleSelectionMovement(event: KeyboardEvent): void {\n    const movementDirection = Direction[event.key.slice(5) as DirectionName];\n    if (event.shiftKey) {\n      this.selectionDelta.add(DIRECTION_VECTOR[movementDirection]);\n    } else {\n      this.stepSelection(DIRECTION_VECTOR[movementDirection]);\n      this.selectionDelta.set(0, 0);\n      event.preventDefault();\n    }\n    this.deleteMode = \"delete\";\n  }\n\n  private handleDeletion(): void {\n    this.setHistoryPoint();\n    if (this.deleteMode === \"backspace\") {\n      this.stepSelection(DIRECTION_VECTOR[this.direction].clone().negative());\n      this.clearSelection();\n    } else if (this.deleteMode === \"delete\") {\n      this.clearSelection();\n    }\n  }\n\n  private stepSelection(directionVector: Coordinate): void {\n    this.selection.add(directionVector).modulo(this.limits);\n  }\n\n  private clearSelection(): void {\n    this.fillSelection(\" \");\n  }\n\n  private clearAll(): void {\n    this.forEach({\n      cellAction: (x: number, y: number): void => {\n        this.code.userPut(x, y, \" \");\n      },\n    });\n  }\n\n  private fillSelection(char: string): void {\n    this.selectionForEach({\n      cellAction: (x: number, y: number): void => {\n        this.code.userPut(x, y, char);\n      },\n    });\n  }\n\n  private selectionForEach({\n    cellAction,\n    rowEndAction,\n    directions,\n  }: {\n    cellAction: (x: number, y: number) => void;\n    rowEndAction?: () => void;\n    directions?: MajorMinorDirections;\n  }): void {\n    const { start, majorVector, majorMax, minorVector, minorMax } = directions\n      ? { start: this.selection, ...directions }\n      : this.getDefaultIterationDirections();\n    const iterationCoord = start.clone();\n    for (let minor = 0; minor <= minorMax; minor++) {\n      iterationCoord.setToCopy(start);\n      iterationCoord.add(minorVector.clone().times(minor)).modulo(this.limits);\n      for (let major = 0; major <= majorMax; major++) {\n        cellAction(iterationCoord.x, iterationCoord.y);\n        iterationCoord.add(majorVector).modulo(this.limits);\n      }\n      rowEndAction?.();\n    }\n  }\n\n  private forEach({\n    cellAction,\n    rowEndAction,\n  }: {\n    cellAction: (x: number, y: number) => void;\n    rowEndAction?: () => void;\n  }): void {\n    for (let x = 0; x < this.limits.x; x++) {\n      for (let y = 0; y < this.limits.y; y++) {\n        cellAction(x, y);\n      }\n      rowEndAction?.();\n    }\n  }\n\n  private getDefaultIterationDirections(): {\n    start: Coordinate;\n  } & MajorMinorDirections {\n    const x0 = Math.min(\n      this.selection.x,\n      this.selection.x + this.selectionDelta.x\n    );\n    const y0 = Math.min(\n      this.selection.y,\n      this.selection.y + this.selectionDelta.y\n    );\n    return {\n      start: new Coordinate(x0, y0),\n      majorVector: DIRECTION_VECTOR[Direction.Right],\n      majorMax: Math.abs(this.selectionDelta.x),\n      minorVector: DIRECTION_VECTOR[Direction.Down],\n      minorMax: Math.abs(this.selectionDelta.y),\n    };\n  }\n\n  private changeTypingDirectionIfNeeded(character: string): void {\n    if (this.options.changeDirectionOnDirectionCharacters) {\n      if (character === \"<\") this.direction = Direction.Left;\n      if (character === \">\") this.direction = Direction.Right;\n      if (character === \"^\") this.direction = Direction.Up;\n      if (character === \"v\") this.direction = Direction.Down;\n    }\n  }\n}\n","import React, { useCallback, useState } from \"react\";\nimport { CodingSpace } from \"./components/CodingSpace\";\nimport { Button, Colors, Sidebar } from \"ui\";\nimport { InfoSidebarContent } from \"./components/InfoSidebarContent\";\nimport { IconButton } from \"@material-ui/core\";\nimport InfoOutlinedIcon from \"@material-ui/icons/InfoOutlined\";\nimport { ExampleSidebarContent } from \"./components/ExampleSidebarContent\";\nimport { useBefunge } from \"./components/useBefunge\";\nimport { useLocalStorageAsState } from \"./utilities/useLocalStorageAsState\";\n\nfunction App(): React.ReactElement {\n  const [infoOpen, setInfoOpen] = useLocalStorageAsState({\n    storageKey: \"infoOpen\",\n    initialValue: true,\n  });\n\n  const [examplesOpen, setExamplesOpen] = useLocalStorageAsState({\n    storageKey: \"examplesOpen\",\n    initialValue: false,\n  });\n\n  const setRenderHelper = useState(false)[1];\n  const render = useCallback((): void => {\n    setRenderHelper((val) => !val);\n  }, []);\n\n  const { editor, befunge } = useBefunge(render);\n\n  return (\n    <div\n      style={{\n        backgroundColor: Colors.DARK.toString(),\n        minHeight: \"100vh\",\n      }}\n    >\n      <Sidebar\n        pullRight\n        open={infoOpen}\n        onSetOpen={setInfoOpen}\n        content={<InfoSidebarContent />}\n        page={\n          <Sidebar\n            open={examplesOpen}\n            onSetOpen={setExamplesOpen}\n            content={<ExampleSidebarContent editor={editor} render={render} />}\n            page={\n              <>\n                <IconButton\n                  style={{\n                    position: \"absolute\",\n                    top: 8,\n                    right: 8,\n                    color: Colors.ACCENT_BLUE.toString(),\n                  }}\n                  onClick={(): void => setInfoOpen(!infoOpen)}\n                >\n                  <InfoOutlinedIcon />\n                </IconButton>\n                <Button\n                  label=\"Examples\"\n                  size=\"large\"\n                  variant=\"text\"\n                  style={{\n                    position: \"absolute\",\n                    top: 8,\n                    left: 8,\n                    color: Colors.ACCENT_BLUE.toString(),\n                  }}\n                  onClick={(): void => setExamplesOpen(!examplesOpen)}\n                />\n                <div\n                  style={{\n                    flexGrow: 1,\n                    padding: 32,\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                  }}\n                >\n                  <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n                    <div style={{ flexGrow: 1, minHeight: 24 }} />\n                    <CodingSpace e={editor} b={befunge} />\n                    <div style={{ flexGrow: 1, minHeight: 40 }} />\n                  </div>\n                </div>\n              </>\n            }\n          />\n        }\n      />\n    </div>\n  );\n}\n\nexport default App;\n","import { useCallback, useRef, useEffect } from \"react\";\nimport { Befunge, CodeEditor } from \"logic\";\n\nexport function useBefunge(\n  render: () => void,\n  width = 80,\n  height = 25\n): {\n  editor: CodeEditor;\n  befunge: Befunge;\n} {\n  const onChange = useCallback((code?: string): void => {\n    if (code) localStorage.setItem(\"code\", code);\n    render();\n  }, []);\n\n  const b = useRef(new Befunge(width, height, onChange)).current;\n  const e = useRef(new CodeEditor(b, onChange)).current;\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", e.onKeyDown);\n    document.addEventListener(\"cut\", e.onCut);\n    document.addEventListener(\"copy\", e.onCopy);\n    document.addEventListener(\"paste\", e.onPaste);\n\n    // Paste from local storage\n    const cookieCode = localStorage.getItem(\"code\");\n    if (cookieCode) e.code.set(JSON.parse(cookieCode));\n\n    return (): void => {\n      document.removeEventListener(\"keydown\", e.onKeyDown);\n      document.removeEventListener(\"cut\", e.onCut);\n      document.removeEventListener(\"copy\", e.onCopy);\n      document.removeEventListener(\"paste\", e.onPaste);\n    };\n  }, []);\n\n  return {\n    editor: e,\n    befunge: b,\n  };\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}