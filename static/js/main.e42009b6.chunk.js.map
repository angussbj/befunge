{"version":3,"sources":["utilities/Coordinate.ts","utilities/range.ts","utilities/sorted.ts","components/useGridTyping.ts","Befunge/Befunge.ts","utilities/constArray2.ts","components/useBefunge.ts","ui/Button.tsx","ui/Colors.ts","ui/Row.tsx","components/Grid/Square.tsx","components/Grid/Grid.tsx","utilities/modulo.ts","components/Stack.tsx","components/Output.tsx","components/CodingSpace.tsx","App.tsx","index.tsx"],"names":["Coordinate","x","y","this","other","range","start","count","step","Array","fill","map","sorted","arr","copy","sort","DIRECTIONS","Left","Right","Up","Down","Direction","DIRECTION_VECTOR","Befunge","width","height","render","cursor","direction","stack","output","stringMode","halted","limits","code","walking","running","value","constArray2","autoBind","recur","b","setTimeout","i","quickStep","execute","moveCursor","add","modulo","command","push","charCodeAt","isValidCommand","throwUnrecognisedCommand","toString","halt","pop","Math","floor","a","Number","random","length","undefined","String","fromCharCode","useBefunge","setRenderHelper","useState","useCallback","useRef","current","selection","selectionDelta","deleteMode","moveSelection","onKeyDown","event","key","ctrlKey","metaKey","match","clone","negative","fillSelection","shiftKey","slice","setToCopy","set","preventDefault","updateCode","coords","modification","char","x0","x1","y0","y1","iterationCoord","copyWithModify","textToCopy","copyCoords","clipboardData","setData","onCut","onCopy","onPaste","text","getData","pasteCoords","split","forEach","setX","setY","useEffect","document","addEventListener","removeEventListener","onMouseDown","onMouseOver","buttons","useGridTyping","befunge","Button","label","onClick","rest","variant","size","disableElevation","Colors","DARK","Color","LIGHT","GREY","WRITING_CURSOR","EXECUTING_CURSOR","ACCENT","Row","styled","div","BOTH_CURSORS","Square","val","selected","cursored","color","Background","Grid","isSelectedX","getSelectionCheckFunction","isSelectedY","style","overflow","marginRight","marginBottom","coordinate","delta","limit","sum","modSum","Stack","alignSelf","backgroundColor","padding","scrollbarWidth","reverse","index","Output","flexBasis","flexGrow","flexShrink","minWidth","CodingSpace","Container","marginTop","ButtonColumn","marginLeft","walk","run","pause","reset","App","display","minHeight","justifyContent","alignItems","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e42009b6.chunk.js","sourcesContent":["export class Coordinate {\n  constructor(public x: number, public y: number) {}\n\n  set(x: number, y: number): Coordinate {\n    this.x = x;\n    this.y = y;\n    return this;\n  }\n\n  setToCopy(other: Coordinate): Coordinate {\n    this.x = other.x;\n    this.y = other.y;\n    return this;\n  }\n\n  setX(x: number): Coordinate {\n    this.x = x;\n    return this;\n  }\n\n  setY(y: number): Coordinate {\n    this.y = y;\n    return this;\n  }\n\n  add(other: Coordinate): Coordinate {\n    this.x += other.x;\n    this.y += other.y;\n    return this;\n  }\n\n  negative(): Coordinate {\n    this.x = -this.x;\n    this.y = -this.y;\n    return this;\n  }\n\n  modulo(other: Coordinate): Coordinate {\n    this.x = ((this.x % other.x) + other.x) % other.x;\n    this.y = ((this.y % other.y) + other.y) % other.y;\n    return this;\n  }\n\n  clone(): Coordinate {\n    return new Coordinate(this.x, this.y);\n  }\n\n  toString(): string {\n    return `(${this.x}, ${this.y})`;\n  }\n}\n","export function range(start: number, count: number, step = 1): number[] {\n  return count > 0\n    ? Array(count)\n        .fill(start)\n        .map((x, y) => x + step * y)\n    : [];\n}\n","export function sorted<T>(arr: T[]): T[] {\n  const copy = [...arr];\n  copy.sort();\n  return copy;\n}\n","import { Coordinate, sorted } from \"../utilities\";\nimport { useCallback, useEffect, useRef, MouseEvent } from \"react\";\n\nconst DIRECTIONS = {\n  Left: new Coordinate(-1, 0),\n  Right: new Coordinate(1, 0),\n  Up: new Coordinate(0, -1),\n  Down: new Coordinate(0, 1),\n};\n\ntype DirectionName = keyof typeof DIRECTIONS;\n\nexport function useGridTyping(\n  code: string[][],\n  limits: Coordinate,\n  render: () => void\n): {\n  code: string[][];\n  selection: Coordinate;\n  selectionDelta: Coordinate;\n  onMouseDown: (x: number, y: number) => (e: MouseEvent) => void;\n  onMouseOver: (x: number, y: number) => (e: MouseEvent) => void;\n} {\n  const selection = useRef(new Coordinate(0, 0)).current;\n  const selectionDelta = useRef(new Coordinate(0, 0)).current;\n  const direction = useRef(new Coordinate(1, 0)).current;\n  let deleteMode = useRef<\"delete\" | \"backspace\">(\"delete\").current;\n\n  const moveSelection = useCallback((direction: Coordinate) => {\n    selection.add(direction).modulo(limits);\n  }, []);\n\n  const onKeyDown = useCallback((event) => {\n    if (event.key.length === 1 && !event.ctrlKey && !event.metaKey) {\n      fillSelection(event.key);\n      moveSelection(direction);\n      deleteMode = \"backspace\";\n      event.preventDefault();\n    } else if (event.key.match(/^Arrow/) && !event.ctrlKey && !event.metaKey) {\n      if (event.shiftKey) {\n        selectionDelta.add(DIRECTIONS[event.key.slice(5) as DirectionName]);\n      } else {\n        direction.setToCopy(DIRECTIONS[event.key.slice(5) as DirectionName]);\n        moveSelection(direction);\n        selectionDelta.set(0, 0);\n        event.preventDefault();\n      }\n      deleteMode = \"delete\";\n    } else if (event.key === \"Backspace\") {\n      if (deleteMode === \"backspace\") {\n        moveSelection(direction.clone().negative());\n        code[selection.x][selection.y] = \" \";\n      } else if (deleteMode === \"delete\") {\n        fillSelection(\" \");\n      }\n    }\n    render();\n  }, []);\n\n  const updateCode = useCallback(\n    (coords: Coordinate, modification: (char: string) => string): void => {\n      code[coords.x][coords.y] = modification(code[coords.x][coords.y]);\n    },\n    []\n  );\n\n  const fillSelection = useCallback((char: string): void => {\n    const [x0, x1] = sorted([selection.x, selection.x + selectionDelta.x]);\n    const [y0, y1] = sorted([selection.y, selection.y + selectionDelta.y]);\n    const iterationCoord = new Coordinate(0, 0);\n    for (let y = y0; y <= y1; y++) {\n      for (let x = x0; x <= x1; x++) {\n        iterationCoord.set(x, y).modulo(limits);\n        code[iterationCoord.x][iterationCoord.y] = char;\n      }\n    }\n  }, []);\n\n  const copyWithModify = useCallback(\n    (modification?: (char: string) => string) =>\n      (event: ClipboardEvent): void => {\n        let textToCopy = \"\";\n        const [x0, x1] = sorted([selection.x, selection.x + selectionDelta.x]);\n        const [y0, y1] = sorted([selection.y, selection.y + selectionDelta.y]);\n        const copyCoords = new Coordinate(0, 0);\n        for (let y = y0; y <= y1; y++) {\n          for (let x = x0; x <= x1; x++) {\n            copyCoords.set(x, y).modulo(limits);\n            textToCopy += code[copyCoords.x][copyCoords.y];\n            if (modification) updateCode(copyCoords, modification);\n          }\n          textToCopy += \"\\n\";\n        }\n        event.clipboardData?.setData(\"text/plain\", textToCopy);\n        event.preventDefault();\n        if (modification) render();\n      },\n    []\n  );\n\n  const onCut = useCallback(\n    copyWithModify(() => \" \"),\n    []\n  );\n\n  const onCopy = useCallback(copyWithModify(undefined), []);\n\n  const onPaste = useCallback((event: ClipboardEvent): void => {\n    const text = event.clipboardData?.getData(\"Text\");\n    const pasteCoords = new Coordinate(selection.x, selection.y);\n    text?.split(\"\").forEach((char: string) => {\n      if (char === \"\\n\") {\n        pasteCoords.setX(selection.x);\n        pasteCoords.setY(pasteCoords.y + 1);\n        pasteCoords.modulo(limits);\n      } else {\n        code[pasteCoords.x][pasteCoords.y] = char;\n        pasteCoords.setX(pasteCoords.x + 1);\n        pasteCoords.modulo(limits);\n      }\n    });\n    render();\n  }, []);\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", onKeyDown);\n    document.addEventListener(\"cut\", onCut);\n    document.addEventListener(\"copy\", onCopy);\n    document.addEventListener(\"paste\", onPaste);\n    return (): void => {\n      document.removeEventListener(\"keydown\", onKeyDown);\n      document.removeEventListener(\"cut\", onCut);\n      document.removeEventListener(\"copy\", onCopy);\n      document.removeEventListener(\"paste\", onPaste);\n    };\n  }, []);\n\n  const onMouseDown = useCallback(\n    (x: number, y: number): ((event: MouseEvent) => void) =>\n      (event: MouseEvent): void => {\n        if (event.shiftKey) {\n          selectionDelta.set(x - selection.x, y - selection.y);\n        } else {\n          selection.set(x, y);\n          selectionDelta.set(0, 0);\n          deleteMode = \"delete\";\n          direction.setToCopy(DIRECTIONS.Right);\n        }\n        render();\n      },\n    []\n  );\n\n  const onMouseOver = useCallback(\n    (x: number, y: number): ((event: MouseEvent) => void) =>\n      (event: MouseEvent): void => {\n        if (event.buttons % 2 === 1) {\n          selectionDelta.set(x - selection.x, y - selection.y);\n          render();\n        }\n      },\n    []\n  );\n\n  return {\n    code,\n    selection,\n    selectionDelta,\n    onMouseDown,\n    onMouseOver,\n  };\n}\n","import autoBind from \"auto-bind\";\nimport { constArray2, Coordinate } from \"../utilities\";\nimport { CommandChar } from \"./CommandChar\";\n\nenum Direction {\n  Left,\n  Right,\n  Up,\n  Down,\n}\nconst DIRECTION_VECTOR = {\n  [Direction.Left]: new Coordinate(-1, 0),\n  [Direction.Right]: new Coordinate(1, 0),\n  [Direction.Up]: new Coordinate(0, -1),\n  [Direction.Down]: new Coordinate(0, 1),\n};\n\nexport class Befunge {\n  public cursor = new Coordinate(0, 0);\n  public direction = Direction.Right;\n  public stack: number[] = [];\n  public output = \"\";\n  public stringMode = false;\n  public halted = false;\n  public limits: Coordinate;\n  public code: string[][];\n  private walking = false;\n  private running = false;\n\n  constructor(width: number, height: number, private render: () => void) {\n    this.limits = new Coordinate(width, height);\n    this.code = constArray2(width, height, \" \");\n    autoBind(this);\n  }\n\n  public walk(): void {\n    function recur(b: Befunge): () => void {\n      return (): void => {\n        if (b.walking) {\n          b.step();\n          setTimeout(recur(b), 1);\n        }\n      };\n    }\n\n    this.walking = true;\n    this.running = false;\n    recur(this)();\n  }\n\n  public run(): void {\n    function recur(b: Befunge): () => void {\n      return (): void => {\n        for (let i = 0; i < 100; i++) {\n          if (b.running) b.quickStep();\n        }\n        if (b.running) setTimeout(recur(b), 1);\n        else b.render();\n      };\n    }\n\n    this.walking = false;\n    this.running = true;\n    recur(this)();\n  }\n\n  public pause(): void {\n    this.walking = false;\n    this.running = false;\n  }\n\n  // TODO: how do we reset any changes made to the playing field by `p` commands?\n  public reset(): void {\n    this.cursor = new Coordinate(0, 0);\n    this.stack = [];\n    this.output = \"\";\n    this.halted = false;\n    this.stringMode = false;\n    this.walking = false;\n    this.render();\n  }\n\n  public quickStep(): void {\n    this.execute(this.code[this.cursor.x][this.cursor.y]);\n    this.moveCursor();\n  }\n\n  public step(): void {\n    this.execute(this.code[this.cursor.x][this.cursor.y]);\n    this.moveCursor();\n    this.render();\n  }\n\n  public moveCursor(): void {\n    this.cursor.add(DIRECTION_VECTOR[this.direction]);\n    this.cursor.modulo(this.limits);\n  }\n\n  public execute(command: string): void {\n    if (this.stringMode) this.stack.push(command.charCodeAt(0));\n    if (this.isValidCommand(command)) this[command]();\n    else this.throwUnrecognisedCommand(command, this.cursor);\n  }\n\n  public isValidCommand(command: string): command is CommandChar {\n    return command in this;\n  }\n\n  private throwUnrecognisedCommand(command: string, cursor: Coordinate): void {\n    this.output += `\\nError: Unrecognised command \"${command}\" at ${cursor.toString()}`;\n    this.halt();\n  }\n\n  private halt(): void {\n    this.halted = true;\n    this.walking = false;\n    this.running = false;\n  }\n\n  // Instructions\n  private [\"0\"](): void {\n    this.stack.push(0);\n  }\n  private [\"1\"](): void {\n    this.stack.push(1);\n  }\n  private [\"2\"](): void {\n    this.stack.push(2);\n  }\n  private [\"3\"](): void {\n    this.stack.push(3);\n  }\n  private [\"4\"](): void {\n    this.stack.push(4);\n  }\n  private [\"5\"](): void {\n    this.stack.push(5);\n  }\n  private [\"6\"](): void {\n    this.stack.push(6);\n  }\n  private [\"7\"](): void {\n    this.stack.push(7);\n  }\n  private [\"8\"](): void {\n    this.stack.push(8);\n  }\n  private [\"9\"](): void {\n    this.stack.push(9);\n  }\n  private [\"+\"](): void {\n    this.stack.push((this.stack.pop() ?? 0) + (this.stack.pop() ?? 0));\n  }\n  private [\"-\"](): void {\n    this.stack.push(-(this.stack.pop() ?? 0) + (this.stack.pop() ?? 0));\n  }\n  private [\"/\"](): void {\n    this.stack.push(\n      Math.floor((1 / (this.stack.pop() ?? 1)) * (this.stack.pop() || 1)) // handle division by 0?\n    );\n  }\n  private [\"*\"](): void {\n    this.stack.push((this.stack.pop() ?? 1) * (this.stack.pop() ?? 1));\n  }\n  private [\"%\"](): void {\n    const a = this.stack.pop() ?? 1;\n    const b = this.stack.pop() ?? 1;\n    this.stack.push(b % a);\n  }\n  private [\"!\"](): void {\n    this.stack.push(Number(!this.stack.pop()));\n  }\n  private [\"`\"](): void {\n    const a = this.stack.pop() ?? 0;\n    const b = this.stack.pop() ?? 0;\n    this.stack.push(Number(a < b));\n  }\n  private [\">\"](): void {\n    this.direction = Direction.Right;\n  }\n  private [\"<\"](): void {\n    this.direction = Direction.Left;\n  }\n  private [\"^\"](): void {\n    this.direction = Direction.Up;\n  }\n  private [\"v\"](): void {\n    this.direction = Direction.Down;\n  }\n  private [\"?\"](): void {\n    this.direction = Math.floor(Math.random() * 4);\n  }\n  private [\"_\"](): void {\n    this.direction = this.stack.pop() ? Direction.Left : Direction.Right;\n  }\n  private [\"|\"](): void {\n    this.direction = this.stack.pop() ? Direction.Up : Direction.Down;\n  }\n  private ['\"'](): void {\n    this.stringMode = !this.stringMode;\n  }\n  private [\":\"](): void {\n    this.stack.push(this.stack[this.stack.length - 1]);\n  }\n  private [\"\\\\\"](): void {\n    const a = this.stack.pop();\n    const b = this.stack.pop();\n    if (a !== undefined) this.stack.push(a);\n    if (b !== undefined) this.stack.push(b);\n  }\n  private [\"$\"](): void {\n    this.stack.pop();\n  }\n  private [\"#\"](): void {\n    this.moveCursor();\n  }\n  private [\"g\"](): void {\n    this.stack.push(\n      this.code[this.stack.pop() ?? 0][this.stack.pop() ?? 0].charCodeAt(0)\n    );\n  }\n  private [\"p\"](): void {\n    this.code[this.stack.pop() ?? 0][this.stack.pop() ?? 0] =\n      String.fromCharCode(this.stack.pop() ?? 32); // 32 is [space]\n  }\n  private [\".\"](): void {\n    this.output += (this.stack.pop() ?? 0).toString(10);\n  }\n  private [\",\"](): void {\n    const a = this.stack.pop();\n    if (a !== undefined) this.output += String.fromCharCode(a);\n  }\n  // TODO: input/output methods: ., ,, &, and ~\n  private [\"@\"](): void {\n    this.halt();\n  }\n  private [\" \"](): void {} // eslint-disable-line @typescript-eslint/no-empty-function\n}\n","export function constArray2<T>(width: number, height: number, value: T): T[][] {\n  return Array(width)\n    .fill(false)\n    .map(() => Array(height).fill(value));\n}\n","import { Coordinate } from \"../utilities\";\nimport { useCallback, useRef, useState, MouseEvent } from \"react\";\nimport { useGridTyping } from \"./useGridTyping\";\nimport { Befunge } from \"../Befunge\";\n\nexport function useBefunge(\n  width: number,\n  height: number\n): {\n  code: string[][];\n  selection: Coordinate;\n  selectionDelta: Coordinate;\n  onMouseDown: (x: number, y: number) => (e: MouseEvent) => void;\n  onMouseOver: (x: number, y: number) => (e: MouseEvent) => void;\n  befunge: Befunge;\n} {\n  const setRenderHelper = useState(0)[1];\n  const render = useCallback(() => {\n    setRenderHelper(Math.random());\n  }, []);\n\n  const b = useRef(new Befunge(width, height, render)).current;\n\n  const { code, selection, selectionDelta, onMouseDown, onMouseOver } =\n    useGridTyping(b.code, b.limits, render);\n\n  return {\n    code,\n    selection,\n    selectionDelta,\n    onMouseDown,\n    onMouseOver,\n    befunge: b,\n  };\n}\n","import React, { FC } from \"react\";\nimport MaterialButton from \"@material-ui/core/Button\";\n\ninterface Props {\n  label: string | FC<{ color?: string }>;\n  onClick: () => void;\n  disabled?: boolean;\n  style?: React.CSSProperties;\n}\n\nexport function Button({ label, onClick, ...rest }: Props): React.ReactElement {\n  return (\n    <MaterialButton\n      variant=\"contained\"\n      size=\"small\"\n      disableElevation\n      onClick={onClick}\n      {...rest}\n    >\n      {label}\n    </MaterialButton>\n  );\n}\n","import Color from \"color\";\n\nexport const Colors = {\n  DARK: Color(\"#283134\"),\n  LIGHT: Color(\"#f7f9f9\"),\n  GREY: Color(\"#CCCCCC\"),\n  WRITING_CURSOR: Color(\"#CCEAFF\"),\n  EXECUTING_CURSOR: Color(\"#FFE0CC\"),\n  ACCENT: Color(\"#09b2eb\"),\n};\n","import styled from \"styled-components\";\n\nexport const Row = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n`;\n","import React, { MouseEvent } from \"react\";\nimport styled from \"styled-components\";\nimport { Colors } from \"../../ui/Colors\";\n\nconst LIGHT = Colors.LIGHT.toString();\nconst BOTH_CURSORS = Colors.GREY.toString();\nconst WRITING_CURSOR = Colors.WRITING_CURSOR.toString();\nconst EXECUTING_CURSOR = Colors.EXECUTING_CURSOR.toString();\n\nexport function Square({\n  val,\n  selected,\n  cursored,\n  onMouseDown,\n  onMouseOver,\n}: {\n  val: string;\n  selected: boolean;\n  cursored: boolean;\n  onMouseDown: (e: MouseEvent) => void;\n  onMouseOver: (e: MouseEvent) => void;\n}): React.ReactElement {\n  const color = !(selected || cursored)\n    ? LIGHT\n    : selected && cursored\n    ? BOTH_CURSORS\n    : selected\n    ? WRITING_CURSOR\n    : EXECUTING_CURSOR;\n\n  return (\n    <Background\n      color={color}\n      onMouseDown={onMouseDown}\n      onMouseOver={onMouseOver}\n    >\n      {val}\n    </Background>\n  );\n}\n\nconst Background = styled.div<{ color: string }>`\n  width: 16px;\n  height: 16px;\n  background-color: ${({ color }): string => color};\n  border-right: 1px solid #bbbbbb;\n  border-bottom: 1px solid #bbbbbb;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -khtml-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n`;\n","import React, { useCallback, MouseEvent } from \"react\";\nimport { Row } from \"../../ui\";\nimport { Square } from \"./Square\";\nimport { Coordinate, modulo, range } from \"../../utilities\";\n\nexport function Grid({\n  code,\n  selection,\n  selectionDelta,\n  onMouseDown,\n  onMouseOver,\n  limits,\n  cursor,\n}: {\n  code: string[][];\n  selection: Coordinate;\n  selectionDelta: Coordinate;\n  onMouseDown: (x: number, y: number) => (e: MouseEvent) => void;\n  onMouseOver: (x: number, y: number) => (e: MouseEvent) => void;\n  limits: Coordinate;\n  cursor: Coordinate;\n}): React.ReactElement {\n  const isSelectedX = useCallback(\n    getSelectionCheckFunction(selection.x, selectionDelta.x, limits.x),\n    [selection.x, selectionDelta.x]\n  );\n\n  const isSelectedY = useCallback(\n    getSelectionCheckFunction(selection.y, selectionDelta.y, limits.y),\n    [selection.y, selectionDelta.y]\n  );\n\n  return (\n    <div style={{ overflow: \"hidden\" }}>\n      <div style={{ marginRight: -1, marginBottom: -1 }}>\n        {range(0, limits.y).map((y) => (\n          <Row key={y}>\n            {range(0, limits.x).map((x) => (\n              <Square\n                val={code[x][y]}\n                selected={isSelectedX(x) && isSelectedY(y)}\n                cursored={x === cursor.x && y === cursor.y}\n                onMouseDown={onMouseDown(x, y)}\n                onMouseOver={onMouseOver(x, y)}\n                key={`${x},${y}`}\n              />\n            ))}\n          </Row>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction getSelectionCheckFunction(\n  coordinate: number,\n  delta: number,\n  limit: number\n): (a: number) => boolean {\n  if (delta === 0) return (a: number): boolean => a === coordinate;\n  const sum = coordinate + delta;\n  const modSum = modulo(coordinate + delta, limit);\n  if (delta < 0) {\n    if (modSum === sum)\n      return (a: number): boolean => coordinate + delta <= a && a <= coordinate;\n    else return (a: number): boolean => a <= coordinate || a >= modSum;\n  } else {\n    if (modSum === sum)\n      return (a: number): boolean => coordinate <= a && a <= coordinate + delta;\n    else return (a: number): boolean => a <= modSum || a >= coordinate;\n  }\n}\n","export function modulo(a: number, b: number): number {\n  return ((a % b) + b) % b;\n}\n","import React from \"react\";\nimport { Colors } from \"../ui/Colors\";\n\ninterface Props {\n  stack: number[];\n  style?: React.CSSProperties;\n}\n\nexport function Stack({ stack, style }: Props): React.ReactElement {\n  return (\n    <div\n      style={{\n        width: 120,\n        alignSelf: \"stretch\",\n        backgroundColor: Colors.LIGHT.toString(),\n        padding: 8,\n        overflow: \"scroll\",\n        scrollbarWidth: \"none\",\n        ...style,\n      }}\n    >\n      {stack\n        .slice()\n        .reverse()\n        .map((value, index) => (\n          <div key={index}>{value}</div>\n        ))}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Colors } from \"../ui\";\n\ninterface Props {\n  output: string;\n  style?: React.CSSProperties;\n}\n\nexport function Output({ output, style }: Props): React.ReactElement {\n  return (\n    <div\n      style={{\n        flexBasis: 0,\n        flexGrow: 1,\n        flexShrink: 1,\n        minWidth: 0,\n        alignSelf: \"stretch\",\n        backgroundColor: Colors.LIGHT.toString(),\n        padding: 8,\n        overflow: \"scroll\",\n        scrollbarWidth: \"none\",\n        ...style,\n      }}\n    >\n      {output}\n    </div>\n  );\n}\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { useBefunge } from \"./useBefunge\";\nimport { Grid } from \"./Grid\";\nimport { Stack } from \"./Stack\";\nimport { Output } from \"./Output\";\nimport { Row, Button } from \"../ui\";\n\nexport function CodingSpace(): React.ReactElement {\n  const {\n    code,\n    selection,\n    selectionDelta,\n    onMouseOver,\n    onMouseDown,\n    befunge: b,\n  } = useBefunge(48, 32);\n\n  return (\n    <Container>\n      <Grid\n        code={code}\n        selection={selection}\n        selectionDelta={selectionDelta}\n        onMouseOver={onMouseOver}\n        onMouseDown={onMouseDown}\n        limits={b.limits}\n        cursor={b.cursor}\n      />\n      <Row style={{ marginTop: 16, width: 816, height: 200 }}>\n        <Stack stack={b.stack} />\n        <ButtonColumn style={{ marginLeft: 16 }}>\n          <Button label={\"Step\"} onClick={b.step} />\n          <Button label={\"Walk\"} onClick={b.walk} style={{ marginTop: 8 }} />\n          <Button label={\"Run\"} onClick={b.run} style={{ marginTop: 8 }} />\n          <Button label={\"Pause\"} onClick={b.pause} style={{ marginTop: 8 }} />\n          <Button label={\"Reset\"} onClick={b.reset} style={{ marginTop: 8 }} />\n        </ButtonColumn>\n        <Output output={b.output} style={{ marginLeft: 16 }} />\n      </Row>\n    </Container>\n  );\n}\n\nconst Container = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst ButtonColumn = styled.div`\n  align-self: stretch;\n  justify-content: space-between;\n  display: flex;\n  flex-direction: column;\n`;\n","import React from \"react\";\nimport { CodingSpace } from \"./components/CodingSpace\";\nimport { Colors } from \"./ui/Colors\";\n\nfunction App(): React.ReactElement {\n  return (\n    <div\n      style={{\n        backgroundColor: Colors.DARK.toString(),\n        display: \"flex\",\n        minHeight: \"100vh\",\n        padding: 24,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n      }}\n    >\n      <CodingSpace />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}